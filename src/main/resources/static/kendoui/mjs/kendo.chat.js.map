{"version":3,"file":"kendo.chat.js","names":["$","undefined$1","kendo","window","Widget","ui","extend","NS","keys","ChatMessageBox","init","element","options","fn","call","this","_wrapper","_attachEvents","_typing","events","messages","placeholder","toggleButton","sendButton","destroy","input","off","remove","empty","styles","inputId","guid","addClass","hidden","html","attr","appendTo","inputWrapper","inputSuffix","toolbar","toggleable","buttons","length","button","buttonFlat","iconButton","buttonToggle","type","title","toolbarId","append","buttonSend","on","_keydown","bind","_input","_inputFocusout","_buttonClick","_toggleToolbar","start","val","_triggerTyping","e","keyCode","ENTER","preventDefault","_sendMessage","F10","trigger","value","args","text","ev","originalEvent","buttonIcon","iconAdd","chat","jQuery","DATA_K_BUTTON_NAME","SCROLL_LEFT_NAME","SCROLL_RIGHT_NAME","VISIBLE","TABINDEX","DEFAULT_ANIMATION","effects","duration","NO_ANIMATION","expand","show","collapse","hide","ChatToolBar","toolbarOptions","name","buttonsDefined","_createButtonList","scrollable","buttonsWidth","width","_initScrolling","_setupAnimation","toggle","_onClick","_onKeydown","buttonList","i","_createButton","first","removeAttr","btnOptions","attributes","buttonElm","tabindex","data","buttonDefaults","iconClass","prepend","target","closest","is","scrollButton","_scrolling","_scroll","key","LEFT","_focusButton","RIGHT","dir","current","not","candidate","index","removeAttribute","focus","scrollButtonLeft","scrollButtonLeftIcon","class","scrollButtonRight","scrollButtonRightIcon","_refreshScrollButtons","commandName","that","buttonWidth","maxScrollSize","scrollAmmount","scrollValue","currentScrollLeft","Math","min","max","scrollLeft","isNaN","parseInt","animation","defaultExpandAnimation","defaultCollapseAnimation","reverse","_animationComplete","_animationCompleteExpand","round","scrollWidth","clientWidth","children","last","outerWidth","skipAnimation","complete","kendoStop","kendoAnimate","encode","htmlEncode","DOT","IMG_TEMPLATE","url","avatar","MESSAGE_GROUP_TEMPLATE","messageGroup","noAvatar","author","SELF_MESSAGE_GROUP_TEMPLATE","self","TEXT_MESSAGE_TEMPLATE","timestamp","message","messageTime","toString","parseDate","bubble","TYPING_INDICATOR_TEMPLATE","messageListContent","typingIndicatorBubble","typingIndicator","CARD_ACTIONS_TEMPLATE","cardActions","cardActionsVertical","map","cardAction","buttonPrimary","CARD_ACTION_BUTTON_TEMPLATE","join","HERO_CARD_TEMPLATE","images","subtitle","card","cardRich","alt","cardImage","HERO_IMG_TEMPLATE","cardBody","cardTitle","cardSubtitle","Templates","Components","registerTemplate","templateName","template","getTemplate","suggestedActions","action","suggestedAction","SUGGESTED_ACTION_TEMPLATE","registerComponent","componentName","component","getComponent","Component","Class","view","Calendar","kendoCalendar","change","viewStyles","wrapper","messageList","only","middle","scrollButtonIcon","scrollButtonIconLeft","scrollButtonIconRight","cardWrapper","cardDeckScrollWrap","cardDeck","cardList","selected","ChatView","_list","_lastSender","typingParticipants","_scrollable","isTyping","areTyping","and","_scrollDraggable","list","messageListLabel","_listClick","_messageClick","_suggestedActionClick","_cardActionClick","_suggestedActionKeydown","_scrollButtonClick","currentTarget","scrollToLeft","find","scrollContainer","siblings","cardWidth","renderMessage","sender","Date","bubbleElement","_renderTemplate","_renderBubble","_removeTypingParticipant","id","renderSuggestedActions","_removeSuggestedActions","_scrollToBottom","renderAttachments","_renderAttachmentWrapper","attachmentLayout","cardContainer","attachments","cardElement","contentType","content","_removeTypingIndicator","renderComponent","layout","buttonLeft","_renderScrollButton","buttonRight","directionClass","targetElement","hasClass","parents","_clearSelection","SPACEBAR","messageType","group","_getMessageGroup","_appendToGroup","componentType","templateOptions","_getMessageGroupTemplate","appendTarget","iconUrl","user","messageElement","childrenCount","filter","removeClass","_renderTypingIndicator","participants","indicator","_addTypingParticipant","_composeTypingParticipantsText","found","push","splice","typingAction","typingText","replace","trimRight","selectedClass","scrollTop","prop","__meta__","category","description","depends","chatStyles","canvas","viewWrapper","messageBoxWrapper","toolbarBoxWrapper","Chat","_events","_user","_view","_toolbar","_messageBox","notify","setOptions","_setEvents","messageBox","unbind","_resetToolbarButtons","getUser","height","uiElements","css","postMessage","toggleToolbar","postArgs","from","renderUserTypingIndicator","clearUserTypingIndicator","removeTypingIndicator","plugin"],"sources":["kendo.chat.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.draganddrop.js';\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var NS = \".kendoChat\";\n    var keys = kendo.keys;\n    var SEND_ICON = '<svg version=\"1.1\" ixmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 16 16\" xml:space=\"preserve\"><path d=\"M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z\"/></svg>';\n    var TOGGLE_ICON = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\"><g>   <path d=\"M128,240c0-26.4-21.6-48-48-48s-48,21.6-48,48s21.6,48,48,48S128,266.4,128,240z\"/>   <path d=\"M192,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C213.6,192,192,213.6,192,240z\"/>   <path d=\"M352,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C373.6,192,352,213.6,352,240z\"/></g></svg>';\n\n    var messageBoxStyles = {\n        input: \"k-input-inner\",\n        inputWrapper: \"k-textbox k-input k-input-lg k-input-solid\",\n        button: \"k-button\",\n        buttonFlat: \"k-button-lg k-button-flat k-button-flat-base\",\n        iconButton: \"k-icon-button\",\n        buttonIcon: \"k-button-icon\",\n        buttonSend: \"k-button-send\",\n        buttonToggle: \"k-button-toggle\",\n        iconAdd: \"k-icon k-i-add\",\n        hidden: \"k-hidden\",\n        inputSuffix: \"k-input-suffix\"\n    };\n\n    var ChatMessageBox = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._wrapper();\n\n            this._attachEvents();\n\n            this._typing = false;\n        },\n\n        events: [\n            \"focusToolbar\",\n            \"sendMessage\",\n            \"toggleToolbar\",\n            \"typingEnd\",\n            \"typingStart\"\n        ],\n\n        options: {\n            messages: {\n                placeholder: \"Type a message...\",\n                toggleButton: \"Toggle toolbar\",\n                sendButton: \"Send message\"\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.input) {\n                this.input.off(NS);\n                this.input.remove();\n                this.input = null;\n            }\n\n            this.element.off(NS);\n            this.element.empty();\n        },\n\n        _wrapper: function() {\n            var styles = ChatMessageBox.styles;\n            var options = this.options;\n            var messages = options.messages;\n            var inputId = \"inputId_\" + kendo.guid();\n\n            $(\"<label>\")\n                .addClass(styles.hidden)\n                .html(messages.placeholder)\n                .attr(\"for\", inputId)\n                .appendTo(this.element);\n\n            this.inputWrapper = this.element\n                .addClass(styles.inputWrapper)\n                .appendTo(this.element);\n\n            this.input = $(\"<input type='text'>\")\n                .addClass(styles.input)\n                .attr(\"id\", inputId)\n                .attr(\"placeholder\", messages.placeholder)\n                .appendTo(this.inputWrapper);\n\n            this.inputSuffix = $(\"<span></span>\")\n                .addClass(styles.inputSuffix)\n                .appendTo(this.inputWrapper);\n\n            if (options.toolbar && options.toolbar.toggleable && options.toolbar.buttons && options.toolbar.buttons.length) {\n                $(\"<button>\")\n                    .addClass(styles.button)\n                    .addClass(styles.buttonFlat)\n                    .addClass(styles.iconButton)\n                    .addClass(styles.buttonToggle)\n                    .attr({\n                        type: \"button\",\n                        title: messages.toggleButton,\n                        \"aria-label\": messages.toggleButton,\n                        \"aria-controls\": options.toolbarId\n                    })\n                    .append($(TOGGLE_ICON))\n                    .appendTo(this.inputSuffix);\n            }\n\n            $(\"<button>\")\n                .addClass(styles.button)\n                .addClass(styles.buttonFlat)\n                .addClass(styles.iconButton)\n                .addClass(styles.buttonSend)\n                .append($(SEND_ICON))\n                .appendTo(this.inputSuffix)\n                .attr(\"title\", messages.sendButton)\n                .attr(\"aria-label\", messages.sendButton);\n        },\n\n        _attachEvents: function() {\n            var styles = ChatMessageBox.styles;\n\n            this.input\n                .on(\"keydown\" + NS, this._keydown.bind(this))\n                .on(\"input\" + NS, this._input.bind(this))\n                .on(\"focusout\" + NS, this._inputFocusout.bind(this));\n\n            this.element\n                .on(\"click\" + NS, DOT + styles.buttonSend, this._buttonClick.bind(this));\n\n            this.element\n                .on(\"click\" + NS, DOT + styles.buttonToggle, this._toggleToolbar.bind(this));\n        },\n\n        _input: function() {\n            var currentValue = this.input.val();\n            var start = currentValue.length > 0;\n\n            this._triggerTyping(start);\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n\n            switch (key) {\n                case keys.ENTER:\n                    e.preventDefault();\n\n                    this._sendMessage();\n                    break;\n                case keys.F10:\n                    e.preventDefault();\n\n                    this.trigger(\"focusToolbar\");\n                    break;\n            }\n        },\n\n        _buttonClick: function(e) {\n            e.preventDefault();\n\n            this._sendMessage();\n        },\n\n        _sendMessage: function() {\n            var value = this.input.val();\n\n            if (!value.length) {\n                return;\n            }\n\n            this._triggerTyping(false);\n\n            var args = {\n                text: value\n            };\n\n            this.trigger(\"sendMessage\", args);\n\n            this.input.val(\"\");\n        },\n\n        _inputFocusout: function() {\n            this._triggerTyping(false);\n        },\n\n        _triggerTyping: function(start) {\n            if (start) {\n                if (!this._typing) {\n                    this.trigger(\"typingStart\", {});\n                    this._typing = true;\n                }\n            } else {\n                if (this._typing) {\n                    this.trigger(\"typingEnd\", {});\n                    this._typing = false;\n                }\n            }\n        },\n\n        _toggleToolbar: function(ev) {\n            this.trigger(\"toggleToolbar\", { originalEvent: ev });\n        }\n    });\n\n    extend(true, ChatMessageBox, { styles: messageBoxStyles });\n    extend(kendo, {\n        chat: {\n            ChatMessageBox: ChatMessageBox\n        }\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var NS = \".kendoChat\";\n\n    var DATA_K_BUTTON_NAME = \"kButtonName\";\n    var SCROLL_LEFT_NAME = \"chatToolbarScrollLeft\";\n    var SCROLL_RIGHT_NAME = \"chatToolbarScrollRight\";\n    var VISIBLE = \":visible\";\n    var TABINDEX = \"tabindex\";\n\n    var DEFAULT_ANIMATION = {\n        effects: \"expand:vertical\",\n        duration: 200\n    };\n    var NO_ANIMATION = {\n        expand: {\n            show: true\n        },\n        collapse: {\n            hide: true\n        }\n    };\n\n    var toolbarStyles = {\n        button: \"k-button\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        buttonList: \"k-button-list\",\n        scrollButton: \"k-scroll-button\",\n        scrollButtonLeft: \"k-scroll-button-left\",\n        scrollButtonRight: \"k-scroll-button-right\",\n        scrollButtonLeftIcon: \"k-icon k-i-arrow-chevron-left\",\n        scrollButtonRightIcon: \"k-icon k-i-arrow-chevron-right\",\n        iconButton: \"k-icon-button\"\n    };\n\n    var ChatToolBar = Widget.extend({\n        init: function(element, options) {\n            options = extend({}, options, { name: \"ChatToolbar\" });\n            var toolbarOptions = options.toolbar;\n            var buttonsDefined = toolbarOptions.buttons && toolbarOptions.buttons.length;\n\n            Widget.fn.init.call(this, element, options);\n\n            if (buttonsDefined) {\n                this._createButtonList();\n            }\n\n            if (buttonsDefined && toolbarOptions.scrollable &&\n                    this.buttonsWidth() > this.element.width()) {\n                this._initScrolling();\n            }\n\n            this._setupAnimation();\n\n            if (buttonsDefined && toolbarOptions.toggleable) {\n                this.toggle(true);\n            }\n\n            this.element\n                .on(\"click\" + NS, this._onClick.bind(this))\n                .on(\"keydown\" + NS, this._onKeydown.bind(this));\n        },\n\n        events: [\n            \"click\"\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n            this.element.empty();\n        },\n\n        _createButtonList: function() {\n            var that = this;\n            var styles = ChatToolBar.styles;\n            var buttons = that.options.toolbar.buttons;\n            var buttonList = $(\"<div class='\" + styles.buttonList + \"'></div>\");\n\n            for (var i = 0; i < buttons.length; i++) {\n                var button = that._createButton(buttons[i]);\n                buttonList.append(button);\n            }\n\n            buttonList.appendTo(this.element);\n\n            this.buttonList = buttonList;\n            this.buttons().first().removeAttr(TABINDEX);\n        },\n\n        _createButton: function(btnOptions) {\n            var styles = ChatToolBar.styles;\n            var buttonElm = $(\"<button>\");\n            var attributes;\n\n            if (typeof btnOptions === \"string\") {\n                btnOptions = {\n                    name: btnOptions\n                };\n            }\n\n            attributes = $.extend({}, btnOptions.attr || {}, {\n                title: btnOptions.text || btnOptions.name,\n                \"aria-label\": btnOptions.text || btnOptions.name,\n                type: \"button\",\n                tabindex: -1\n            });\n\n            buttonElm\n                .attr(attributes)\n                .addClass(btnOptions.name)\n                .data(DATA_K_BUTTON_NAME, btnOptions.name)\n                .addClass(styles.button)\n                .addClass(styles.buttonDefaults);\n\n            if (btnOptions.iconClass) {\n                buttonElm.addClass(styles.iconButton);\n                buttonElm.prepend(\"<span class='k-button-icon \" + btnOptions.iconClass + \"'></span>\");\n            }\n\n            return buttonElm;\n        },\n\n        _onClick: function(ev) {\n            var styles = ChatToolBar.styles;\n            var target = $(ev.target).closest(DOT + styles.button);\n\n            if (target.is(DOT + styles.scrollButton) && !this._scrolling) {\n                this._scroll(target.data(DATA_K_BUTTON_NAME));\n            }\n\n            if (target.data(DATA_K_BUTTON_NAME)) {\n                this.buttons().attr(TABINDEX, -1);\n                target.removeAttr(TABINDEX);\n\n                this.trigger(\"click\", {\n                    button: target[0],\n                    name: target.data(DATA_K_BUTTON_NAME),\n                    originalEvent: ev\n                });\n            }\n        },\n\n        _onKeydown: function(e) {\n            var key = e.keyCode,\n                keys = kendo.keys;\n\n            switch (key) {\n                case keys.LEFT:\n                    this._focusButton(-1);\n                    break;\n                case keys.RIGHT:\n                    this._focusButton(1);\n                    break;\n            }\n        },\n\n        _focusButton: function(dir) {\n            var buttons = this.buttons(),\n                current = buttons.not(\"[tabindex=-1]\"),\n                candidateIndex = current.index() + dir,\n                candidate = buttons[candidateIndex];\n\n            if (candidate) {\n                current.attr(TABINDEX, -1);\n                candidate.removeAttribute(TABINDEX);\n                candidate.focus();\n            }\n        },\n\n        _initScrolling: function() {\n            var styles = ChatToolBar.styles;\n\n            this.scrollButtonLeft = this._createButton({\n                name: SCROLL_LEFT_NAME,\n                iconClass: styles.scrollButtonLeftIcon,\n                attr: {\n                    \"class\": styles.scrollButton + \" \" + styles.scrollButtonLeft\n                }\n            });\n\n            this.scrollButtonRight = this._createButton({\n                name: SCROLL_RIGHT_NAME,\n                iconClass: styles.scrollButtonRightIcon,\n                attr: {\n                    \"class\": styles.scrollButton + \" \" + styles.scrollButtonRight\n                }\n            });\n\n            this.element.prepend(this.scrollButtonLeft);\n            this.element.append(this.scrollButtonRight);\n            this._refreshScrollButtons();\n\n            this.element.on(\"keydown\" + NS, this._refreshScrollButtons.bind(this));\n        },\n\n        _scroll: function(commandName) {\n            var that = this;\n            var buttonWidth = that.buttonWidth();\n            var maxScrollSize = this.maxScrollSize();\n            var scrollAmmount = commandName === SCROLL_LEFT_NAME ? buttonWidth * -1 : buttonWidth;\n            var currentScroll = this.currentScrollLeft();\n            var scrollValue = currentScroll + scrollAmmount;\n            scrollValue = Math.min(Math.max(scrollValue, 0), maxScrollSize);\n\n            if (commandName !== SCROLL_LEFT_NAME && commandName !== SCROLL_RIGHT_NAME) {\n                return;\n            }\n\n            kendo.scrollLeft(that.buttonList, scrollValue);\n            that._refreshScrollButtons(scrollValue);\n        },\n\n        _refreshScrollButtons: function(value) {\n            var maxScrollSize = this.maxScrollSize();\n            var currentScrollLeft = value === undefined$1 || isNaN(parseInt(value, 10)) ? this.currentScrollLeft() : value;\n\n            if (!this.scrollButtonLeft && !this.scrollButtonRight) {\n                return;\n            }\n\n            this.scrollButtonLeft.toggle(currentScrollLeft !== 0);\n            this.scrollButtonRight.toggle(currentScrollLeft !== maxScrollSize);\n        },\n\n        _setupAnimation: function() {\n            var animation = this.options.toolbar.animation;\n            var defaultExpandAnimation = extend({}, DEFAULT_ANIMATION);\n            var defaultCollapseAnimation = extend({\n                reverse: true,\n                hide: true\n            }, DEFAULT_ANIMATION);\n\n            if (animation === false) {\n                animation = extend(true, {}, NO_ANIMATION);\n            } else {\n                animation = extend(true, {\n                    expand: defaultExpandAnimation,\n                    collapse: defaultCollapseAnimation\n                }, animation);\n            }\n\n            this.options.toolbar.animation = animation;\n        },\n\n        _animationComplete: function() {\n            this._refreshScrollButtons();\n        },\n\n        _animationCompleteExpand: function() {\n            this._animationComplete();\n            this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n        },\n\n        currentScrollLeft: function() {\n            return Math.round(kendo.scrollLeft(this.buttonList));\n        },\n\n        maxScrollSize: function() {\n            return Math.round(this.buttonList[0].scrollWidth - this.buttonList[0].clientWidth);\n        },\n\n        buttons: function() {\n            var styles = ChatToolBar.styles;\n            return this.buttonList ? this.buttonList.children(DOT + styles.button) : null;\n        },\n\n        buttonWidth: function() {\n            return Math.round(this.buttons().last().outerWidth(true));\n        },\n\n        buttonsWidth: function() {\n            var width = 0;\n\n            if (this.buttons()) {\n                width = this.buttonWidth() * this.buttons().length;\n            }\n\n            return width;\n        },\n\n        toggle: function(skipAnimation) {\n            var animation = this.options.toolbar.animation;\n\n            if (skipAnimation) {\n                animation = extend(true, {}, NO_ANIMATION);\n            }\n\n            animation.expand.complete = this._animationCompleteExpand.bind(this);\n            animation.collapse.complete = this._animationComplete.bind(this);\n\n            if (this.element.is(VISIBLE)) {\n                this.element.kendoStop().kendoAnimate(animation.collapse);\n            } else {\n                this.element.kendoStop().kendoAnimate(animation.expand);\n            }\n\n        },\n\n        focus: function() {\n            if (!this.element.is(VISIBLE)) {\n                this.toggle();\n            } else {\n                this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n            }\n        }\n    });\n\n    extend(true, ChatToolBar, { styles: toolbarStyles });\n    extend(kendo.chat, {\n        ChatToolBar: ChatToolBar\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var encode = kendo.htmlEncode;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var SPACE = \" \";\n    var NS = \".kendoChat\";\n\n    var IMG_TEMPLATE = ({ url, text, styles }) => `<img src=\"${url}\" alt=\"${encode(text)}\" class=\"${styles.avatar}\">`;\n\n    var MESSAGE_GROUP_TEMPLATE = ({ text, url, styles }) => `<div ${encode(text)} class=\"${styles.messageGroup} ${ url ? \"\" : styles.noAvatar }\">\n            <p class=\"${styles.author}\">${encode(text)}</p>\n            ${ url ? IMG_TEMPLATE({ url, text, styles }) : '' }\n        </div>`;\n\n    var SELF_MESSAGE_GROUP_TEMPLATE = ({ url, text, styles }) => `<div me class=\"${styles.messageGroup} ${styles.self} ${ url ? \"\" : styles.noAvatar }\">\n        ${ url ? IMG_TEMPLATE({ url, text, styles }) : '' }\n    </div>`;\n\n    var TEXT_MESSAGE_TEMPLATE = ({ styles, text, timestamp }) => `<div class=\"${styles.message}\">\n        <time class=\"${styles.messageTime}\">${ kendo.toString(kendo.parseDate(timestamp), \"HH:mm:ss\") }</time>\n        <div class=\"${styles.bubble}\">${encode(text)}</div>\n    </div>`;\n\n    var TYPING_INDICATOR_TEMPLATE = ({ styles, text }) => `<div class=\"${styles.messageListContent} ${styles.typingIndicatorBubble}\">\n        <p class=\"${styles.author}\">${encode(text)}</p>\n        <div class=\"${styles.message}\">\n            <div class=\"${styles.bubble}\">\n                <div class=\"${styles.typingIndicator}\">\n                    <span></span><span></span><span></span>\n                '</div>\n            </div>\n        </div>\n    </div>`;\n\n    var SUGGESTED_ACTION_TEMPLATE = ({ styles, action }) => `<span role=\"button\" tabindex=\"0\" class=\"${styles.suggestedAction}\" data-value=\"${encode(action.value)}\">${encode(action.title)}</span>`;\n\n    var SUGGESTED_ACTIONS_TEMPLATE = ({ styles, suggestedActions }) => `<div class=\"${styles.suggestedActions}\">\n        ${ suggestedActions.map(action => SUGGESTED_ACTION_TEMPLATE({ styles, action })).join('') }\n    </div>`;\n\n    var HERO_IMG_TEMPLATE = ({ images, styles }) => `<img src=\"${encode(images[0].url)}\" alt=\"${images[0].alt}\" class=\"${styles.cardImage}\" />`;\n\n    var CARD_ACTION_BUTTON_TEMPLATE = ({ button, styles }) => `<span class=\"${styles.cardAction}\"><span class=\"${styles.button} ${styles.buttonPrimary}\" data-value=\"${encode(button.value)}\">${encode(button.title)}</span></span>`;\n\n    var CARD_ACTIONS_TEMPLATE = ({ styles, buttons }) => `<div class=\"${styles.cardActions} ${styles.cardActionsVertical}\">\n        ${ buttons.map((button) => CARD_ACTION_BUTTON_TEMPLATE({ styles, button })).join('') }\n    </div>`;\n\n    var HERO_CARD_TEMPLATE = ({ styles, images, buttons, title, subtitle, text }) => `<div class=\"${styles.card} ${styles.cardRich}\">\n        ${ (typeof images !== \"undefined\" && images.length > 0) ? HERO_IMG_TEMPLATE({ images, styles }) : '' }\n        <div class=\"${styles.cardBody}\">\n            ${ typeof title !== \"undefined\" ? (() => `<h5 class=\"${styles.cardTitle}\">${encode(title)}</h5>`)() : '' }\n            ${ typeof subtitle !== \"undefined\" ? (() => `<h6 class=\"${styles.cardSubtitle}\">${encode(subtitle)}</h6>`)() : '' }\n            ${ typeof text !== \"undefined\" ? (() => `<p>${encode(text)}</p>`)() : '' }\n        </div>\n        ${ (typeof buttons !== \"undefined\" && buttons.length > 0) ? CARD_ACTIONS_TEMPLATE({ buttons, styles }) : ''}\n    </div>`;\n\n    extend(kendo.chat, {\n        Templates: {},\n        Components: {}\n    });\n\n    kendo.chat.registerTemplate = function(templateName, template) {\n        kendo.chat.Templates[templateName] = kendo.template(template);\n    };\n\n    kendo.chat.getTemplate = function(templateName) {\n        return kendo.chat.Templates[templateName] || TEXT_MESSAGE_TEMPLATE;\n    };\n\n    kendo.chat.registerTemplate(\"text\", TEXT_MESSAGE_TEMPLATE);\n    kendo.chat.registerTemplate(\"message\", TEXT_MESSAGE_TEMPLATE);\n    kendo.chat.registerTemplate(\"typing\", TYPING_INDICATOR_TEMPLATE);\n    kendo.chat.registerTemplate(\"suggestedAction\", SUGGESTED_ACTIONS_TEMPLATE);\n    kendo.chat.registerTemplate(\"heroCard\", HERO_CARD_TEMPLATE);\n    kendo.chat.registerTemplate(\"application/vnd.microsoft.card.hero\", HERO_CARD_TEMPLATE);\n\n    kendo.chat.registerComponent = function(componentName, component) {\n        kendo.chat.Components[componentName] = component;\n    };\n\n    kendo.chat.getComponent = function(componentName) {\n        return kendo.chat.Components[componentName] || null;\n    };\n\n    var Component = kendo.chat.Component = kendo.Class.extend({\n        init: function(options, view) {\n            this.element = $('<div></div>');\n            this.options = options;\n            this.view = view;\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n        }\n    });\n\n    var Calendar = Component.extend({\n        init: function(options, view) {\n            Component.fn.init.call(this, options, view);\n\n            this.element.kendoCalendar({\n                change: function() {\n                    view.trigger(\"suggestedAction\", { text: kendo.toString(this.value(), 'd'), type: \"message\" });\n                }\n            });\n        },\n\n        destroy: function() {\n        }\n    });\n    kendo.chat.registerComponent(\"calendar\", Calendar);\n\n    var viewStyles = {\n        wrapper: \"k-widget k-chat\",\n        messageList: \"k-avatars\",\n        messageListContent: \"k-message-list-content\",\n        messageTime: \"k-message-time\",\n        messageGroup: \"k-message-group\",\n        message: \"k-message\",\n        only: \"k-only\",\n        first: \"k-first\",\n        middle: \"k-middle\",\n        last: \"k-last\",\n        author: \"k-author\",\n        avatar: \"k-avatar\",\n        noAvatar: \"k-no-avatar\",\n        self: \"k-alt\",\n        button: \"k-button\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        iconButton: \"k-icon-button\",\n        buttonIcon: \"k-button-icon\",\n        buttonPrimary: \"k-button-md k-rounded-md k-button-flat k-button-flat-primary\",\n        scrollButtonIcon: \"k-icon\",\n        scrollButtonIconLeft: \"k-i-arrow-chevron-left\",\n        scrollButtonIconRight: \"k-i-arrow-chevron-right\",\n        typingIndicator: \"k-typing-indicator\",\n        typingIndicatorBubble: \"k-typing-indicator-bubble\",\n        bubble: \"k-bubble\",\n        suggestedActions: \"k-quick-replies\",\n        suggestedAction: \"k-quick-reply\",\n        cardWrapper: \"k-card-container\",\n        cardDeckScrollWrap: \"k-card-deck-scrollwrap\",\n        cardDeck: \"k-card-deck\",\n        cardList: \"k-card-list\",\n        card: \"k-card\",\n        cardRich: \"k-card-type-rich\",\n        cardBody: \"k-card-body\",\n        cardImage: \"k-card-image\",\n        cardTitle: \"k-card-title\",\n        cardSubtitle: \"k-card-subtitle\",\n        cardActions: \"k-card-actions\",\n        cardActionsVertical: \"k-card-actions-vertical\",\n        cardAction: \"k-card-action\",\n        selected: \"k-selected\"\n    };\n\n    var ChatView = kendo.chat.ChatView = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._list();\n\n            this._lastSender = null;\n\n            this.typingParticipants = [];\n\n            this._attachEvents();\n\n            this._scrollable();\n        },\n\n        events: [\n        ],\n\n        options: {\n            messages: {\n                isTyping: \" is typing.\",\n                areTyping: \" are typing.\",\n                and: \" and \"\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this._scrollDraggable) {\n                this._scrollDraggable.destroy();\n            }\n\n            this.element.empty();\n            this.element.off(NS);\n\n            this.list = null;\n            this._lastSender = null;\n        },\n\n        _list: function() {\n            var viewStyles = ChatView.styles;\n\n            this.element\n                .addClass(viewStyles.messageList)\n                .attr(\"role\", \"log\")\n                .attr(\"aria-label\", this.options.messages.messageListLabel);\n\n            this.list = $(\"<div>\")\n                .addClass(viewStyles.messageListContent)\n                .appendTo(this.element);\n        },\n\n        _attachEvents: function() {\n            var styles = ChatView.styles;\n\n            this.element\n                .on(\"click\" + NS, this._listClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.message, this._messageClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.suggestedAction, this._suggestedActionClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.cardAction + SPACE + DOT + styles.button, this._cardActionClick.bind(this));\n\n            this.element.on(\"keydown\" + NS, DOT + styles.suggestedAction, this._suggestedActionKeydown.bind(this));\n        },\n\n        _scrollable: function() {\n            var viewStyles = ChatView.styles;\n\n            this.element\n                .on(\"click\" + NS, DOT + viewStyles.cardDeckScrollWrap + SPACE + DOT + viewStyles.button, this._scrollButtonClick.bind(this));\n        },\n\n        _scrollButtonClick: function(e) {\n            var viewStyles = ChatView.styles;\n            var button = $(e.currentTarget);\n            var scrollToLeft = button.find(DOT + viewStyles.scrollButtonIconLeft).length !== 0;\n            var scrollContainer = button.siblings(DOT + viewStyles.cardDeck);\n            var lastCard = scrollContainer.find(DOT + viewStyles.card).last();\n            var cardWidth = lastCard.outerWidth(true);\n\n            if (scrollToLeft) {\n                kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) - cardWidth);\n            } else {\n                kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) + cardWidth);\n            }\n        },\n\n        getTemplate: function(templateName) {\n            return kendo.chat.getTemplate(templateName);\n        },\n\n        getComponent: function(type) {\n           return kendo.chat.getComponent(type);\n        },\n\n        renderMessage: function(message, sender) {\n            if (!message.timestamp) {\n                message.timestamp = new Date();\n            }\n\n            if (!message.text) {\n                message.text = \"\";\n            }\n\n            var bubbleElement = this._renderTemplate(message.type, message);\n\n            this._renderBubble(message.type, bubbleElement, sender);\n\n            if (message.type == \"typing\") {\n                if (this.typingParticipants.length > 0) {\n                    this._removeTypingParticipant(sender);\n                }\n            } else {\n                this._lastSender = sender.id;\n            }\n        },\n\n        renderSuggestedActions: function(suggestedActions) {\n            this._removeSuggestedActions();\n\n            var element = this._renderTemplate(\"suggestedAction\", { suggestedActions: suggestedActions });\n\n            this.list.append(element);\n\n            this._scrollToBottom();\n        },\n\n        renderAttachments: function(options) {\n            var wrapper = this._renderAttachmentWrapper(options.attachmentLayout);\n            var cardContainer = options.attachmentLayout === \"carousel\" ? wrapper.find(DOT + ChatView.styles.cardDeck) : wrapper;\n            var attachments = options.attachments;\n\n            if (!attachments.length) {\n                return;\n            }\n\n            for (var i = 0; i < attachments.length; i++) {\n                var cardElement = this._renderTemplate(attachments[i].contentType, attachments[i].content);\n\n                cardContainer.append(cardElement);\n            }\n\n            this._removeSuggestedActions();\n            this._removeTypingIndicator();\n\n            this.list.append(wrapper);\n\n            this._lastSender = null;\n        },\n\n        renderComponent: function(type) {\n            var componentType = this.getComponent(type);\n            var component = new componentType({}, this);\n\n            this.list.append(component.element);\n\n            this._scrollToBottom();\n        },\n\n        _renderAttachmentWrapper: function(layout) {\n            var viewStyles = ChatView.styles;\n            var wrapper = $(\"<div>\");\n\n            if (layout === \"carousel\") {\n                wrapper.addClass(viewStyles.cardDeckScrollWrap);\n\n                var buttonLeft = this._renderScrollButton(viewStyles.scrollButtonIconLeft);\n                wrapper.append(buttonLeft);\n\n                wrapper.append($(\"<div>\").addClass(viewStyles.cardDeck));\n\n                var buttonRight = this._renderScrollButton(viewStyles.scrollButtonIconRight);\n                wrapper.append(buttonRight);\n            } else {\n                wrapper.addClass(viewStyles.cardList);\n            }\n\n            return wrapper;\n        },\n\n        _renderScrollButton: function(directionClass) {\n            var viewStyles = ChatView.styles;\n\n            return $(\"<button>\")\n                .addClass(viewStyles.button)\n                .addClass(viewStyles.buttonDefaults)\n                .addClass(viewStyles.iconButton)\n                .append($(\"<span>\")\n                    .addClass(viewStyles.buttonIcon)\n                    .addClass(viewStyles.scrollButtonIcon)\n                    .addClass(directionClass)\n                );\n        },\n\n        _removeSuggestedActions: function() {\n            this.list.find(DOT + ChatView.styles.suggestedActions).remove();\n        },\n\n        _listClick: function(e) {\n            var styles = ChatView.styles;\n            var targetElement = $(e.target);\n\n            if (targetElement.hasClass(styles.message) || targetElement.parents(DOT + styles.message).length) {\n                return;\n            }\n\n            this._clearSelection();\n        },\n\n        _messageClick: function(e) {\n            this._clearSelection();\n\n            $(e.currentTarget).addClass(ChatView.styles.selected);\n        },\n\n        _suggestedActionClick: function(e) {\n            var text = $(e.target).data(\"value\") || \"\";\n\n            this.trigger(\"actionClick\", { text: text });\n\n            this._removeSuggestedActions();\n        },\n\n        _suggestedActionKeydown: function(e) {\n            if (e.keyCode === kendo.keys.SPACEBAR || e.keyCode === kendo.keys.ENTER) {\n                this._suggestedActionClick(e);\n            }\n        },\n\n        _cardActionClick: function(e) {\n            var text = $(e.target).data(\"value\") || \"\";\n\n            this.trigger(\"actionClick\", { text: text });\n        },\n\n        _renderBubble: function(messageType, bubbleElement, sender) {\n            this._removeSuggestedActions();\n            this._removeTypingIndicator();\n\n            var group = this._getMessageGroup(sender, messageType);\n\n            this._appendToGroup(group, bubbleElement, messageType);\n\n            this._scrollToBottom();\n        },\n\n        _renderTemplate: function(type, options) {\n            var componentType = this.getComponent(type);\n            var element;\n\n            if (componentType) {\n                var component = new componentType(options, this);\n\n                element = component.element;\n            } else {\n                var template = this.getTemplate(type);\n                var templateOptions = extend(true, {}, options, { styles: ChatView.styles });\n\n                element = $(template(templateOptions));\n            }\n\n            return element;\n        },\n\n        _getMessageGroup: function(sender, messageType) {\n            var viewStyles = ChatView.styles;\n            var template = this._getMessageGroupTemplate(sender, messageType);\n            var appendTarget = messageType == \"typing\" ? this.element : this.list;\n            var group;\n\n            if (sender.id === this._lastSender && this._lastSender !== null && messageType !== \"typing\") {\n                group = this.list.find(DOT + viewStyles.messageGroup).last();\n\n                if (group.length) {\n                    return group;\n                }\n            }\n\n            return $(template({ text: sender.name, url: sender.iconUrl, styles: viewStyles })).appendTo(appendTarget);\n        },\n\n        _getMessageGroupTemplate: function(sender, messageType) {\n            var isOwnMessage = sender.id === this.options.user.id;\n            var template = isOwnMessage ?\n                SELF_MESSAGE_GROUP_TEMPLATE :\n                MESSAGE_GROUP_TEMPLATE;\n\n            if (messageType == \"typing\") {\n                template = TYPING_INDICATOR_TEMPLATE;\n            }\n\n            return template;\n        },\n\n        _appendToGroup: function(group, messageElement, messageType) {\n            var viewStyles = ChatView.styles;\n            var children = group.find(DOT + viewStyles.message);\n            var childrenCount = children.length;\n            var indicator = this.element.find(DOT + viewStyles.typingIndicator);\n\n            if (indicator.length && messageType == \"typing\") {\n                return;\n            }\n\n            messageElement.addClass(childrenCount === 0 ? viewStyles.only : viewStyles.last);\n\n            children.filter(DOT + viewStyles.only)\n                .removeClass(viewStyles.only)\n                .addClass(viewStyles.first);\n\n            children.filter(DOT + viewStyles.last)\n                .removeClass(viewStyles.last)\n                .addClass(viewStyles.middle);\n\n            group.append(messageElement);\n        },\n\n        _renderTypingIndicator: function(sender) {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                indicatorList,\n                participants;\n\n            this._addTypingParticipant(sender);\n\n            if (indicator.length) {\n                participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                indicatorList = indicator.find(DOT + viewStyles.author).first();\n                indicatorList.text(participants);\n\n            } else {\n                $(TYPING_INDICATOR_TEMPLATE({\n                    text: sender.name + this.options.messages.isTyping,\n                    styles: viewStyles\n                })).appendTo(this.element);\n            }\n\n            this._scrollToBottom();\n        },\n\n        _addTypingParticipant: function(sender) {\n            var found = false;\n            for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                if (this.typingParticipants[i].id == sender.id) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                this.typingParticipants.push(sender);\n            }\n        },\n\n        _removeTypingParticipant: function(sender) {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                indicatorList,\n                participants;\n\n            if (indicator.length) {\n                for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                    if (this.typingParticipants[i].id == sender.id) {\n                        this.typingParticipants.splice(i, 1);\n                    }\n                }\n\n                participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                if (participants === \"\") {\n                    indicator.remove();\n                } else {\n                    indicatorList = indicator.find(DOT + viewStyles.author).first();\n                    indicatorList.text(participants);\n                }\n            }\n        },\n\n        _composeTypingParticipantsText: function(participants) {\n            var messages = this.options.messages,\n                typingAction = participants.length == 1 ? messages.isTyping : messages.areTyping,\n                typingText = \"\";\n\n            if (participants.length === 0) {\n                return typingText;\n            }\n\n            typingText = this.typingParticipants.map(function(author) {\n                return author.name;\n            }).join(', ').replace(/,(?!.*,)/gmi, messages.and.trimRight()) + typingAction;\n\n            return typingText;\n        },\n\n        _removeTypingIndicator: function() {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble);\n\n            if (indicator.length) {\n                this.typingParticipants = [];\n                indicator.remove();\n            }\n        },\n\n        _clearSelection: function() {\n            var selectedClass = ChatView.styles.selected;\n\n            this.element.find(DOT + selectedClass).removeClass(selectedClass);\n        },\n\n        _scrollToBottom: function() {\n            this.element.scrollTop(this.element.prop(\"scrollHeight\"));\n        }\n    });\n\n    extend(true, ChatView, { styles: viewStyles });\n\n})(window.kendo.jQuery);\n\nvar __meta__ = {\n    id: \"chat\",\n    name: \"Chat\",\n    category: \"web\",\n    description: \"The Chat component.\",\n    depends: [ \"core\", \"draganddrop\" ]\n};\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n\n    var chatStyles = {\n        wrapper: \"k-widget k-chat\",\n        canvas: \"k-chat-canvas\",\n        viewWrapper: \"k-message-list\",\n        messageBoxWrapper: \"k-message-box\",\n        toolbarBoxWrapper: \"k-toolbar-box\"\n    };\n\n    var Chat = Widget.extend({\n        init: function(element, options, events) {\n            Widget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._user();\n\n            this._wrapper();\n\n            this._view();\n\n            if (options && options.toolbar && options.toolbar.buttons) {\n                this._toolbar();\n            }\n\n            this._messageBox();\n\n            kendo.notify(this);\n        },\n\n        events: [\n            \"typingStart\",\n            \"typingEnd\",\n            \"post\",\n            \"sendMessage\",\n            \"actionClick\",\n            \"toolClick\"\n        ],\n\n        options: {\n            user: {\n                name: \"User\",\n                iconUrl: \"\"\n            },\n            name: \"Chat\",\n            messages: {\n                messageListLabel: \"Message list\",\n                placeholder: \"Type a message...\",\n                toggleButton: \"Toggle toolbar\",\n                sendButton: \"Send message\"\n            },\n            toolbar: false\n        },\n\n        setOptions: function(options) {\n            this._setEvents(options);\n            $.extend(true, this.options, options);\n\n            if (this.toolbar && \"toolbar\" in options) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            if (this.messageBox) {\n                this.messageBox.unbind();\n                this.messageBox.destroy();\n                this.messageBox = null;\n            }\n\n            this._messageBox();\n\n            if (\"toolbar\" in options) {\n                this._resetToolbarButtons(options);\n                this._toolbar();\n            }\n        },\n\n        _resetToolbarButtons: function(options) {\n            var toolbarBoxWrapper = this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper);\n\n            if (!toolbarBoxWrapper.is(\":visible\")) {\n                toolbarBoxWrapper.show();\n            }\n\n            if (options.toolbar && typeof options.toolbar == \"object\" && \"buttons\" in options.toolbar) {\n                this.options.toolbar.buttons = options.toolbar.buttons;\n            }\n        },\n\n        destroy: function() {\n            if (this.view) {\n                this.view.unbind();\n                this.view.destroy();\n                this.view = null;\n            }\n\n            if (this.messageBox) {\n                this.messageBox.unbind();\n                this.messageBox.destroy();\n                this.messageBox = null;\n            }\n\n            if (this.toolbar) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _user: function() {\n            this.options.user.id = kendo.guid();\n        },\n\n        getUser: function() {\n            return extend(true, {}, this.options.user);\n        },\n\n        _wrapper: function() {\n            var chatStyles = Chat.styles;\n            var options = this.options;\n            var height = options.height;\n            var width = options.width;\n            var uiElements = \"<div class='\" + chatStyles.viewWrapper + \"'></div>\" +\n                             \"<span class='\" + chatStyles.messageBoxWrapper + \"'></span>\" +\n                             \"<div class='\" + chatStyles.toolbarBoxWrapper + \"' role='toolbar' style='display:none;'></div>\";\n\n            this.wrapper = this.element\n                .addClass(chatStyles.wrapper)\n                .append(uiElements);\n\n            if (options.toolbar && options.toolbar.buttons && options.toolbar.buttons.length) {\n                this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper).show();\n            }\n\n            if (height) {\n                this.wrapper.height(height);\n            }\n\n            if (width) {\n                this.wrapper.css(\"max-width\", width);\n            }\n        },\n\n        _view: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, this.options);\n\n            var element = this.wrapper.find(DOT + chatStyles.viewWrapper + \"\");\n\n            this.view = new kendo.chat.ChatView(element, options);\n\n            this.view\n                .bind(\"actionClick\", function(args) {\n                    that.trigger(\"actionClick\", args);\n\n                    that.postMessage(args.text);\n                });\n        },\n\n        _messageBox: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, this.options);\n            var element = this.wrapper.find(DOT + chatStyles.messageBoxWrapper + \"\");\n\n            this.messageBox = new kendo.chat.ChatMessageBox(element, options);\n\n            this.messageBox\n                .bind(\"typingStart\", function(args) {\n                    that.trigger(\"typingStart\", args);\n                })\n                .bind(\"typingEnd\", function(args) {\n                    that.trigger(\"typingEnd\", args);\n                })\n                .bind(\"sendMessage\", function(args) {\n                    that.trigger(\"sendMessage\", args);\n\n                    that.postMessage(args.text);\n                })\n                .bind(\"toggleToolbar\", function() {\n                    that.toggleToolbar();\n                })\n                .bind(\"focusToolbar\", function() {\n                    if (that.toolbar) {\n                        that.toolbar.focus();\n                    }\n                });\n        },\n\n        _toolbar: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, that.options);\n            var element = that.wrapper.find(DOT + chatStyles.toolbarBoxWrapper + \"\");\n\n            that.options.toolbarId = kendo.guid();\n            element.attr(\"id\", that.options.toolbarId);\n\n            if (options.toolbar.scrollable === undefined$1) {\n                this.options.toolbar.scrollable = options.toolbar.scrollable = true;\n            }\n\n            if (options.toolbar.toggleable === undefined$1) {\n                this.options.toolbar.toggleable = options.toolbar.toggleable = false;\n            }\n\n            that.toolbar = new kendo.chat.ChatToolBar(element, options);\n\n            that.toolbar.bind(\"click\", function(ev) {\n                that.trigger(\"toolClick\", {\n                    sender: that,\n                    name: ev.name,\n                    button: ev.button,\n                    messageBox: that.messageBox.input[0],\n                    originalEvent: ev.originalEvent\n                });\n            });\n        },\n\n        postMessage: function(message) {\n            var postArgs = extend(true, {}, { text: message, type: \"message\", timestamp: new Date(), from: this.getUser() });\n\n            this.trigger(\"post\", postArgs);\n\n            this.renderMessage(postArgs, postArgs.from);\n        },\n\n        // TEST calling View renderMessage\n        renderMessage: function(message, sender) {\n            this.view.renderMessage(message, sender);\n        },\n\n        // TEST calling View renderSuggestedActions\n        renderSuggestedActions: function(suggestedActions) {\n            this.view.renderSuggestedActions(suggestedActions);\n        },\n\n        // TEST calling View renderCard\n        renderAttachments: function(options, sender) {\n            this.view.renderAttachments(options, sender);\n        },\n\n        toggleToolbar: function(skipAnimation) {\n            this.toolbar.toggle(skipAnimation);\n        },\n\n        renderUserTypingIndicator: function(sender) {\n            this.view._renderTypingIndicator(sender);\n        },\n\n        clearUserTypingIndicator: function(sender) {\n            this.view._removeTypingParticipant(sender);\n        },\n\n        removeTypingIndicator: function() {\n            this.view._removeTypingIndicator();\n        }\n    });\n\n    kendo.ui.plugin(Chat);\n\n    extend(true, Chat, { styles: chatStyles });\n\n})(window.kendo.jQuery);\n"]}