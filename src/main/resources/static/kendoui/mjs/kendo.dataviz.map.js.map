{"version":3,"file":"kendo.dataviz.map.js","names":["kendo","window","deepExtend","now","Date","getTime","util","renderPos","pos","result","parts","toHyphens","split","i","length","push","join","renderSize","size","sqr","value","romanToArabic","r","toLowerCase","digits","v","x","l","c","d","m","prev","charAt","arabicToRoman","n","literals","values","roman","shift","memoize","f","cache","Object","create","id","arguments","apply","this","isUnicodeLetter","ch","RX_UNICODE_LETTER","test","withExit","obj","call","Return","ex","RegExp","$","undefined$1","math","Math","abs","atan","atan2","cos","max","min","sin","tan","Class","dataviz","drawing","defined","deg","rad","round","valueOrDefault","Location","extend","init","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","toArray","equals","loc","clone","precision","wrap","distanceTo","dest","datum","greatCircleTo","distance","destination","bearing","map","datums","WGS84","fromLat","fromLng","dToR","a","asin","azimuthFrom","azimuthTo","prevLambda","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","b","L","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","converged","sqrt","sinA","C","u2","A","B","deltao","fn","toString","format","fromLngLat","ll","fromLatLng","Extent","nw","se","contains","center","containsAny","locs","include","includeAll","edges","ne","sw","overlaps","extent","World","jQuery","Widget","ui","template","Attribution","element","options","_initOptions","items","addClass","name","separator","itemTemplate","text","filter","zoom","_extent","_zoom","_render","add","item","remove","clear","empty","_itemText","append","show","hide","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","Number","MAX_VALUE","area","plugin","keys","button","dir","BUTTONS","Navigator","on","_click","bind","parentElement","parent","closest","attr","_keyroot","_tabindex","_keydown","panStep","events","dispose","off","_pan","y","trigger","e","currentTarget","is","preventDefault","which","UP","DOWN","RIGHT","LEFT","iconClass","ZoomControl","zoomStep","_change","delta","NUMPAD_PLUS","NUMPAD_MINUS","exp","pow","log","g","geometry","Point","limit","limitValue","PI","PI_DIV_2","PI_DIV_4","DEG_TO_RAD","Mercator","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","centralMeridian","forward","clamp","proj","lng0","_projectLat","ecc","ts","con","p","inverse","point","_inverseY","ecch","phi","dphi","SphericalMercator","Equirectangular","EPSG3857","_proj","_tm","transform","translate","scale","_itm","toPoint","toLocation","crs","EPSG3395","EPSG4326","projections","layers","Layer","css","zIndex","opacity","appendTo","scrollElement","_beforeReset","_reset","_resize","_panEnd","_activate","_updateAttribution","destroy","_deactivate","reset","_applyExtent","_setVisibility","noop","matchMinZoom","matchMaxZoom","inside","visible","unbind","attribution","DataSource","data","Group","last","ShapeLayer","surface","Surface","width","height","_initRoot","movable","Movable","_markers","_handler","_mouseenter","_mouseleave","_initDataSource","autoBind","dataSource","_dataChange","setDataSource","fetch","_translateSurface","_data","_load","_root","draw","dsOptions","sender","view","_clearMarkers","_loader","GeoJSONLoader","style","container","shape","parse","shapeCreated","cancelled","Circle","_createMarker","args","layer","featureCreated","marker","markers","location","dataItem","_panning","suspendTracking","resumeTracking","locationToView","moveTo","event","originalEvent","locator","defaultStyle","observer","root","unwrap","type","_loadGeometryTo","_featureCreated","children","_shapeCreated","group","properties","path","coords","coordinates","_loadPolygon","_setLineFill","_loadPoint","segments","anchor","fill","_loadShape","rings","_buildPolygon","MultiPath","Path","j","lineTo","circle","schemas","geojson","features","geometries","transports","read","dataType","getter","BubbleLayer","locationField","valueField","minSize","maxSize","symbol","opt","getValue","slice","sort","scaleType","_scaleType","_createSymbol","_drawSymbol","isFunction","scales","symbols","SqrtScale","domain","range","_domain","_range","domainRange","outputRange","_ratio","rel","bubble","geo","square","halfSize","close","drawingUtil","TileLayer","subdomains","viewType","_viewType","_view","origin","locationToLayer","viewOrigin","tileTitle","_updateView","TileView","support","mobileOS","throttle","extentToPoint","render","pool","TilePool","tileSize","urlTemplate","_center","_viewOrigin","pointToTileIndex","floor","tileCount","firstTileIndex","indexToPoint","ceil","diff","index","subdomainText","subdomainIndex","_tileTitle","tile","createTile","currentIndex","tileOptions","get","wrapIndex","offset","roundPoint","subdomain","errorUrlTemplate","boundary","wrapValue","remainder","ImageTile","createElement","errorUrl","target","setAttribute","removeAttribute","top","left","url","visibility","urlResult","urlOptions","z","s","quadkey","q","culture","_items","_remove","_create","hashKey","maxDist","dist","splice","BingLayer","baseUrl","_scheme","_onMetadata","_fetchMetadata","imagerySet","key","Error","ajax","output","uriScheme","jsonp","success","proto","protocol","replace","resourceSets","resource","resources","imageUrl","imageUrlSubdomains","zoomMin","zoomMax","_addAttribution","BingView","imageryProviders","coverageAreas","bbox","tileQuadKey","digit","mask","quadKey","bing","doc","document","indexOf","inArray","Tooltip","MarkerLayer","_markerClick","titleField","arg","Array","isArray","_addOne","update","showAt","Marker","addTo","getLocation","getTitle","title","tooltip","popup","_position","attributes","renderTooltip","contentTemplate","content","contentUrl","defaults","Map","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","_mousewheel","controls","navigator","layerDefaults","color","stroke","position","markerDefaults","wraparound","messages","scroller","zoomControl","level","_setExtent","_getExtent","setOptions","_layerSize","layerToLocation","translateWith","viewToLocation","eventOffset","field","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","exportVisual","_setOrigin","topLeft","_origin","invalidate","raw","bottomRight","layerWidth","layerHeight","_zoomAround","pivot","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPos","posSelector","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","one","_scrollEnd","scrollTo","_zoomControlChange","friction","zoomable","mobile","Scroller","velocityMultiplier","mousewheelScrolling","supportDoubleTap","_scroll","userEvents","_scaleStart","_scale","_doubleTap","_tap","defs","impl","_scrollOffset","_panComplete","_panEndTS","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","originPoint","scaleDelta","tiles","_resetScroller","dimensions","forcedMinScale","maxScale","xBounds","yBounds","pannable","makeVirtual","virtualSize","_renderLayers","scrollWrap","toZoom","mwDelta","fromZoom","__meta__","category","description","depends"],"sources":["kendo.dataviz.map.js"],"mappings":"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","sourcesContent":["import './kendo.data.js';\nimport './kendo.userevents.js';\nimport './kendo.tooltip.js';\nimport './kendo.mobile.scroller.js';\nimport './kendo.draganddrop.js';\nimport './kendo.dataviz.core.js';\nimport './kendo.drawing.js';\nimport './kendo.core.js';\n\n(function () {\r\n    // Imports ================================================================\r\n    var kendo = window.kendo,\r\n        deepExtend = kendo.deepExtend;\r\n\r\n    function sqr(value) {\r\n        return value * value;\r\n    }\r\n\r\n    var now = Date.now;\r\n    if (!now) {\r\n        now = function() {\r\n            return new Date().getTime();\r\n        };\r\n    }\r\n\r\n    // Template helpers =======================================================\r\n\r\n    function renderSize(size) {\r\n        if (typeof size !== \"string\") {\r\n            size += \"px\";\r\n        }\r\n\r\n        return size;\r\n    }\r\n\r\n    function renderPos(pos) {\r\n        var result = [];\r\n\r\n        if (pos) {\r\n            var parts = kendo.toHyphens(pos).split(\"-\");\r\n\r\n            for (var i = 0; i < parts.length; i++) {\r\n                result.push(\"k-pos-\" + parts[i]);\r\n            }\r\n        }\r\n\r\n        return result.join(\" \");\r\n    }\r\n\r\n    function arabicToRoman(n) {\r\n        var literals = {\r\n            1    : \"i\",       10   : \"x\",       100  : \"c\",\r\n            2    : \"ii\",      20   : \"xx\",      200  : \"cc\",\r\n            3    : \"iii\",     30   : \"xxx\",     300  : \"ccc\",\r\n            4    : \"iv\",      40   : \"xl\",      400  : \"cd\",\r\n            5    : \"v\",       50   : \"l\",       500  : \"d\",\r\n            6    : \"vi\",      60   : \"lx\",      600  : \"dc\",\r\n            7    : \"vii\",     70   : \"lxx\",     700  : \"dcc\",\r\n            8    : \"viii\",    80   : \"lxxx\",    800  : \"dccc\",\r\n            9    : \"ix\",      90   : \"xc\",      900  : \"cm\",\r\n            1000 : \"m\"\r\n        };\r\n        var values = [ 1000,\r\n                       900 , 800, 700, 600, 500, 400, 300, 200, 100,\r\n                       90  , 80 , 70 , 60 , 50 , 40 , 30 , 20 , 10 ,\r\n                       9   , 8  , 7  , 6  , 5  , 4  , 3  , 2  , 1 ];\r\n        var roman = \"\";\r\n        while (n > 0) {\r\n            if (n < values[0]) {\r\n                values.shift();\r\n            } else {\r\n                roman += literals[values[0]];\r\n                n -= values[0];\r\n            }\r\n        }\r\n        return roman;\r\n    }\r\n\r\n    function romanToArabic(r) {\r\n        r = r.toLowerCase();\r\n        var digits = {\r\n            i: 1,\r\n            v: 5,\r\n            x: 10,\r\n            l: 50,\r\n            c: 100,\r\n            d: 500,\r\n            m: 1000\r\n        };\r\n        var value = 0, prev = 0;\r\n        for (var i = 0; i < r.length; ++i) {\r\n            var v = digits[r.charAt(i)];\r\n            if (!v) {\r\n                return null;\r\n            }\r\n            value += v;\r\n            if (v > prev) {\r\n                value -= 2 * prev;\r\n            }\r\n            prev = v;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function memoize(f) {\r\n        var cache = Object.create(null);\r\n        return function() {\r\n            var id = \"\";\r\n            for (var i = arguments.length; --i >= 0;) {\r\n                id += \":\" + arguments[i];\r\n            }\r\n            return id in cache ? cache[id] : (cache[id] = f.apply(this, arguments));\r\n        };\r\n    }\r\n\r\n    function isUnicodeLetter(ch) {\r\n        return RX_UNICODE_LETTER.test(ch);\r\n    }\r\n\r\n    function withExit(f, obj) {\r\n        try {\r\n            return f.call(obj, function(value){\r\n                throw new Return(value);\r\n            });\r\n        } catch(ex) {\r\n            if (ex instanceof Return) {\r\n                return ex.value;\r\n            }\r\n            throw ex;\r\n        }\r\n        function Return(value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    // Exports ================================================================\r\n    deepExtend(kendo, {\r\n        util: {\r\n            now: now,\r\n            renderPos: renderPos,\r\n            renderSize: renderSize,\r\n            sqr: sqr,\r\n            romanToArabic: romanToArabic,\r\n            arabicToRoman: arabicToRoman,\r\n            memoize: memoize,\r\n            isUnicodeLetter: isUnicodeLetter,\r\n            withExit: withExit\r\n        }\r\n    });\r\n\r\n    var RX_UNICODE_LETTER = new RegExp(\"[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]\");\r\n\r\n})();\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var math = Math,\n        abs = math.abs,\n        atan = math.atan,\n        atan2 = math.atan2,\n        cos = math.cos,\n        max = math.max,\n        min = math.min,\n        sin = math.sin,\n        tan = math.tan,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        util = kendo.drawing.util,\n        defined = util.defined,\n        deg = util.deg,\n        rad = util.rad,\n        round = util.round,\n        valueOrDefault = util.valueOrDefault,\n\n        sqr = kendo.util.sqr;\n\n    // Implementation =========================================================\n    var Location = Class.extend({\n        init: function(lat, lng) {\n            if (arguments.length === 1) {\n                this.lat = lat[0];\n                this.lng = lat[1];\n            } else {\n                this.lat = lat;\n                this.lng = lng;\n            }\n        },\n\n        DISTANCE_ITERATIONS: 100,\n        DISTANCE_CONVERGENCE: 1e-12,\n        DISTANCE_PRECISION: 2,\n        FORMAT: \"{0:N6},{1:N6}\",\n\n        toArray: function() {\n            return [this.lat, this.lng];\n        },\n\n        equals: function(loc) {\n            return loc && loc.lat === this.lat && loc.lng === this.lng;\n        },\n\n        clone: function() {\n            return new Location(this.lat, this.lng);\n        },\n\n        round: function(precision) {\n            this.lng = round(this.lng, precision);\n            this.lat = round(this.lat, precision);\n            return this;\n        },\n\n        wrap: function() {\n            this.lng = this.lng % 180;\n            this.lat = this.lat % 90;\n            return this;\n        },\n\n        distanceTo: function(dest, datum) {\n            return this.greatCircleTo(dest, datum).distance;\n        },\n\n        destination: function(distance, bearing, datum) {\n            bearing = rad(bearing);\n            datum = datum || dataviz.map.datums.WGS84;\n\n            var fromLat = rad(this.lat);\n            var fromLng = rad(this.lng);\n            var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\n\n            var lat = math.asin(sin(fromLat) * cos(dToR) +\n                                cos(fromLat) * sin(dToR) * cos(bearing));\n\n            var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat),\n                                      cos(dToR) - sin(fromLat) * sin(lat));\n\n           return new Location(deg(lat), deg(lng));\n        },\n\n        greatCircleTo: function(dest, datum) {\n            dest = Location.create(dest);\n            datum = datum || dataviz.map.datums.WGS84;\n\n            if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n                return {\n                    distance: 0,\n                    azimuthFrom: 0,\n                    azimuthTo: 0\n                };\n            }\n\n            // See http://en.wikipedia.org/wiki/Vincenty's_formulae#Notation\n            // o == sigma\n            // A == alpha\n            var a = datum.a;\n            var b = datum.b;\n            var f = datum.f;\n\n            var L = rad(dest.lng - this.lng);\n\n            var U1 = atan((1 - f) * tan(rad(this.lat)));\n            var sinU1 = sin(U1);\n            var cosU1 = cos(U1);\n\n            var U2 = atan((1 - f) * tan(rad(dest.lat)));\n            var sinU2 = sin(U2);\n            var cosU2 = cos(U2);\n\n            var lambda = L;\n            var prevLambda;\n\n            var i = this.DISTANCE_ITERATIONS;\n            var converged = false;\n\n            var sinLambda;\n            var cosLambda;\n            var sino;\n            var cosA2;\n            var coso;\n            var cos2om;\n            var sigma;\n\n            while (!converged && i-- > 0) {\n                sinLambda = sin(lambda);\n                cosLambda = cos(lambda);\n                sino = math.sqrt(\n                    sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda)\n                );\n\n                coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n                sigma = atan2(sino, coso);\n\n                var sinA = cosU1 * cosU2 * sinLambda / sino;\n                cosA2 = 1 - sqr(sinA);\n                cos2om = 0;\n                if (cosA2 !== 0) {\n                    cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n                }\n\n                prevLambda = lambda;\n                var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n                lambda = L + (1 - C) * f * sinA * (\n                    sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om)))\n                );\n\n                converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\n            }\n\n            var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\n            var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n            var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n            var deltao = B * sino * (cos2om + B / 4 * (\n                coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))\n            ));\n\n            var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n            var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n\n            return {\n                distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n                azimuthFrom: deg(azimuthFrom),\n                azimuthTo: deg(azimuthTo)\n            };\n        }\n    });\n\n    // IE < 9 doesn't allow to override toString on definition\n    Location.fn.toString = function() {\n        return kendo.format(this.FORMAT, this.lat, this.lng);\n    };\n\n    Location.fromLngLat = function(ll) {\n        return new Location(ll[1], ll[0]);\n    };\n\n    Location.fromLatLng = function(ll) {\n        return new Location(ll[0], ll[1]);\n    };\n\n    Location.create = function(a, b) {\n        if (defined(a)) {\n            if (a instanceof Location) {\n                return a.clone();\n            } else if (arguments.length === 1 && a.length === 2) {\n                return Location.fromLatLng(a);\n            } else {\n                return new Location(a, b);\n            }\n        }\n    };\n\n    var Extent = Class.extend({\n        init: function(nw, se) {\n            nw = Location.create(nw);\n            se = Location.create(se);\n\n            if (nw.lng + 180 > se.lng + 180 &&\n                nw.lat + 90 < se.lat + 90) {\n                this.se = nw;\n                this.nw = se;\n            } else {\n                this.se = se;\n                this.nw = nw;\n            }\n        },\n\n        contains: function(loc) {\n            var nw = this.nw,\n                se = this.se,\n                lng = valueOrDefault(loc.lng, loc[1]),\n                lat = valueOrDefault(loc.lat, loc[0]);\n\n            return loc &&\n                   lng + 180 >= nw.lng + 180 &&\n                   lng + 180 <= se.lng + 180 &&\n                   lat + 90 >= se.lat + 90 &&\n                   lat + 90 <= nw.lat + 90;\n        },\n\n        center: function() {\n            var nw = this.nw;\n            var se = this.se;\n\n            var lng = nw.lng + (se.lng - nw.lng) / 2;\n            var lat = nw.lat + (se.lat - nw.lat) / 2;\n            return new Location(lat, lng);\n        },\n\n        containsAny: function(locs) {\n            var result = false;\n            for (var i = 0; i < locs.length; i++) {\n                result = result || this.contains(locs[i]);\n            }\n\n            return result;\n        },\n\n        include: function(loc) {\n            var nw = this.nw,\n                se = this.se,\n                lng = valueOrDefault(loc.lng, loc[1]),\n                lat = valueOrDefault(loc.lat, loc[0]);\n\n            nw.lng = min(nw.lng, lng);\n            nw.lat = max(nw.lat, lat);\n\n            se.lng = max(se.lng, lng);\n            se.lat = min(se.lat, lat);\n        },\n\n        includeAll: function(locs) {\n            for (var i = 0; i < locs.length; i++) {\n                this.include(locs[i]);\n            }\n        },\n\n        edges: function() {\n            var nw = this.nw,\n                se = this.se;\n\n            return { nw: this.nw, ne: new Location(nw.lat, se.lng),\n                    se: this.se, sw: new Location(se.lat, nw.lng) };\n        },\n\n        toArray: function() {\n            var nw = this.nw,\n                se = this.se;\n\n            return [nw, new Location(nw.lat, se.lng),\n                    se, new Location(se.lat, nw.lng)];\n        },\n\n        overlaps: function(extent) {\n            return this.containsAny(extent.toArray()) ||\n                   extent.containsAny(this.toArray());\n        }\n    });\n\n    Extent.World = new Extent([90, -180], [-90, 180]);\n\n    Extent.create = function(a, b) {\n        if (a instanceof Extent) {\n            return a;\n        } else if (a && b) {\n            return new Extent(a, b);\n        } else if (a && a.length === 4 && !b) {\n            return new Extent([a[0], a[1]], [a[2], a[3]]);\n        }\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            Extent: Extent,\n            Location: Location\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function() {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        template = kendo.template,\n\n        util = kendo.drawing.util,\n        valueOrDefault = util.valueOrDefault,\n        defined = util.defined;\n\n    var Attribution = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n            this.items = [];\n            this.element.addClass(\"k-widget k-attribution\");\n        },\n\n        options: {\n            name: \"Attribution\",\n            separator: \"&nbsp;|&nbsp;\",\n            itemTemplate: ({ text }) => text\n        },\n\n        filter: function(extent, zoom) {\n            this._extent = extent;\n            this._zoom = zoom;\n            this._render();\n        },\n\n        add: function(item) {\n            if (defined(item)) {\n                if (typeof item === \"string\") {\n                    item = { text: item };\n                }\n\n                this.items.push(item);\n                this._render();\n            }\n        },\n\n        remove: function(text) {\n            var result = [];\n            for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                if (item.text !== text) {\n                    result.push(item);\n                }\n            }\n\n            this.items = result;\n\n            this._render();\n        },\n\n        clear: function() {\n            this.items = [];\n            this.element.empty();\n        },\n\n        _render: function() {\n            var result = [];\n            var itemTemplate = template(this.options.itemTemplate);\n\n            for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                var text = this._itemText(item);\n                if (text !== \"\") {\n                    result.push(itemTemplate({\n                        text: text\n                    }));\n                }\n            }\n\n            if (result.length > 0) {\n                this.element.empty()\n                    .append(result.join(this.options.separator))\n                    .show();\n            } else {\n                this.element.hide();\n            }\n        },\n\n        _itemText: function(item) {\n            var text = \"\";\n            var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n            var inArea = this._inArea(item.extent);\n\n            if (inZoomLevel && inArea) {\n                text += item.text;\n            }\n\n            return text;\n        },\n\n        _inZoomLevel: function(min, max) {\n            var result = true;\n            min = valueOrDefault(min, -Number.MAX_VALUE);\n            max = valueOrDefault(max, Number.MAX_VALUE);\n\n            result = this._zoom > min && this._zoom < max;\n\n            return result;\n        },\n\n        _inArea: function(area) {\n            var result = true;\n\n            if (area) {\n                result = area.contains(this._extent);\n            }\n\n            return result;\n        }\n    });\n\n    kendo.dataviz.ui.plugin(Attribution);\n})(window.kendo.jQuery);\n\n(function($) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var keys = kendo.keys;\n\n    var NS = \".kendoNavigator\";\n\n    // Helper functions =======================================================\n    function button(dir) {\n       return kendo.format(\n           '<button class=\"k-button k-rounded-full k-button-flat k-button-flat-base k-icon-button k-navigator-{0}\" aria-label=\"move {0}\">' +\n               '<span class=\"k-button-icon k-icon k-i-arrow-60-{0}\"></span>' +\n           '</button>', dir);\n    }\n\n    var BUTTONS = button(\"up\") + button(\"right\") + button(\"down\") + button(\"left\");\n\n    var Navigator = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n\n            this.element.addClass(\"k-widget k-navigator\")\n                        .append(BUTTONS)\n                        .on(\"click\" + NS, \".k-button\", this._click.bind(this));\n\n            var parentElement = this.element.parent().closest(\"[\" + kendo.attr(\"role\") + \"]\");\n            this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n            this._tabindex(this._keyroot);\n\n            this._keydown = this._keydown.bind(this);\n            this._keyroot.on(\"keydown\", this._keydown);\n        },\n\n        options: {\n            name: \"Navigator\",\n            panStep: 1\n        },\n\n        events: [\n            \"pan\"\n        ],\n\n        dispose: function() {\n            this._keyroot.off(\"keydown\", this._keydown);\n        },\n\n        _pan: function(x, y) {\n            var panStep = this.options.panStep;\n            this.trigger(\"pan\", {\n                x: x * panStep,\n                y: y * panStep\n            });\n        },\n\n        _click: function(e) {\n            var x = 0;\n            var y = 0;\n            var button = $(e.currentTarget);\n\n            if (button.is(\".k-navigator-up\")) {\n                y = 1;\n            } else if (button.is(\".k-navigator-down\")) {\n                y = -1;\n            } else if (button.is(\".k-navigator-right\")) {\n                x = 1;\n            } else if (button.is(\".k-navigator-left\")) {\n                x = -1;\n            }\n\n            this._pan(x, y);\n            e.preventDefault();\n        },\n\n        _keydown: function(e) {\n            switch (e.which) {\n                case keys.UP:\n                    this._pan(0, 1);\n                    e.preventDefault();\n                    break;\n\n                case keys.DOWN:\n                    this._pan(0, -1);\n                    e.preventDefault();\n                    break;\n\n                case keys.RIGHT:\n                    this._pan(1, 0);\n                    e.preventDefault();\n                    break;\n\n                case keys.LEFT:\n                    this._pan(-1, 0);\n                    e.preventDefault();\n                    break;\n            }\n        }\n    });\n\n    // Exports ================================================================\n    kendo.dataviz.ui.plugin(Navigator);\n\n})(window.kendo.jQuery);\n\n(function($) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var keys = kendo.keys;\n\n    // Helper functions =======================================================\n    function button(dir, iconClass) {\n       return kendo.format(\n           '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-{0}\" title=\"zoom-{0}\" aria-label=\"zoom-{0}\"><span class=\"k-button-icon k-icon {1}\"></span></button>',\n           dir, iconClass);\n    }\n\n    var NS = \".kendoZoomControl\";\n    var BUTTONS = button(\"in\", \"k-i-plus\") + button(\"out\", \"k-i-minus\");\n\n    var PLUS = 187;\n    var MINUS = 189;\n    var FF_PLUS = 61;\n    var FF_MINUS = 173;\n\n\n    var ZoomControl = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n\n            this.element.addClass(\"k-widget k-zoom-control k-button-group k-group-horizontal\")\n                        .append(BUTTONS)\n                        .on(\"click\" + NS, \".k-button\", this._click.bind(this));\n\n            var parentElement = this.element.parent().closest(\"[\" + kendo.attr(\"role\") + \"]\");\n            this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n\n            this._tabindex(this._keyroot);\n\n            this._keydown = this._keydown.bind(this);\n            this._keyroot.on(\"keydown\", this._keydown);\n        },\n\n        options: {\n            name: \"ZoomControl\",\n            zoomStep: 1\n        },\n\n        events: [\n            \"change\"\n        ],\n\n        _change: function(dir) {\n            var zoomStep = this.options.zoomStep;\n            this.trigger(\"change\", {\n                delta: dir * zoomStep\n            });\n        },\n\n        _click: function(e) {\n            var button = $(e.currentTarget);\n            var dir = 1;\n\n            if (button.is(\".k-zoom-out\")) {\n                dir = -1;\n            }\n\n            this._change(dir);\n            e.preventDefault();\n        },\n\n        _keydown: function(e) {\n            switch (e.which) {\n                case keys.NUMPAD_PLUS:\n                case PLUS:\n                case FF_PLUS:\n                    this._change(1);\n                    break;\n\n                case keys.NUMPAD_MINUS:\n                case MINUS:\n                case FF_MINUS:\n                    this._change(-1);\n                    break;\n            }\n        }\n    });\n\n\n    // Exports ================================================================\n    kendo.dataviz.ui.plugin(ZoomControl);\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var math = Math,\n        atan = math.atan,\n        exp = math.exp,\n        pow = math.pow,\n        sin = math.sin,\n        log = math.log,\n        tan = math.tan,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        map = dataviz.map,\n        Location = map.Location,\n\n        util = kendo.drawing.util,\n        rad = util.rad,\n        deg = util.deg,\n        limit = util.limitValue;\n\n    // Constants ==============================================================\n    var PI = math.PI,\n        PI_DIV_2 = PI / 2,\n        PI_DIV_4 = PI / 4,\n        DEG_TO_RAD = PI / 180;\n\n    // Coordinate reference systems ===========================================\n    var WGS84 = {\n        a: 6378137, // Semi-major radius\n        b: 6356752.314245179, // Semi-minor radius\n        f: 0.0033528106647474805, // Flattening\n        e: 0.08181919084262149 // Eccentricity\n    };\n\n    // WGS 84 / World Mercator\n    var Mercator = Class.extend({\n        init: function(options) {\n            this._initOptions(options);\n        },\n\n        MAX_LNG: 180,\n        MAX_LAT: 85.0840590501,\n        INVERSE_ITERATIONS: 15,\n        INVERSE_CONVERGENCE: 1e-12,\n\n        options: {\n            centralMeridian: 0,\n            datum: WGS84\n        },\n\n        forward: function(loc, clamp) {\n            var proj = this,\n                options = proj.options,\n                datum = options.datum,\n                r = datum.a,\n                lng0 = options.centralMeridian,\n                lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT),\n                lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng,\n                x = rad(lng - lng0) * r,\n                y = proj._projectLat(lat);\n\n            return new Point(x, y);\n        },\n\n        _projectLat: function(lat) {\n            var datum = this.options.datum,\n                ecc = datum.e,\n                r = datum.a,\n                y = rad(lat),\n                ts = tan(PI_DIV_4 + y / 2),\n                con = ecc * sin(y),\n                p = pow((1 - con) / (1 + con), ecc / 2);\n\n            // See:\n            // http://en.wikipedia.org/wiki/Mercator_projection#Generalization_to_the_ellipsoid\n            return r * log(ts * p);\n        },\n\n        inverse: function(point, clamp) {\n            var proj = this,\n                options = proj.options,\n                datum = options.datum,\n                r = datum.a,\n                lng0 = options.centralMeridian,\n                lng = point.x / (DEG_TO_RAD * r) + lng0,\n                lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n\n            if (clamp) {\n                lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\n            }\n\n            return new Location(lat, lng);\n        },\n\n        _inverseY: function(y) {\n            var proj = this,\n                datum = proj.options.datum,\n                r = datum.a,\n                ecc = datum.e,\n                ecch = ecc / 2,\n                ts = exp(-y / r),\n                phi = PI_DIV_2 - 2 * atan(ts),\n                i;\n\n            for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n                var con = ecc * sin(phi),\n                    p = pow((1 - con) / (1 + con), ecch),\n                    dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n\n                phi += dphi;\n\n                if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                    break;\n                }\n            }\n\n            return deg(phi);\n        }\n    });\n\n    // WGS 84 / Pseudo-Mercator\n    // Used by Google Maps, Bing, OSM, etc.\n    // Spherical projection of ellipsoidal coordinates.\n    var SphericalMercator = Mercator.extend({\n        MAX_LAT: 85.0511287798,\n\n        _projectLat: function(lat) {\n            var r = this.options.datum.a,\n                y = rad(lat),\n                ts = tan(PI_DIV_4 + y / 2);\n\n            return r * log(ts);\n        },\n\n        _inverseY: function(y) {\n            var r = this.options.datum.a,\n                ts = exp(-y / r);\n\n            return deg(PI_DIV_2 - (2 * atan(ts)));\n        }\n    });\n\n    var Equirectangular = Class.extend({\n        forward: function(loc) {\n            return new Point(loc.lng, loc.lat);\n        },\n\n        inverse: function(point) {\n            return new Location(point.y, point.x);\n        }\n    });\n\n    // TODO: Better (less cryptic name) for this class(es)\n    var EPSG3857 = Class.extend({\n        init: function() {\n            var crs = this,\n                proj = crs._proj = new SphericalMercator();\n\n            var c = this.c = 2 * PI * proj.options.datum.a;\n\n            // Scale circumference to 1, mirror Y and shift origin to top left\n            this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n\n            // Inverse transform matrix\n            this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\n        },\n\n        // Location <-> Point (screen coordinates for a given scale)\n        toPoint: function(loc, scale, clamp) {\n            var point = this._proj.forward(loc, clamp);\n\n            return point\n                .transform(this._tm)\n                .scale(scale || 1);\n        },\n\n        toLocation: function(point, scale, clamp) {\n            point = point\n                .clone()\n                .scale(1 / (scale || 1))\n                .transform(this._itm);\n\n            return this._proj.inverse(point, clamp);\n        }\n    });\n\n    var EPSG3395 = Class.extend({\n        init: function() {\n            this._proj = new Mercator();\n        },\n\n        toPoint: function(loc) {\n            return this._proj.forward(loc);\n        },\n\n        toLocation: function(point) {\n            return this._proj.inverse(point);\n        }\n    });\n\n    // WGS 84\n    var EPSG4326 = Class.extend({\n        init: function() {\n            this._proj = new Equirectangular();\n        },\n\n        toPoint: function(loc) {\n            return this._proj.forward(loc);\n        },\n\n        toLocation: function(point) {\n            return this._proj.inverse(point);\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            crs: {\n                EPSG3395: EPSG3395,\n                EPSG3857: EPSG3857,\n                EPSG4326: EPSG4326\n            },\n            datums: {\n                WGS84: WGS84\n            },\n            projections: {\n                Equirectangular: Equirectangular,\n                Mercator: Mercator,\n                SphericalMercator: SphericalMercator\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        Extent = dataviz.map.Extent,\n\n        util = kendo.drawing.util,\n        defined = util.defined;\n\n    // Implementation =========================================================\n    var Layer = Class.extend({\n        init: function(map, options) {\n            this._initOptions(options);\n            this.map = map;\n\n            this.element = $(\"<div class='k-layer'></div>\")\n               .css({\n                   \"zIndex\": this.options.zIndex,\n                   \"opacity\": this.options.opacity\n               })\n               .appendTo(map.scrollElement);\n\n            this._beforeReset = this._beforeReset.bind(this);\n            this._reset = this._reset.bind(this);\n            this._resize = this._resize.bind(this);\n            this._panEnd = this._panEnd.bind(this);\n            this._activate();\n\n            this._updateAttribution();\n        },\n\n        destroy: function() {\n            this._deactivate();\n        },\n\n        show: function() {\n            this.reset();\n            this._activate();\n            this._applyExtent(true);\n        },\n\n        hide: function() {\n            this._deactivate();\n            this._setVisibility(false);\n        },\n\n        reset: function() {\n            this._beforeReset();\n            this._reset();\n        },\n\n        _reset: function() {\n            this._applyExtent();\n        },\n\n        _beforeReset: $.noop,\n\n        _resize: $.noop,\n\n        _panEnd: function() {\n            this._applyExtent();\n        },\n\n        _applyExtent: function() {\n            var options = this.options;\n\n            var zoom = this.map.zoom();\n            var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n            var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n\n            var extent = Extent.create(options.extent);\n            var inside = !extent || extent.overlaps(this.map.extent());\n\n            this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n        },\n\n        _setVisibility: function(visible) {\n            this.element.css(\"display\", visible ? \"\" : \"none\");\n        },\n\n        _activate: function() {\n            var map = this.map;\n            this._deactivate();\n            map.bind(\"beforeReset\", this._beforeReset);\n            map.bind(\"reset\", this._reset);\n            map.bind(\"resize\", this._resize);\n            map.bind(\"panEnd\", this._panEnd);\n        },\n\n        _deactivate: function() {\n            var map = this.map;\n            map.unbind(\"beforeReset\", this._beforeReset);\n            map.unbind(\"reset\", this._reset);\n            map.unbind(\"resize\", this._resize);\n            map.unbind(\"panEnd\", this._panEnd);\n        },\n\n        _updateAttribution: function() {\n            var attr = this.map.attribution;\n\n            if (attr) {\n                attr.add(this.options.attribution);\n            }\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                Layer: Layer\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        DataSource = kendo.data.DataSource,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n\n        d = kendo.drawing,\n        Group = d.Group,\n\n        last = d.util.last,\n        defined = d.util.defined,\n\n        map = dataviz.map,\n        Location = map.Location,\n        Layer = map.layers.Layer;\n\n    // Implementation =========================================================\n    var ShapeLayer = Layer.extend({\n        init: function(map, options) {\n\n            this._pan = this._pan.bind(this);\n\n            Layer.fn.init.call(this, map, options);\n\n            this.surface = d.Surface.create(this.element, {\n                width: map.scrollElement.width(),\n                height: map.scrollElement.height()\n            });\n\n            this._initRoot();\n\n            this.movable = new kendo.ui.Movable(this.surface.element);\n            this._markers = [];\n\n            this._click = this._handler(\"shapeClick\");\n            this.surface.bind(\"click\", this._click);\n\n            this._mouseenter = this._handler(\"shapeMouseEnter\");\n            this.surface.bind(\"mouseenter\", this._mouseenter);\n\n            this._mouseleave = this._handler(\"shapeMouseLeave\");\n            this.surface.bind(\"mouseleave\", this._mouseleave);\n\n            this._initDataSource();\n        },\n\n        options: {\n            autoBind: true\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this.surface.destroy();\n            this.dataSource.unbind(\"change\", this._dataChange);\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._dataChange);\n            }\n\n            this.dataSource = kendo.data.DataSource.create(dataSource);\n            this.dataSource.bind(\"change\", this._dataChange);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _reset: function() {\n            Layer.fn._reset.call(this);\n            this._translateSurface();\n\n            if (this._data) {\n                this._load(this._data);\n            }\n        },\n\n        _initRoot: function() {\n            this._root = new Group();\n            this.surface.draw(this._root);\n        },\n\n        _beforeReset: function() {\n            this.surface.clear();\n            this._initRoot();\n        },\n\n        _resize: function() {\n            this.surface.size(this.map.size());\n        },\n\n        _initDataSource: function() {\n            var dsOptions = this.options.dataSource;\n            this._dataChange = this._dataChange.bind(this);\n            this.dataSource = DataSource\n                .create(dsOptions)\n                .bind(\"change\", this._dataChange);\n\n            if (dsOptions && this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _dataChange: function(e) {\n            this._data = e.sender.view();\n            this._load(this._data);\n        },\n\n        _load: function(data) {\n            this._clearMarkers();\n\n            if (!this._loader) {\n                this._loader = new GeoJSONLoader(this.map, this.options.style, this);\n            }\n\n            var container = new Group();\n            for (var i = 0; i < data.length; i++) {\n                var shape = this._loader.parse(data[i]);\n                if (shape) {\n                    container.append(shape);\n                }\n            }\n\n            this._root.clear();\n            this._root.append(container);\n        },\n\n        shapeCreated: function(shape) {\n            var cancelled = false;\n            if (shape instanceof d.Circle) {\n                cancelled = defined(this._createMarker(shape));\n            }\n\n            if (!cancelled) {\n                var args = { layer: this, shape: shape };\n                cancelled = this.map.trigger(\"shapeCreated\", args);\n            }\n\n            return cancelled;\n        },\n\n        featureCreated: function(e) {\n            e.layer = this;\n            this.map.trigger(\"shapeFeatureCreated\", e);\n        },\n\n        _createMarker: function(shape) {\n            var marker = this.map.markers.bind({\n                location: shape.location\n            }, shape.dataItem);\n\n            if (marker) {\n                this._markers.push(marker);\n            }\n\n            return marker;\n        },\n\n        _clearMarkers: function() {\n            for (var i = 0; i < this._markers.length; i++) {\n                this.map.markers.remove(this._markers[i]);\n            }\n            this._markers = [];\n        },\n\n        _pan: function() {\n            if (!this._panning) {\n                this._panning = true;\n                this.surface.suspendTracking();\n            }\n        },\n\n        _panEnd: function(e) {\n            Layer.fn._panEnd.call(this, e);\n            this._translateSurface();\n            this.surface.resumeTracking();\n            this._panning = false;\n        },\n\n        _translateSurface: function() {\n            var map = this.map;\n            var nw = map.locationToView(map.extent().nw);\n\n            if (this.surface.translate) {\n                this.surface.translate(nw);\n                this.movable.moveTo({ x: nw.x, y: nw.y });\n            }\n        },\n\n        _handler: function(event) {\n            var layer = this;\n            return function(e) {\n                if (e.element) {\n                    var args = {\n                        layer: layer,\n                        shape: e.element,\n                        originalEvent: e.originalEvent\n                    };\n\n                    layer.map.trigger(event, args);\n                }\n            };\n        },\n\n        _activate: function() {\n            Layer.fn._activate.call(this);\n\n            this.map.bind(\"pan\", this._pan);\n        },\n\n        _deactivate: function() {\n            Layer.fn._deactivate.call(this);\n\n            this.map.unbind(\"pan\", this._pan);\n        }\n    });\n\n    var GeoJSONLoader = Class.extend({\n        init: function(locator, defaultStyle, observer) {\n            this.observer = observer;\n            this.locator = locator;\n            this.style = defaultStyle;\n        },\n\n        parse: function(item) {\n            var root = new Group();\n            var unwrap = true;\n\n            if (item.type === \"Feature\") {\n                unwrap = false;\n                this._loadGeometryTo(root, item.geometry, item);\n                this._featureCreated(root, item);\n            } else {\n                this._loadGeometryTo(root, item, item);\n            }\n\n            if (unwrap && root.children.length < 2) {\n                root = root.children[0];\n            }\n\n            return root;\n        },\n\n        _shapeCreated: function(shape) {\n            var cancelled = false;\n\n            if (this.observer && this.observer.shapeCreated) {\n                cancelled = this.observer.shapeCreated(shape);\n            }\n\n            return cancelled;\n        },\n\n        _featureCreated: function(group, dataItem) {\n            if (this.observer && this.observer.featureCreated) {\n                this.observer.featureCreated({\n                    group: group,\n                    dataItem: dataItem,\n                    properties: dataItem.properties\n                });\n            }\n        },\n\n        _loadGeometryTo: function(container, geometry, dataItem) {\n            var coords = geometry.coordinates;\n            var i;\n            var path;\n\n            switch (geometry.type) {\n                case \"LineString\":\n                    path = this._loadPolygon(container, [coords], dataItem);\n                    this._setLineFill(path);\n                    break;\n\n                case \"MultiLineString\":\n                    for (i = 0; i < coords.length; i++) {\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\n                        this._setLineFill(path);\n                    }\n                    break;\n\n                case \"Polygon\":\n                    this._loadPolygon(container, coords, dataItem);\n                    break;\n\n                case \"MultiPolygon\":\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPolygon(container, coords[i], dataItem);\n                    }\n                    break;\n\n                case \"Point\":\n                    this._loadPoint(container, coords, dataItem);\n                    break;\n\n                case \"MultiPoint\":\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPoint(container, coords[i], dataItem);\n                    }\n                    break;\n            }\n        },\n\n        _setLineFill: function(path) {\n            var segments = path.segments;\n            if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n                path.options.fill = null;\n            }\n        },\n\n        _loadShape: function(container, shape) {\n            if (!this._shapeCreated(shape)) {\n                container.append(shape);\n            }\n\n            return shape;\n        },\n\n        _loadPolygon: function(container, rings, dataItem) {\n            var shape = this._buildPolygon(rings);\n            shape.dataItem = dataItem;\n\n            return this._loadShape(container, shape);\n        },\n\n        _buildPolygon: function(rings) {\n            var type = rings.length > 1 ? d.MultiPath : d.Path;\n            var path = new type(this.style);\n\n            for (var i = 0; i < rings.length; i++) {\n                for (var j = 0; j < rings[i].length; j++) {\n                    var point = this.locator.locationToView(\n                        Location.fromLngLat(rings[i][j])\n                    );\n\n                    if (j === 0) {\n                        path.moveTo(point.x, point.y);\n                    } else {\n                        path.lineTo(point.x, point.y);\n                    }\n                }\n            }\n\n            return path;\n        },\n\n        _loadPoint: function(container, coords, dataItem) {\n            var location = Location.fromLngLat(coords);\n            var point = this.locator.locationToView(location);\n\n            var circle = new g.Circle(point, 10);\n            var shape = new d.Circle(circle, this.style);\n            shape.dataItem = dataItem;\n            shape.location = location;\n\n            return this._loadShape(container, shape);\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(kendo.data, {\n        schemas: {\n            geojson: {\n                type: \"json\",\n                data: function(data) {\n                    if (data.type === \"FeatureCollection\") {\n                        return data.features;\n                    }\n\n                    if (data.type === \"GeometryCollection\") {\n                        return data.geometries;\n                    }\n\n                    return data;\n                }\n            }\n        },\n        transports: {\n            geojson: {\n                read: {\n                    dataType: \"json\"\n                }\n            }\n        }\n    });\n\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                shape: ShapeLayer,\n                ShapeLayer: ShapeLayer\n            },\n            GeoJSONLoader: GeoJSONLoader\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        getter = kendo.getter,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        d = kendo.drawing,\n\n        util = d.util,\n        defined = util.defined,\n\n        map = dataviz.map,\n        Location = map.Location,\n        ShapeLayer = map.layers.ShapeLayer;\n\n    // Implementation =========================================================\n    var BubbleLayer = ShapeLayer.extend({\n        options: {\n            autoBind: true,\n            locationField: \"location\",\n            valueField: \"value\",\n            minSize: 0,\n            maxSize: 100,\n            scale: \"sqrt\",\n            symbol: \"circle\"\n        },\n\n        _load: function(data) {\n            this.surface.clear();\n\n            if (data.length === 0) {\n                return;\n            }\n\n            var opt = this.options;\n            var getValue = getter(opt.valueField);\n\n            data = data.slice(0);\n            data.sort(function(a, b) {\n                return getValue(b) - getValue(a);\n            });\n\n            var scaleType = this._scaleType();\n            var scale;\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                var location = getter(opt.locationField)(dataItem);\n                var value = getter(opt.valueField)(dataItem);\n\n                if (defined(location) && defined(value)) {\n                    if (!scale) {\n                        scale = new scaleType([0, value], [opt.minSize, opt.maxSize]);\n                    }\n\n                    location = Location.create(location);\n                    var center = this.map.locationToView(location);\n                    var size = scale.map(value);\n\n                    var symbol = this._createSymbol({\n                        center: center,\n                        size: size,\n                        style: opt.style,\n                        dataItem: dataItem,\n                        location: location\n                    });\n\n                    symbol.dataItem = dataItem;\n                    symbol.location = location;\n                    symbol.value = value;\n\n                    this._drawSymbol(symbol);\n                }\n            }\n        },\n\n        _scaleType: function() {\n            var scale = this.options.scale;\n\n            if (kendo.isFunction(scale)) {\n                return scale;\n            }\n\n            return dataviz.map.scales[scale];\n        },\n\n        _createSymbol: function(args) {\n            var symbol = this.options.symbol;\n            if (!kendo.isFunction(symbol)) {\n                symbol = dataviz.map.symbols[symbol];\n            }\n\n            return symbol(args);\n        },\n\n        _drawSymbol: function(shape) {\n            var args = { layer: this, shape: shape };\n            var cancelled = this.map.trigger(\"shapeCreated\", args);\n            if (!cancelled) {\n                this.surface.draw(shape);\n            }\n        }\n    });\n\n    var SqrtScale = kendo.Class.extend({\n        init: function(domain, range) {\n            this._domain = domain;\n            this._range = range;\n\n            var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n            var outputRange = range[1] - range[0];\n            this._ratio = outputRange / domainRange;\n        },\n\n        map: function(value) {\n            var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n            return this._range[0] + rel;\n        }\n    });\n\n    var Symbols = {\n        circle: function(args) {\n            var geo = new g.Circle(args.center, args.size / 2);\n            return new d.Circle(geo, args.style);\n        },\n\n        square: function(args) {\n            var path = new d.Path(args.style);\n            var halfSize = args.size / 2;\n            var center = args.center;\n\n            path.moveTo(center.x - halfSize, center.y - halfSize)\n                .lineTo(center.x + halfSize, center.y - halfSize)\n                .lineTo(center.x + halfSize, center.y + halfSize)\n                .lineTo(center.x - halfSize, center.y + halfSize)\n                .close();\n\n            return path;\n        }\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                bubble: BubbleLayer,\n                BubbleLayer: BubbleLayer\n            },\n            scales: {\n                sqrt: SqrtScale\n            },\n            symbols: Symbols\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var math = Math,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n        template = kendo.template,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        Layer = dataviz.map.layers.Layer,\n\n        util = kendo.util,\n        renderSize = util.renderSize,\n\n        drawingUtil = kendo.drawing.util,\n        round = drawingUtil.round,\n        limit = drawingUtil.limitValue;\n\n    // Image tile layer =============================================================\n    var TileLayer = Layer.extend({\n        init: function(map, options) {\n            Layer.fn.init.call(this, map, options);\n\n            if (typeof this.options.subdomains === \"string\") {\n                this.options.subdomains = this.options.subdomains.split(\"\");\n            }\n\n            var viewType = this._viewType();\n            this._view = new viewType(this.element, this.options);\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this._view.destroy();\n            this._view = null;\n        },\n\n        _beforeReset: function() {\n            var map = this.map;\n            var origin = map.locationToLayer(map.extent().nw).round();\n            this._view.viewOrigin(origin);\n        },\n\n        _reset: function(e) {\n            var tileTitle;\n\n            if (e) {\n                tileTitle = e.tileTitle;\n            } else {\n                tileTitle = \"\";\n            }\n\n            Layer.fn._reset.call(this);\n            this._updateView();\n            this._view.reset(tileTitle);\n        },\n\n        _viewType: function() {\n            return TileView;\n        },\n\n        _activate: function() {\n            Layer.fn._activate.call(this);\n\n            if (!kendo.support.mobileOS) {\n                if (!this._pan) {\n                    this._pan = kendo.throttle(\n                        this._render.bind(this),\n                        100\n                    );\n                }\n\n                this.map.bind(\"pan\", this._pan);\n            }\n        },\n\n        _deactivate: function() {\n            Layer.fn._deactivate.call(this);\n\n            if (this._pan) {\n                this.map.unbind(\"pan\", this._pan);\n            }\n        },\n\n        _updateView: function() {\n            var view = this._view,\n                map = this.map,\n                extent = map.extent(),\n                extentToPoint = {\n                    nw: map.locationToLayer(extent.nw).round(),\n                    se: map.locationToLayer(extent.se).round()\n                };\n\n            view.center(map.locationToLayer(map.center()));\n            view.extent(extentToPoint);\n            view.zoom(map.zoom());\n        },\n\n        _resize: function() {\n            this._render();\n        },\n\n        _panEnd: function(e) {\n            Layer.fn._panEnd.call(this, e);\n            this._render();\n        },\n\n        _render: function() {\n            this._updateView();\n            this._view.render();\n        }\n    });\n\n    var TileView = Class.extend({\n        init: function(element, options) {\n            this.element = element;\n            this._initOptions(options);\n\n            this.pool = new TilePool();\n        },\n\n        options: {\n            tileSize: 256,\n            subdomains: [\"a\", \"b\", \"c\"],\n            urlTemplate: () => \"\"\n        },\n\n        center: function(center) {\n            this._center = center;\n        },\n\n        extent: function(extent) {\n            this._extent = extent;\n        },\n\n        viewOrigin: function(origin) {\n            this._viewOrigin = origin;\n        },\n\n        zoom: function(zoom) {\n            this._zoom = zoom;\n        },\n\n        pointToTileIndex: function(point) {\n            return new Point(\n                math.floor(point.x / this.options.tileSize),\n                math.floor(point.y / this.options.tileSize)\n            );\n        },\n\n        tileCount: function() {\n            var size = this.size(),\n                firstTileIndex = this.pointToTileIndex(this._extent.nw),\n                nw = this._extent.nw,\n                point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n\n            return {\n                x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n                y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n            };\n        },\n\n        size: function() {\n            var nw = this._extent.nw,\n                se = this._extent.se,\n                diff = se.clone().translate(-nw.x, -nw.y);\n\n            return {\n                width: diff.x,\n                height: diff.y\n            };\n        },\n\n        indexToPoint: function(index) {\n            var x = index.x, y = index.y;\n\n            return new Point(\n                x * this.options.tileSize,\n                y * this.options.tileSize\n            );\n        },\n\n        subdomainText: function() {\n            var subdomains = this.options.subdomains;\n\n            return subdomains[this.subdomainIndex++ % subdomains.length];\n        },\n\n        destroy: function() {\n            this.element.empty();\n            this.pool.empty();\n        },\n\n        reset: function(tileTitle) {\n            this._tileTitle = tileTitle;\n            this.pool.reset();\n            this.subdomainIndex = 0;\n            this.render();\n        },\n\n        render: function() {\n            var size = this.tileCount(),\n                firstTileIndex = this.pointToTileIndex(this._extent.nw),\n                tile, x, y;\n\n            for (x = 0; x < size.x; x++) {\n                for (y = 0; y < size.y; y++) {\n                    tile = this.createTile({\n                        x: firstTileIndex.x + x,\n                        y: firstTileIndex.y + y\n                    });\n\n                    if (!tile.visible) {\n                        tile.show();\n                    }\n                }\n            }\n        },\n\n        createTile: function(currentIndex) {\n            var options = this.tileOptions(currentIndex);\n            var tile = this.pool.get(this._center, options);\n            if (tile.element.parent().length === 0) {\n                this.element.append(tile.element);\n            }\n\n            return tile;\n        },\n\n        tileOptions: function(currentIndex) {\n            var index = this.wrapIndex(currentIndex),\n                point = this.indexToPoint(currentIndex),\n                origin = this._viewOrigin,\n                offset = point.clone().translate(-origin.x, -origin.y);\n\n            return {\n                index: index,\n                currentIndex: currentIndex,\n                point: point,\n                offset: roundPoint(offset),\n                zoom: this._zoom,\n                size: this.options.tileSize,\n                subdomain: this.subdomainText(),\n                urlTemplate: this.options.urlTemplate,\n                errorUrlTemplate: this.options.errorUrlTemplate,\n                tileTitle: this._tileTitle\n            };\n        },\n\n        wrapIndex: function(index) {\n            var boundary = math.pow(2, this._zoom);\n            return {\n                x: this.wrapValue(index.x, boundary),\n                y: limit(index.y, 0, boundary - 1)\n            };\n        },\n\n        wrapValue: function(value, boundary) {\n            var remainder = (math.abs(value) % boundary);\n            if (value >= 0) {\n                value = remainder;\n            } else {\n                value = boundary - (remainder === 0 ? boundary : remainder);\n            }\n\n            return value;\n        }\n    });\n\n    var ImageTile = Class.extend({\n        init: function(id, options) {\n            this.id = id;\n            this.visible = true;\n\n            this._initOptions(options);\n            this.createElement();\n            this.show();\n        },\n\n        options: {\n            urlTemplate: () => \"\",\n            errorUrlTemplate: () => \"\"\n        },\n\n        createElement: function() {\n            this.element = $(\"<img style='position: absolute; display: block;' alt='\" + this.options.tileTitle + \"' />\")\n                            .css({ width: this.options.size, height: this.options.size })\n                            .on(\"error\", (function(e) {\n                                if (this.errorUrl()) {\n                                    e.target.setAttribute(\"src\", this.errorUrl());\n                                } else {\n                                    e.target.removeAttribute(\"src\");\n                                }\n                            }).bind(this));\n        },\n\n        show: function() {\n            var element = this.element[0];\n            element.style.top = renderSize(this.options.offset.y);\n            element.style.left = renderSize(this.options.offset.x);\n\n            var url = this.url();\n            if (url) {\n                element.setAttribute(\"src\", url);\n            }\n\n            element.style.visibility = \"visible\";\n            this.visible = true;\n        },\n\n        hide: function() {\n            this.element[0].style.visibility = \"hidden\";\n            this.visible = false;\n        },\n\n        url: function() {\n            var urlResult = template(this.options.urlTemplate);\n\n            return urlResult(this.urlOptions());\n        },\n\n        errorUrl: function() {\n            var urlResult = template(this.options.errorUrlTemplate);\n\n            return urlResult(this.urlOptions());\n        },\n\n        urlOptions: function() {\n            var options = this.options;\n            return {\n                zoom: options.zoom,\n                subdomain: options.subdomain,\n                z: options.zoom,\n                x: options.index.x,\n                y: options.index.y,\n                s: options.subdomain,\n                quadkey: options.quadkey,\n                q: options.quadkey,\n                culture: options.culture,\n                c: options.culture\n            };\n        },\n\n        destroy: function() {\n            if (this.element) {\n                this.element.remove();\n                this.element = null;\n            }\n        }\n    });\n\n    var TilePool = Class.extend({\n        init: function() {\n            this._items = [];\n        },\n\n        options: {\n            maxSize: 100\n        },\n\n        get: function(center, options) {\n            if (this._items.length >= this.options.maxSize) {\n                this._remove(center);\n            }\n\n            return this._create(options);\n        },\n\n        empty: function() {\n            var items = this._items;\n            for (var i = 0; i < items.length; i++) {\n                items[i].destroy();\n            }\n\n            this._items = [];\n        },\n\n        reset: function() {\n            var items = this._items;\n            for (var i = 0; i < items.length; i++) {\n                items[i].hide();\n            }\n        },\n\n        _create: function(options) {\n            var items = this._items;\n            var tile;\n\n            // Build an unique token for the image\n            // This normally would be the URL, but we don't care about subdomains\n            var id = util.hashKey(\n                options.point.toString() +\n                options.offset.toString() +\n                options.zoom +\n                options.urlTemplate\n            );\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].id === id) {\n                    tile = items[i];\n                    break;\n                }\n            }\n\n            if (tile) {\n                tile.show();\n            } else {\n                tile = new ImageTile(id, options);\n                this._items.push(tile);\n            }\n\n            return tile;\n        },\n\n        _remove: function(center) {\n            var items = this._items;\n            var maxDist = -1;\n            var index = -1;\n\n            for (var i = 0; i < items.length; i++) {\n                var dist = items[i].options.point.distanceTo(center);\n                if (dist > maxDist && !items[i].visible) {\n                    index = i;\n                    maxDist = dist;\n                }\n            }\n\n            if (index !== -1) {\n                items[index].destroy();\n                items.splice(index, 1);\n            }\n        }\n    });\n\n    // Methods ================================================================\n    function roundPoint(point) {\n        return new Point(round(point.x), round(point.y));\n    }\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                tile: TileLayer,\n                TileLayer: TileLayer,\n\n                ImageTile: ImageTile,\n                TilePool: TilePool,\n                TileView: TileView\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n        defined = kendo.drawing.util.defined,\n\n        Extent = dataviz.map.Extent,\n        Location = dataviz.map.Location,\n        TileLayer = dataviz.map.layers.TileLayer,\n        TileView = dataviz.map.layers.TileView;\n\n    // Bing tile layer =============================================================\n    var BingLayer = TileLayer.extend({\n        init: function(map, options) {\n            this.options.baseUrl =\n                this._scheme() +\n                \"://dev.virtualearth.net/REST/v1/Imagery/Metadata/\";\n\n            TileLayer.fn.init.call(this, map, options);\n\n            this._onMetadata = this._onMetadata.bind(this);\n            this._fetchMetadata();\n        },\n\n        options: {\n            imagerySet: \"road\"\n        },\n\n        _fetchMetadata: function() {\n            var options = this.options;\n\n            if (!options.key) {\n                throw new Error(\"Bing tile layer: API key is required\");\n            }\n\n            $.ajax({\n                url: options.baseUrl + options.imagerySet,\n                data: {\n                    output: \"json\",\n                    include: \"ImageryProviders\",\n                    key: options.key,\n                    uriScheme: this._scheme()\n                },\n                type: \"get\",\n                dataType: \"jsonp\",\n                jsonp: \"jsonp\",\n                success: this._onMetadata\n            });\n        },\n\n        _scheme: function(proto) {\n            proto = proto || window.location.protocol;\n            return proto.replace(\":\", \"\") === \"https\" ? \"https\" : \"http\";\n        },\n\n        _onMetadata: function(data) {\n            if (data && data.resourceSets.length) {\n                var resource = this.resource = data.resourceSets[0].resources[0];\n\n                deepExtend(this._view.options, {\n                    urlTemplate: ({ subdomain, quadkey, culture }) => resource.imageUrl\n                        .replace(\"{subdomain}\", subdomain)\n                        .replace(\"{quadkey}\", quadkey)\n                        .replace(\"{culture}\", culture),\n                    subdomains: resource.imageUrlSubdomains\n                });\n\n                var options = this.options;\n                if (!defined(options.minZoom)) {\n                    options.minZoom = resource.zoomMin;\n                }\n                if (!defined(options.maxZoom)) {\n                    options.maxZoom = resource.zoomMax;\n                }\n\n                this._addAttribution();\n\n                if (this.element.css(\"display\") !== \"none\") {\n                    this._reset();\n                }\n            }\n        },\n\n        _viewType: function() {\n            return BingView;\n        },\n\n        _addAttribution: function() {\n            var attr = this.map.attribution;\n            if (attr) {\n                var items = this.resource.imageryProviders;\n                if (items) {\n                    for (var i = 0; i < items.length; i++) {\n                        var item = items[i];\n                        for (var y = 0; y < item.coverageAreas.length; y++) {\n                            var area = item.coverageAreas[y];\n                            attr.add({\n                                text: item.attribution,\n                                minZoom: area.zoomMin,\n                                maxZoom: area.zoomMax,\n                                extent: new Extent(\n                                    new Location(area.bbox[2], area.bbox[1]),\n                                    new Location(area.bbox[0], area.bbox[3])\n                                )\n                            });\n                        }\n                    }\n                }\n            }\n        },\n\n        imagerySet: function(value) {\n            if (value) {\n                this.options.imagerySet = value;\n                this.map.attribution.clear();\n                this._fetchMetadata();\n            } else {\n                return this.options.imagerySet;\n            }\n        }\n    });\n\n    var BingView = TileView.extend({\n        options: {\n            culture: \"en-US\"\n        },\n\n        tileOptions: function(currentIndex) {\n            var options = TileView.fn.tileOptions.call(this, currentIndex);\n\n            options.culture = this.options.culture;\n            options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\n\n            return options;\n        },\n\n        tileQuadKey: function(index) {\n            var quadKey = \"\",\n                digit, mask, i;\n\n            for (i = this._zoom; i > 0; i--) {\n                digit = 0;\n                mask = 1 << (i - 1);\n\n                if ((index.x & mask) !== 0) {\n                    digit++;\n                }\n\n                if ((index.y & mask) !== 0) {\n                    digit += 2;\n                }\n\n                quadKey += digit;\n            }\n\n            return quadKey;\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                bing: BingLayer,\n                BingLayer: BingLayer,\n                BingView: BingView\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var doc = document,\n        math = Math,\n        indexOf = $.inArray,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n        DataSource = kendo.data.DataSource,\n        Tooltip = kendo.ui.Tooltip,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        map = dataviz.map,\n        Location = map.Location,\n        Layer = map.layers.Layer;\n\n    // Implementation =========================================================\n    var MarkerLayer = Layer.extend({\n        init: function(map, options) {\n            Layer.fn.init.call(this, map, options);\n\n            this._markerClick = this._markerClick.bind(this);\n            this.element.on(\"click\", \".k-marker\", this._markerClick);\n\n            this.items = [];\n            this._initDataSource();\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this.element.off(\"click\", \".k-marker\", this._markerClick);\n\n            this.dataSource.unbind(\"change\", this._dataChange);\n            this.clear();\n        },\n\n        options: {\n            zIndex: 1000,\n            autoBind: true,\n            dataSource: {},\n            locationField: \"location\",\n            titleField: \"title\"\n        },\n\n        add: function(arg) {\n            if (Array.isArray(arg)) {\n                for (var i = 0; i < arg.length; i++) {\n                    this._addOne(arg[i]);\n                }\n            } else {\n                return this._addOne(arg);\n            }\n        },\n\n        remove: function(marker) {\n            marker.destroy();\n\n            var index = indexOf(marker, this.items);\n            if (index > -1) {\n                this.items.splice(index, 1);\n            }\n        },\n\n        clear: function() {\n            for (var i = 0; i < this.items.length; i++) {\n                this.items[i].destroy();\n            }\n\n            this.items = [];\n        },\n\n        update: function(marker) {\n            var loc = marker.location();\n            if (loc) {\n                marker.showAt(this.map.locationToView(loc));\n\n                var args = { marker: marker, layer: this };\n                this.map.trigger(\"markerActivate\", args);\n            }\n        },\n\n        _reset: function() {\n            Layer.fn._reset.call(this);\n            var items = this.items;\n            for (var i = 0; i < items.length; i++) {\n                this.update(items[i]);\n            }\n        },\n\n        bind: function(options, dataItem) {\n            var marker = map.Marker.create(options, this.options);\n            marker.dataItem = dataItem;\n\n            var args = { marker: marker, layer: this };\n            var cancelled = this.map.trigger(\"markerCreated\", args);\n            if (!cancelled) {\n                this.add(marker);\n                return marker;\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._dataChange);\n            }\n\n            this.dataSource = kendo.data.DataSource.create(dataSource);\n            this.dataSource.bind(\"change\", this._dataChange);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _addOne: function(arg) {\n            var marker = Marker.create(arg, this.options);\n            marker.addTo(this);\n\n            return marker;\n        },\n\n        _initDataSource: function() {\n            var dsOptions = this.options.dataSource;\n            this._dataChange = this._dataChange.bind(this);\n            this.dataSource = DataSource\n                .create(dsOptions)\n                .bind(\"change\", this._dataChange);\n\n            if (dsOptions && this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _dataChange: function(e) {\n            this._load(e.sender.view());\n        },\n\n        _load: function(data) {\n            this._data = data;\n            this.clear();\n\n            var getLocation = kendo.getter(this.options.locationField);\n            var getTitle = kendo.getter(this.options.titleField);\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                this.bind({\n                    location: getLocation(dataItem),\n                    title: getTitle(dataItem)\n                }, dataItem);\n            }\n        },\n\n        _markerClick: function(e) {\n            var args = { marker: $(e.target).data(\"kendoMarker\"), layer: this };\n            this.map.trigger(\"markerClick\", args);\n        }\n    });\n\n    var Marker = Class.extend({\n        init: function(options) {\n            this.options = options || {};\n        },\n\n        addTo: function(parent) {\n            this.layer = parent.markers || parent;\n            this.layer.items.push(this);\n            this.layer.update(this);\n        },\n\n        location: function(value) {\n            if (value) {\n                this.options.location = Location.create(value).toArray();\n\n                if (this.layer) {\n                    this.layer.update(this);\n                }\n\n                return this;\n            } else {\n                return Location.create(this.options.location);\n            }\n        },\n\n        showAt: function(point) {\n            this.render();\n            this.element.css({\n                left: math.round(point.x),\n                top: math.round(point.y)\n            });\n\n            if (this.tooltip && this.tooltip.popup) {\n                // TODO: Expose popup/tooltip updatePosition? method\n                this.tooltip.popup._position();\n            }\n        },\n\n        hide: function() {\n            if (this.element) {\n                this.element.remove();\n                this.element = null;\n            }\n\n            if (this.tooltip) {\n                this.tooltip.destroy();\n                this.tooltip = null;\n            }\n        },\n\n        destroy: function() {\n            this.layer = null;\n            this.hide();\n        },\n\n        render: function() {\n            if (!this.element) {\n                var options = this.options;\n                var layer = this.layer;\n\n                this.element = $(doc.createElement(\"span\"))\n                    .addClass(\"k-marker k-icon k-i-marker-\" + kendo.toHyphens(options.shape || \"pin\"))\n                    .attr(\"title\", options.title)\n                    .attr(options.attributes || {})\n                    .data(\"kendoMarker\", this)\n                    .css(\"zIndex\", options.zIndex);\n\n                if (layer) {\n                    layer.element.append(this.element);\n                }\n\n                this.renderTooltip();\n            }\n        },\n\n        renderTooltip: function() {\n            var marker = this;\n            var title = marker.options.title;\n            var options = marker.options.tooltip || {};\n\n            if (options && Tooltip) {\n                var template = options.template;\n                if (template) {\n                    var contentTemplate = kendo.template(template);\n                    options.content = function(e) {\n                        e.location = marker.location();\n                        e.marker = marker;\n                        return contentTemplate(e);\n                    };\n                }\n\n                if (title || options.content || options.contentUrl) {\n                    this.tooltip = new Tooltip(this.element, options);\n                    this.tooltip.marker = this;\n                }\n            }\n        }\n    });\n\n    Marker.create = function(arg, defaults) {\n        if (arg instanceof Marker) {\n            return arg;\n        }\n\n        return new Marker(deepExtend({}, defaults, arg));\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                marker: MarkerLayer,\n                MarkerLayer: MarkerLayer\n            },\n            Marker: Marker\n        }\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    // Imports ================================================================\n    var doc = document,\n        math = Math,\n        min = math.min,\n        pow = math.pow,\n\n        kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        deepExtend = kendo.deepExtend,\n\n        dataviz = kendo.dataviz,\n        ui = dataviz.ui,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        map = dataviz.map,\n        Extent = map.Extent,\n        Location = map.Location,\n        EPSG3857 = map.crs.EPSG3857,\n\n        util = kendo.util,\n        renderPos = util.renderPos,\n\n        drawingUtil = kendo.drawing.util,\n\n        defined = drawingUtil.defined,\n        limit = drawingUtil.limitValue,\n        valueOrDefault = drawingUtil.valueOrDefault;\n\n    // Constants ==============================================================\n    var CSS_PREFIX = \"k-\",\n        FRICTION = 0.90,\n        FRICTION_MOBILE = 0.93,\n        MOUSEWHEEL = \"DOMMouseScroll mousewheel\",\n        VELOCITY_MULTIPLIER = 5,\n        DEFAULT_ZOOM_RATE = 1;\n\n    // Map widget =============================================================\n    var Map = Widget.extend({\n        init: function(element, options) {\n            kendo.destroy(element);\n            Widget.fn.init.call(this, element);\n\n            this._initOptions(options);\n            this.bind(this.events, options);\n\n            this.crs = new EPSG3857();\n\n            this.element\n                .addClass(CSS_PREFIX + this.options.name.toLowerCase())\n                .css(\"position\", \"relative\")\n                .empty()\n                .append(doc.createElement(\"div\"));\n\n            this._viewOrigin = this._getOrigin();\n            this._initScroller();\n            this._initMarkers();\n            this._initControls();\n            this._initLayers();\n            this._reset();\n\n            this._mousewheel = this._mousewheel.bind(this);\n            this.element.on(MOUSEWHEEL, this._mousewheel);\n        },\n\n        options: {\n            name: \"Map\",\n            controls: {\n                attribution: true,\n                navigator: {\n                    panStep: 100\n                },\n                zoom: true\n            },\n            layers: [],\n            layerDefaults: {\n                shape: {\n                    style: {\n                        fill: {\n                            color: \"#fff\"\n                        },\n                        stroke: {\n                            color: \"#aaa\",\n                            width: 0.5\n                        }\n                    }\n                },\n                bubble: {\n                    style: {\n                        fill: {\n                            color: \"#fff\",\n                            opacity: 0.5\n                        },\n                        stroke: {\n                            color: \"#aaa\",\n                            width: 0.5\n                        }\n                    }\n                },\n                marker: {\n                    shape: \"pinTarget\",\n                    tooltip: {\n                        position: \"top\"\n                    }\n                }\n            },\n            center: [0, 0],\n            zoom: 3,\n            minSize: 256,\n            minZoom: 1,\n            maxZoom: 19,\n            markers: [],\n            markerDefaults: {\n                shape: \"pinTarget\",\n                tooltip: {\n                    position: \"top\"\n                }\n            },\n            wraparound: true,\n            messages: {\n                tileTitle: \"Map tile\"\n            }\n        },\n\n        events: [\n            \"beforeReset\",\n            \"click\",\n            \"markerActivate\",\n            \"markerClick\",\n            \"markerCreated\",\n            \"pan\",\n            \"panEnd\",\n            \"reset\",\n            \"shapeClick\",\n            \"shapeCreated\",\n            \"shapeFeatureCreated\",\n            \"shapeMouseEnter\",\n            \"shapeMouseLeave\",\n            \"zoomEnd\",\n            \"zoomStart\"\n        ],\n\n        destroy: function() {\n            this.scroller.destroy();\n\n            if (this.navigator) {\n                this.navigator.destroy();\n            }\n\n            if (this.attribution) {\n                this.attribution.destroy();\n            }\n\n            if (this.zoomControl) {\n                this.zoomControl.destroy();\n            }\n\n            this.markers.destroy();\n\n            for (var i = 0; i < this.layers.length; i++) {\n                this.layers[i].destroy();\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n\n        zoom: function(level) {\n            var options = this.options;\n\n            if (defined(level)) {\n                level = math.round(limit(level, options.minZoom, options.maxZoom));\n                if (options.zoom !== level) {\n                    options.zoom = level;\n                    this._reset();\n                }\n\n                return this;\n            } else {\n                return options.zoom;\n            }\n        },\n\n        center: function(center) {\n            if (center) {\n                this.options.center = Location.create(center).toArray();\n                this._reset();\n\n                return this;\n            } else {\n                return Location.create(this.options.center);\n            }\n        },\n\n        extent: function(extent) {\n            if (extent) {\n                this._setExtent(extent);\n                return this;\n            } else {\n                return this._getExtent();\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._reset();\n        },\n\n        locationToLayer: function(location, zoom) {\n            var clamp = !this.options.wraparound;\n            location = Location.create(location);\n            return this.crs.toPoint(location, this._layerSize(zoom), clamp);\n        },\n\n        layerToLocation: function(point, zoom) {\n            var clamp = !this.options.wraparound;\n            point = Point.create(point);\n            return this.crs.toLocation(point, this._layerSize(zoom), clamp);\n        },\n\n        locationToView: function(location) {\n            location = Location.create(location);\n            var origin = this.locationToLayer(this._viewOrigin);\n            var point = this.locationToLayer(location);\n\n            return point.translateWith(origin.scale(-1));\n        },\n\n        viewToLocation: function(point, zoom) {\n            var origin = this.locationToLayer(this._getOrigin(), zoom);\n            point = Point.create(point);\n            point = point.clone().translateWith(origin);\n            return this.layerToLocation(point, zoom);\n        },\n\n        eventOffset: function(e) {\n            var point;\n            var x;\n            var y;\n            var offset = this.element.offset();\n\n            if (e.x || e.y) {\n                var field = \"location\";\n                x = e.x[field] - offset.left;\n                y = e.y[field] - offset.top;\n                point = new g.Point(x, y);\n            } else {\n                var event = e.originalEvent || e;\n                x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n                y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n                point = new g.Point(x, y);\n            }\n\n            return point;\n        },\n\n        eventToView: function(e) {\n            var cursor = this.eventOffset(e);\n            return this.locationToView(this.viewToLocation(cursor));\n        },\n\n        eventToLayer: function(e) {\n            return this.locationToLayer(this.eventToLocation(e));\n        },\n\n        eventToLocation: function(e) {\n            var cursor = this.eventOffset(e);\n            return this.viewToLocation(cursor);\n        },\n\n        viewSize: function() {\n            var element = this.element;\n            var scale = this._layerSize();\n            var width = element.width();\n\n            if (!this.options.wraparound) {\n                width = min(scale, width);\n            }\n            return {\n                width: width,\n                height: min(scale, element.height())\n            };\n        },\n\n        exportVisual: function() {\n            this._reset();\n            return false;\n        },\n\n        _setOrigin: function(origin, zoom) {\n            var size = this.viewSize(),\n                topLeft;\n\n            origin = this._origin = Location.create(origin);\n            topLeft = this.locationToLayer(origin, zoom);\n            topLeft.x += size.width / 2;\n            topLeft.y += size.height / 2;\n\n            this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n\n            return this;\n        },\n\n        _getOrigin: function(invalidate) {\n            var size = this.viewSize(),\n                topLeft;\n\n            if (invalidate || !this._origin) {\n                topLeft = this.locationToLayer(this.center());\n                topLeft.x -= size.width / 2;\n                topLeft.y -= size.height / 2;\n\n                this._origin = this.layerToLocation(topLeft);\n            }\n\n            return this._origin;\n        },\n\n        _setExtent: function(extent) {\n            var raw = Extent.create(extent);\n            var se = raw.se.clone();\n            if (this.options.wraparound && se.lng < 0 && extent.nw.lng > 0) {\n                se.lng = 180 + (180 + se.lng);\n            }\n\n            extent = new Extent(raw.nw, se);\n            this.center(extent.center());\n\n            var width = this.element.width();\n            var height = this.element.height();\n            for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n                var topLeft = this.locationToLayer(extent.nw, zoom);\n                var bottomRight = this.locationToLayer(extent.se, zoom);\n\n                var layerWidth = math.abs(bottomRight.x - topLeft.x);\n                var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n                if (layerWidth <= width && layerHeight <= height) {\n                    break;\n                }\n            }\n\n            this.zoom(zoom);\n        },\n\n        _getExtent: function() {\n            var nw = this._getOrigin();\n            var bottomRight = this.locationToLayer(nw);\n            var size = this.viewSize();\n\n            bottomRight.x += size.width;\n            bottomRight.y += size.height;\n\n            var se = this.layerToLocation(bottomRight);\n            return new Extent(nw, se);\n        },\n\n        _zoomAround: function(pivot, level) {\n            this._setOrigin(this.layerToLocation(pivot, level), level);\n            this.zoom(level);\n        },\n\n        _initControls: function() {\n            var controls = this.options.controls;\n\n            if (ui.Attribution && controls.attribution) {\n                this._createAttribution(controls.attribution);\n            }\n\n            if (!kendo.support.mobileOS) {\n                if (ui.Navigator && controls.navigator) {\n                    this._createNavigator(controls.navigator);\n                }\n\n                if (ui.ZoomControl && controls.zoom) {\n                    this._createZoomControl(controls.zoom);\n                }\n            }\n        },\n\n        _createControlElement: function(options, defaultPos) {\n            var pos = options.position || defaultPos;\n            var posSelector = \".\" + renderPos(pos).replace(\" \", \".\");\n            var wrap = $(\".k-map-controls\" + posSelector, this.element);\n            if (wrap.length === 0) {\n                wrap = $(\"<div>\")\n                       .addClass(\"k-map-controls \" + renderPos(pos))\n                       .appendTo(this.element);\n            }\n\n            return $(\"<div>\").appendTo(wrap);\n        },\n\n        _createAttribution: function(options) {\n            var element = this._createControlElement(options, \"bottomRight\");\n            this.attribution = new ui.Attribution(element, options);\n        },\n\n        _createNavigator: function(options) {\n            var element = this._createControlElement(options, \"topLeft\");\n            var navigator = this.navigator = new ui.Navigator(element, options);\n\n            this._navigatorPan = this._navigatorPan.bind(this);\n            navigator.bind(\"pan\", this._navigatorPan);\n\n            this._navigatorCenter = this._navigatorCenter.bind(this);\n            navigator.bind(\"center\", this._navigatorCenter);\n        },\n\n        _navigatorPan: function(e) {\n            var map = this;\n            var scroller = map.scroller;\n\n            var x = scroller.scrollLeft + e.x;\n            var y = scroller.scrollTop - e.y;\n\n            var bounds = this._virtualSize;\n            var height = this.element.height();\n            var width = this.element.width();\n\n            // TODO: Move limits in scroller\n            x = limit(x, bounds.x.min, bounds.x.max - width);\n            y = limit(y, bounds.y.min, bounds.y.max - height);\n\n            map.scroller.one(\"scroll\", function(e) { map._scrollEnd(e); });\n            map.scroller.scrollTo(-x, -y);\n        },\n\n        _navigatorCenter: function() {\n            this.center(this.options.center);\n        },\n\n        _createZoomControl: function(options) {\n            var element = this._createControlElement(options, \"topLeft\");\n            var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\n\n            this._zoomControlChange = this._zoomControlChange.bind(this);\n            zoomControl.bind(\"change\", this._zoomControlChange);\n        },\n\n        _zoomControlChange: function(e) {\n            if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                this.zoom(this.zoom() + e.delta);\n                this.trigger(\"zoomEnd\", { originalEvent: e });\n            }\n        },\n\n        _initScroller: function() {\n            var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n            var zoomable = this.options.zoomable !== false;\n            var scroller = this.scroller = new kendo.mobile.ui.Scroller(\n                this.element.children(0), {\n                    friction: friction,\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\n                    zoom: zoomable,\n                    mousewheelScrolling: false,\n                    supportDoubleTap: true\n                });\n\n            scroller.bind(\"scroll\", this._scroll.bind(this));\n            scroller.bind(\"scrollEnd\", this._scrollEnd.bind(this));\n            scroller.userEvents.bind(\"gesturestart\", this._scaleStart.bind(this));\n            scroller.userEvents.bind(\"gestureend\", this._scale.bind(this));\n            scroller.userEvents.bind(\"doubleTap\", this._doubleTap.bind(this));\n            scroller.userEvents.bind(\"tap\", this._tap.bind(this));\n\n            this.scrollElement = scroller.scrollElement;\n        },\n\n        _initLayers: function() {\n            var defs = this.options.layers,\n                layers = this.layers = [];\n\n            for (var i = 0; i < defs.length; i++) {\n                var options = defs[i];\n                var type = options.type || \"shape\";\n                var defaults = this.options.layerDefaults[type];\n                var impl = dataviz.map.layers[type];\n\n                layers.push(new impl(this, deepExtend({}, defaults, options)));\n            }\n        },\n\n        _initMarkers: function() {\n            this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\n            this.markers.add(this.options.markers);\n        },\n\n        _scroll: function(e) {\n            var origin = this.locationToLayer(this._viewOrigin).round();\n            var movable = e.sender.movable;\n\n            var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n            origin.x += offset.x;\n            origin.y += offset.y;\n\n            this._scrollOffset = offset;\n\n            this._setOrigin(this.layerToLocation(origin));\n            this.trigger(\"pan\", {\n                originalEvent: e,\n                origin: this._getOrigin(),\n                center: this.center()\n            });\n        },\n\n        _scrollEnd: function(e) {\n            if (!this._scrollOffset || !this._panComplete()) {\n                return;\n            }\n\n            this._scrollOffset = null;\n            this._panEndTS = new Date();\n\n            this.trigger(\"panEnd\", {\n                originalEvent: e,\n                origin: this._getOrigin(),\n                center: this.center()\n            });\n        },\n\n        _panComplete: function() {\n            return new Date() - (this._panEndTS || 0) > 50;\n        },\n\n        _scaleStart: function(e) {\n            if (this.trigger(\"zoomStart\", { originalEvent: e })) {\n                var touch = e.touches[1];\n                if (touch) {\n                    touch.cancel();\n                }\n            }\n        },\n\n        _scale: function(e) {\n            var scale = this.scroller.movable.scale;\n            var zoom = this._scaleToZoom(scale);\n            var gestureCenter = new g.Point(e.center.x, e.center.y);\n            var centerLocation = this.viewToLocation(gestureCenter, zoom);\n            var centerPoint = this.locationToLayer(centerLocation, zoom);\n            var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n            this._zoomAround(originPoint, zoom);\n            this.trigger(\"zoomEnd\", { originalEvent: e });\n        },\n\n        _scaleToZoom: function(scaleDelta) {\n            var scale = this._layerSize() * scaleDelta;\n            var tiles = scale / this.options.minSize;\n            var zoom = math.log(tiles) / math.log(2);\n\n            return math.round(zoom);\n        },\n\n        _reset: function() {\n            if (this.attribution) {\n                this.attribution.filter(this.center(), this.zoom());\n            }\n\n            this._viewOrigin = this._getOrigin(true);\n            this._resetScroller();\n            this.trigger(\"beforeReset\");\n            this.trigger(\"reset\", {\n                tileTitle: this.options.messages.tileTitle\n            });\n        },\n\n        _resetScroller: function() {\n            var scroller = this.scroller;\n            var x = scroller.dimensions.x;\n            var y = scroller.dimensions.y;\n            var scale = this._layerSize();\n            var nw = this.extent().nw;\n            var topLeft = this.locationToLayer(nw).round();\n\n            scroller.movable.round = true;\n            scroller.reset();\n            scroller.userEvents.cancel();\n\n            var zoom = this.zoom();\n            scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n            scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n\n            var xBounds = { min: -topLeft.x, max: scale - topLeft.x };\n            var yBounds = { min: -topLeft.y, max: scale - topLeft.y };\n\n            if (this.options.wraparound) {\n                xBounds.max = 20 * scale;\n                xBounds.min = -xBounds.max;\n            }\n\n            if (this.options.pannable === false) {\n                var viewSize = this.viewSize();\n                xBounds.min = yBounds.min = 0;\n                xBounds.max = viewSize.width;\n                yBounds.max = viewSize.height;\n            }\n\n            x.makeVirtual();\n            y.makeVirtual();\n            x.virtualSize(xBounds.min, xBounds.max);\n            y.virtualSize(yBounds.min, yBounds.max);\n\n            this._virtualSize = { x: xBounds, y: yBounds };\n        },\n\n        _renderLayers: function() {\n            var defs = this.options.layers,\n                layers = this.layers = [],\n                scrollWrap = this.scrollWrap;\n\n            scrollWrap.empty();\n\n            for (var i = 0; i < defs.length; i++) {\n                var options = defs[i];\n                var type = options.type || \"shape\";\n                var defaults = this.options.layerDefaults[type];\n                var impl = dataviz.map.layers[type];\n\n                layers.push(new impl(this, deepExtend({}, defaults, options)));\n            }\n        },\n\n        _layerSize: function(zoom) {\n            zoom = valueOrDefault(zoom, this.options.zoom);\n            return this.options.minSize * pow(2, zoom);\n        },\n\n        _tap: function(e) {\n            if (!this._panComplete()) {\n                return;\n            }\n\n            var cursor = this.eventOffset(e);\n            this.trigger(\"click\", {\n                originalEvent: e,\n                location: this.viewToLocation(cursor)\n            });\n        },\n\n        _doubleTap: function(e) {\n            var options = this.options;\n            if (options.zoomable !== false) {\n                if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                    var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n                    var cursor = this.eventOffset(e);\n                    var location = this.viewToLocation(cursor);\n                    var postZoom = this.locationToLayer(location, toZoom);\n                    var origin = postZoom.translate(-cursor.x, -cursor.y);\n                    this._zoomAround(origin, toZoom);\n                    this.trigger(\"zoomEnd\", { originalEvent: e });\n                }\n            }\n        },\n\n        _mousewheel: function(e) {\n            e.preventDefault();\n            var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\n            var options = this.options;\n            var fromZoom = this.zoom();\n            var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\n\n            if (options.zoomable !== false && toZoom !== fromZoom) {\n                if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                    var cursor = this.eventOffset(e);\n                    var location = this.viewToLocation(cursor);\n                    var postZoom = this.locationToLayer(location, toZoom);\n                    var origin = postZoom.translate(-cursor.x, -cursor.y);\n                    this._zoomAround(origin, toZoom);\n\n                    this.trigger(\"zoomEnd\", { originalEvent: e });\n                }\n            }\n        }\n    });\n\n    // Exports ================================================================\n    dataviz.ui.plugin(Map);\n\n})(window.kendo.jQuery);\n\nvar __meta__ = {\n        id: \"dataviz.map\",\n        name: \"Map\",\n        category: \"dataviz\",\n        description: \"The Kendo DataViz Map displays spatial data\",\n        depends: [ \"data\", \"userevents\", \"tooltip\", \"dataviz.core\", \"drawing\", \"mobile.scroller\" ]\n    };\n"]}