/**
 * Kendo UI v2023.1.117 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.color.js";import"./kendo.popup.js";!function(t){kendo.drawing.util=kendo.drawing.util||{},kendo.deepExtend(kendo.drawing.util,{createPromise:function(){return t.Deferred()},promiseAll:function(e){return t.when.apply(t,e)},extendStatic:function(t,e){if(e)if("function"==typeof e.__proto__)t.__proto__=e;else for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}})}(window.kendo.jQuery),function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var o=this._map,n={key:t,value:e};o[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(o[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),o=/\r?\n|\r|\t/g;function n(t){return String(t).replace(o," ")}function r(t){var e=[];for(var o in t)e.push(o+t[o]);return e.sort().join("")}function i(t){for(var e=2166136261,o=0;o<t.length;++o)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(o);return e>>>0}var s,a={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var p=kendo.Class.extend({init:function(o){this._cache=new e(1e3),this.options=t.extend({},a,o)},measure:function(t,e,o){if(void 0===o&&(o={}),null==t)return{width:0,height:0,baseline:0};var a=i(t+r(e)),p=this._cache.get(a);if(p)return p;var c={width:0,height:0,baseline:0},h=o.box||s,u=this._baselineMarker().cloneNode(!1);for(var l in e){var f=e[l];void 0!==f&&(h.style[l]=f)}var d=!1!==o.normalizeText?n(t):String(t);return h.textContent=d,h.appendChild(u),document.body.appendChild(h),d.length&&(c.width=h.offsetWidth-this.options.baselineMarkerSize,c.height=h.offsetHeight,c.baseline=u.offsetTop+this.options.baselineMarkerSize),c.width>0&&c.height>0&&this._cache.put(a,c),h.parentNode.removeChild(h),c},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});p.current=new p,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:p,measureText:function(t,e,o){return p.current.measure(t,e,o)},objectKey:r,hashKey:i,normalizeText:n})}(window.kendo.jQuery),function(t){window.kendo=window.kendo||{};var e=kendo.drawing.util,o=e.extendStatic,n=kendo.Class,r=kendo.util,i=kendo.support.browser,s=e.createPromise,a=e.promiseAll,p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.observers=function(){return this._observers=this._observers||[],this._observers},e.prototype.addObserver=function(t){return this._observers?this._observers.push(t):this._observers=[t],this},e.prototype.removeObserver=function(t){var e=this.observers(),o=e.indexOf(t);return-1!==o&&e.splice(o,1),this},e.prototype.trigger=function(t,e){var o=this._observers;if(o&&!this._suspended)for(var n=0;n<o.length;n++){var r=o[n];r[t]&&r[t](e)}return this},e.prototype.optionsChange=function(t){void 0===t&&(t={}),t.element=this,this.trigger("optionsChange",t)},e.prototype.geometryChange=function(){this.trigger("geometryChange",{element:this})},e.prototype.suspend=function(){return this._suspended=(this._suspended||0)+1,this},e.prototype.resume=function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},e.prototype._observerField=function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)},e}(n);function c(t,e){return t.push.apply(t,e),t}var h={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function u(t){for(var e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],o="";t>0;)t<e[0]?e.shift():(o+=h[e[0]],t-=e[0]);return o}function l(t){return void 0!==t}var f=1;function d(){return"kdef"+f++}var y=Math.PI/180,g=Number.MAX_VALUE,m=-Number.MAX_VALUE;function v(t){return t/y}var x=String.fromCharCode;var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(t){for(var e="",o=0,n=function(t){for(var e="",o=0;o<t.length;o++){var n=t.charCodeAt(o);if(55296<=n&&n<=56319){var r=n,i=t.charCodeAt(++o);isNaN(i)||(n=1024*(r-55296)+(i-56320)+65536)}n<128?e+=x(n):n<2048?(e+=x(192|n>>>6),e+=x(128|63&n)):n<65536?(e+=x(224|n>>>12),e+=x(128|n>>>6&63),e+=x(128|63&n)):n<1114111&&(e+=x(240|n>>>18),e+=x(128|n>>>12&63),e+=x(128|n>>>6&63),e+=x(128|63&n))}return e}(t);o<n.length;){var r=n.charCodeAt(o++),i=n.charCodeAt(o++),s=n.charCodeAt(o++),a=r>>2,p=(3&r)<<4|i>>4,c=(15&i)<<2|s>>6,h=63&s;isNaN(i)?c=h=64:isNaN(s)&&(h=64),e=e+w.charAt(a)+w.charAt(p)+w.charAt(c)+w.charAt(h)}return e}function _(t){return l((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}function C(t){return void 0===t&&(t={}),t.touch?t.touch.initialTouch:t.target}function T(t){return""===t||null===t||"none"===t||"transparent"===t||!l(t)}function k(t){if(t)return t[t.length-1]}function O(t,e,o){return Math.max(Math.min(t,o),e)}function M(t,e){if(t.length<2)return t.slice();return function t(o){if(o.length<=1)return o;var n=Math.floor(o.length/2),r=o.slice(0,n),i=o.slice(n);return function(t,o){for(var n=[],r=0,i=0,s=0;r<t.length&&i<o.length;)e(t[r],o[i])<=0?n[s++]=t[r++]:n[s++]=o[i++];return r<t.length&&n.push.apply(n,t.slice(r)),i<o.length&&n.push.apply(n,o.slice(i)),n}(r=t(r),i=t(i))}(t)}var S=Date.now||function(){return(new Date).getTime()};function E(t){return t*y}function A(t,e){var o,n=(o=e)?Math.pow(10,o):1;return Math.round(t*n)/n}function P(t,e){return l(t)?t:e}function z(t,e){for(var o in e)for(var n=o.trim().split(" "),r=0;r<n.length;r++)t.addEventListener(n[r],e[o],!1)}function N(t){var e=t.getBoundingClientRect(),o=document.documentElement;return{top:e.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||0),left:e.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)}}function j(t,e){for(var o={},n=window.getComputedStyle(t)||{},r=Array.isArray(e)?e:[e],i=0;i<r.length;i++){var s=r[i];o[s]=n[s]}return o}function R(t){return isNaN(t)?t:t+"px"}function B(t,e){if(!e){var o=j(t,["width","height"]);return{width:parseInt(o.width,10),height:parseInt(o.height,10)}}var n=e.width,r=e.height;l(n)&&(t.style.width=R(n)),l(r)&&(t.style.height=R(r))}function F(t,e){for(var o in void 0===e&&(e={}),e)for(var n=o.trim().split(" "),r=0;r<n.length;r++)t.removeEventListener(n[r],e[o],!1)}function L(t){var e=j(t,["paddingLeft","paddingTop"]),o=e.paddingLeft,n=e.paddingTop;return{top:parseFloat(n),left:parseFloat(o)}}var I=function(t){function e(e,o,n,r,i,s){void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=0),t.call(this),this.a=e,this.b=o,this.c=n,this.d=r,this.e=i,this.f=s}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.multiplyCopy=function(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},e.prototype.invert=function(){var t=this,o=t.a,n=t.b,r=t.c,i=t.d,s=t.e,a=t.f,p=o*i-n*r;return 0===p?null:new e(i/p,-n/p,-r/p,o/p,(r*a-i*s)/p,(n*s-o*a)/p)},e.prototype.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},e.prototype.equals=function(t){return!!t&&(this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f)},e.prototype.round=function(t){return this.a=A(this.a,t),this.b=A(this.b,t),this.c=A(this.c,t),this.d=A(this.d,t),this.e=A(this.e,t),this.f=A(this.f,t),this},e.prototype.toArray=function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(l(t))for(var o=0;o<e.length;o++)e[o]=A(e[o],t);return e},e.prototype.toString=function(t,e){return void 0===e&&(e=","),this.toArray(t).join(e)},e.translate=function(t,o){return new e(1,0,0,1,t,o)},e.unit=function(){return new e(1,0,0,1,0,0)},e.rotate=function(t,o,n){var r=new e;return r.a=Math.cos(E(t)),r.b=Math.sin(E(t)),r.c=-r.b,r.d=r.a,r.e=o-o*r.a+n*r.b||0,r.f=n-n*r.a-o*r.b||0,r},e.scale=function(t,o){return new e(t,0,0,o,0,0)},e}(n);I.IDENTITY=I.unit();var D=/matrix\((.*)\)/;function H(t){var e=getComputedStyle(t).transform;return"none"===e?I.unit():function(t){var e=t.match(D);if(null===e||2!==e.length)return I.unit();var o=e[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(I,[null].concat(o)))}(e)}function q(t){if(!t)return I.unit();for(var e=H(t),o=t.parentElement;o;){var n=H(o);e=e.multiplyCopy(n),o=o.parentElement}return e.b=e.c=e.e=e.f=0,e}var G={append:c,arabicToRoman:u,createPromise:s,defined:l,definitionId:d,deg:v,encodeBase64:b,eventCoordinates:_,eventElement:C,isTransparent:T,last:k,limitValue:O,mergeSort:M,now:S,promiseAll:a,rad:E,round:A,valueOrDefault:P,bindEvents:z,elementOffset:N,elementSize:B,elementStyles:j,unbindEvents:F,elementPadding:L,elementScale:q,DEG_TO_RAD:y,MAX_NUM:g,MIN_NUM:m},$={}.toString,U=function(t){function e(e,o){for(var n in void 0===o&&(o=""),t.call(this),this.prefix=o,e){var r=e[n];r=this._wrap(r,n),this[n]=r}}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.get=function(t){for(var e=t.split("."),o=this;e.length&&o;){o=o[e.shift()]}return o},e.prototype.set=function(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},e.prototype._set=function(t,o){var n=t.indexOf(".")>=0,r=this,i=t;if(n){for(var s=i.split("."),a=this.prefix;s.length>1;){a+=(i=s.shift())+".";var p=r[i];p||((p=new e({},a)).addObserver(this),r[i]=p),r=p}i=s[0]}r._clear(i),r[i]=o},e.prototype._clear=function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},e.prototype._wrap=function(t,o){var r=$.call(t),i=t;return null!==i&&l(i)&&"[object Object]"===r&&(t instanceof e||t instanceof n||(i=new e(i,this.prefix+o+".")),i.addObserver(this)),i},e}(p);function V(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function X(t){return function(){return this[t]}}var Y=function(t,e){var n=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e}(t);return function(t,e){for(var o=0;o<e.length;o++){var n=e[o],r=n.charAt(0).toUpperCase()+n.substring(1,n.length);t["set"+r]=V(n),t["get"+r]=X(n)}}(n.prototype,e),n};function W(t){return t&&"function"==typeof t.matrix?t.matrix():t}var Q=function(t){function e(e,o){t.call(this),this.x=e||0,this.y=o||0}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.x===this.x&&t.y===this.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.rotate=function(t,o){var n=e.create(o)||e.ZERO;return this.transform(I.rotate(t,n.x,n.y))},e.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},e.prototype.translateWith=function(t){return this.translate(t.x,t.y)},e.prototype.move=function(t,e){return this.x=this.y=0,this.translate(t,e)},e.prototype.scale=function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},e.prototype.scaleCopy=function(t,e){return this.clone().scale(t,e)},e.prototype.transform=function(t){var e=W(t),o=this.x,n=this.y;return this.x=e.a*o+e.c*n+e.e,this.y=e.b*o+e.d*n+e.f,this.geometryChange(),this},e.prototype.transformCopy=function(t){var e=this.clone();return t&&e.transform(t),e},e.prototype.distanceTo=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},e.prototype.round=function(t){return this.x=A(this.x,t),this.y=A(this.y,t),this.geometryChange(),this},e.prototype.toArray=function(t){var e=l(t);return[e?A(this.x,t):this.x,e?A(this.y,t):this.y]},e.prototype.toString=function(t,e){void 0===e&&(e=" ");var o=this.x,n=this.y;return l(t)&&(o=A(o,t),n=A(n,t)),o+e+n},e.create=function(t,o){if(l(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,o)},e.min=function(){for(var t=arguments,o=g,n=g,r=0;r<arguments.length;r++){var i=t[r];o=Math.min(i.x,o),n=Math.min(i.y,n)}return new e(o,n)},e.max=function(){for(var t=arguments,o=m,n=m,r=0;r<arguments.length;r++){var i=t[r];o=Math.max(i.x,o),n=Math.max(i.y,n)}return new e(o,n)},e.minPoint=function(){return new e(m,m)},e.maxPoint=function(){return new e(g,g)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Y(p,["x","y"])),Z=function(t){function e(e,o){t.call(this),this.width=e||0,this.height=o||0}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.width===this.width&&t.height===this.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.toArray=function(t){var e=l(t);return[e?A(this.width,t):this.width,e?A(this.height,t):this.height]},e.create=function(t,o){if(l(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,o)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Y(p,["width","height"])),K=function(t){function e(e,o,n){void 0===e&&(e=new Q),void 0===o&&(o=new Z),void 0===n&&(n=0),t.call(this),this.setOrigin(e),this.setSize(o),this.setCornerRadius(n)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.clone=function(){return new e(this.origin.clone(),this.size.clone())},e.prototype.equals=function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},e.prototype.setOrigin=function(t){return this._observerField("origin",Q.create(t)),this.geometryChange(),this},e.prototype.getOrigin=function(){return this.origin},e.prototype.setCornerRadius=function(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this},e.prototype.getCornerRadius=function(){return this.cornerRadius},e.prototype.setSize=function(t){return this._observerField("size",Z.create(t)),this.geometryChange(),this},e.prototype.getSize=function(){return this.size},e.prototype.width=function(){return this.size.width},e.prototype.height=function(){return this.size.height},e.prototype.topLeft=function(){return this.origin.clone()},e.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},e.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},e.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},e.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},e.prototype.bbox=function(t){var o=this.topLeft().transformCopy(t),n=this.topRight().transformCopy(t),r=this.bottomRight().transformCopy(t),i=this.bottomLeft().transformCopy(t);return e.fromPoints(o,n,r,i)},e.prototype.transformCopy=function(t){return e.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},e.prototype.expand=function(t,e){return void 0===e&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},e.prototype.expandCopy=function(t,e){return this.clone().expand(t,e)},e.prototype.containsPoint=function(t){var e=this.origin,o=this.bottomRight();return!(t.x<e.x||t.y<e.y||o.x<t.x||o.y<t.y)},e.prototype._isOnPath=function(t,e){var o=this.expandCopy(e,e),n=this.expandCopy(-e,-e);return o.containsPoint(t)&&!n.containsPoint(t)},e.fromPoints=function(){var t=Q.min.apply(null,arguments),o=Q.max.apply(null,arguments),n=new Z(o.x-t.x,o.y-t.y);return new e(t,n)},e.union=function(t,o){return e.fromPoints(Q.min(t.topLeft(),o.topLeft()),Q.max(t.bottomRight(),o.bottomRight()))},e.intersect=function(t,o){var n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},r={left:o.topLeft().x,top:o.topLeft().y,right:o.bottomRight().x,bottom:o.bottomRight().y};if(n.left<=r.right&&r.left<=n.right&&n.top<=r.bottom&&r.top<=n.bottom)return e.fromPoints(new Q(Math.max(n.left,r.left),Math.max(n.top,r.top)),new Q(Math.min(n.right,r.right),Math.min(n.bottom,r.bottom)))},e}(p),J=function(t){function e(e){void 0===e&&(e=I.unit()),t.call(this),this._matrix=e}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.clone=function(){return new e(this._matrix.clone())},e.prototype.equals=function(t){return t&&t._matrix.equals(this._matrix)},e.prototype.translate=function(t,e){return this._matrix=this._matrix.multiplyCopy(I.translate(t,e)),this._optionsChange(),this},e.prototype.scale=function(t,e,o){void 0===e&&(e=t),void 0===o&&(o=null);var n=o;return n&&(n=Q.create(n),this._matrix=this._matrix.multiplyCopy(I.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(I.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(I.translate(-n.x,-n.y))),this._optionsChange(),this},e.prototype.rotate=function(t,e){var o=Q.create(e)||Q.ZERO;return this._matrix=this._matrix.multiplyCopy(I.rotate(t,o.x,o.y)),this._optionsChange(),this},e.prototype.multiply=function(t){var e=W(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},e.prototype.matrix=function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},e.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},e}(p);function tt(t){return null===t?null:t instanceof J?t:new J(t)}var et=function(t){function e(e){t.call(this),this._initOptions(e)}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Rect"},e.prototype._initOptions=function(t){void 0===t&&(t={});var e=t.clip,o=t.transform;o&&(t.transform=tt(o)),e&&!e.id&&(e.id=d()),this.options=new U(t),this.options.addObserver(this)},e.prototype.transform=function(t){if(!l(t))return this.options.get("transform");this.options.set("transform",tt(t))},e.prototype.parentTransform=function(){for(var t,e=this;e.parent;){var o=(e=e.parent).transform();o&&(t=o.matrix().multiplyCopy(t||I.unit()))}if(t)return tt(t)},e.prototype.currentTransform=function(t){void 0===t&&(t=this.parentTransform());var e,o=W(this.transform()),n=W(t);if(e=o&&n?n.multiplyCopy(o):o||n)return tt(e)},e.prototype.visible=function(t){return l(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")},e.prototype.clip=function(t){var e=this.options;return l(t)?(t&&!t.id&&(t.id=d()),e.set("clip",t),this):e.get("clip")},e.prototype.opacity=function(t){return l(t)?(this.options.set("opacity",t),this):P(this.options.get("opacity"),1)},e.prototype.clippedBBox=function(t){var e=this._clippedBBox(t);if(e){var o=this.clip();return o?K.intersect(e,o.bbox(t)):e}},e.prototype.containsPoint=function(t,e){if(this.visible()){var o=this.currentTransform(e),n=t;return o&&(n=t.transformCopy(o.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1},e.prototype._hasFill=function(){var t=this.options.fill;return t&&!T(t.color)},e.prototype._hasStroke=function(){var t=this.options.stroke;return t&&t.width>0&&!T(t.color)},e.prototype._clippedBBox=function(t){return this.bbox(t)},Object.defineProperties(e.prototype,n),e}(p);function ot(t,e,o,n){var r=0,i=0;return n&&(r=Math.atan2(n.c*o,n.a*e),0!==n.b&&(i=Math.atan2(n.d*o,n.b*e))),{x:r,y:i}}var nt=Math.PI/2,rt=function(t){function e(e,o){void 0===e&&(e=new Q),void 0===o&&(o=0),t.call(this),this.setCenter(e),this.setRadius(o)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.setCenter=function(t){return this._observerField("center",Q.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.equals=function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},e.prototype.clone=function(){return new e(this.center.clone(),this.radius)},e.prototype.pointAt=function(t){return this._pointAt(E(t))},e.prototype.bbox=function(t){for(var e=ot(this.center,this.radius,this.radius,t),o=Q.maxPoint(),n=Q.minPoint(),r=0;r<4;r++){var i=this._pointAt(e.x+r*nt).transformCopy(t),s=this._pointAt(e.y+r*nt).transformCopy(t),a=new Q(i.x,s.y);o=Q.min(o,a),n=Q.max(n,a)}return K.fromPoints(o,n)},e.prototype._pointAt=function(t){var e=this.center,o=this.radius;return new Q(e.x+o*Math.cos(t),e.y+o*Math.sin(t))},e.prototype.containsPoint=function(t){var e=this.center,o=this.radius;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(o,2)},e.prototype._isOnPath=function(t,e){var o=this.center,n=this.radius,r=o.distanceTo(t);return n-e<=r&&r<=n+e},e}(Y(p,["radius"])),it=function(t){return function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.fill=function(t,e){var o=this.options;if(l(t)){if(t&&"Gradient"!==t.nodeType){var n={color:t};l(e)&&(n.opacity=e),o.set("fill",n)}else o.set("fill",t);return this}return o.get("fill")},e.prototype.stroke=function(t,e,o){return l(t)?(this.options.set("stroke.color",t),l(e)&&this.options.set("stroke.width",e),l(o)&&this.options.set("stroke.opacity",o),this):this.options.get("stroke")},e}(t)},st=I.IDENTITY.toString(),at=function(t){return function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.bbox=function(t){var e,o=W(this.currentTransform(t)),n=o?o.toString():st;this._bboxCache&&this._matrixHash===n?e=this._bboxCache.clone():(e=this._bbox(o),this._bboxCache=e?e.clone():null,this._matrixHash=n);var r=this.options.get("stroke.width");return r&&e&&e.expand(r/2),e},e.prototype.geometryChange=function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})},e}(t)};function pt(t){var e="_"+t;return function(t){return l(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}var ct=function(t,e){void 0===e&&(e=["geometry"]);var n=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e}(t);return function(t,e){for(var o=0;o<e.length;o++)t[e[o]]=pt(e[o])}(n.prototype,e),n},ht=function(t){function e(e,o){void 0===e&&(e=new rt),void 0===o&&(o={}),t.call(this,o),this.geometry(e),l(this.options.stroke)||this.stroke("#000")}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Circle"},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(it(at(ct(et)))),ut=10;function lt(t,e,o){return void 0===o&&(o=ut),0===A(Math.abs(t-e),o)}function ft(t,e,o){return t<e||lt(t,e,o)}var dt=Math.pow,yt=function(t){function e(e,o){void 0===e&&(e=new Q),void 0===o&&(o={}),t.call(this),this.setCenter(e),this.radiusX=o.radiusX,this.radiusY=o.radiusY||o.radiusX,this.startAngle=o.startAngle,this.endAngle=o.endAngle,this.anticlockwise=o.anticlockwise||!1,this.xRotation=o.xRotation}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.clone=function(){return new e(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},e.prototype.setCenter=function(t){return this._observerField("center",Q.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.pointAt=function(t){var e=this.center,o=E(t);return new Q(e.x+this.radiusX*Math.cos(o),e.y+this.radiusY*Math.sin(o))},e.prototype.curvePoints=function(){var t,e=this.startAngle,o=this.anticlockwise?-1:1,n=[this.pointAt(e)],r=this._arcInterval(),i=r.endAngle-r.startAngle,s=Math.ceil(i/45),a=i/s,p=e;this.xRotation&&(t=tt().rotate(this.xRotation,this.center));for(var c=1;c<=s;c++){var h=p+o*a,u=this._intervalCurvePoints(p,h,t);n.push(u.cp1,u.cp2,u.p2),p=h}return n},e.prototype.bbox=function(t){for(var e=this._arcInterval(),o=e.startAngle,n=e.endAngle,r=ot(this.center,this.radiusX,this.radiusY,t),i=v(r.x),s=v(r.y),a=this.pointAt(n).transformCopy(t),p=mt(i,o),c=mt(s,o),h=this.pointAt(o).transformCopy(t),u=Q.min(h,a),l=Q.max(h,a);p<n||c<n;){var f=void 0;p<n&&(f=this.pointAt(p).transformCopy(t),p+=90);var d=void 0;c<n&&(d=this.pointAt(c).transformCopy(t),c+=90),h=new Q(f.x,d.y),u=Q.min(u,h),l=Q.max(l,h)}return K.fromPoints(u,l)},e.prototype._arcInterval=function(){var t=this,e=t.startAngle,o=t.endAngle,n=t.anticlockwise;if(n){var r=e;e=o,o=r}return(e>o||n&&e===o)&&(o+=360),{startAngle:e,endAngle:o}},e.prototype._intervalCurvePoints=function(t,e,o){var n=this.pointAt(t),r=this.pointAt(e),i=this._derivativeAt(t),s=this._derivativeAt(e),a=(E(e)-E(t))/3,p=new Q(n.x+a*i.x,n.y+a*i.y),c=new Q(r.x-a*s.x,r.y-a*s.y);return o&&(n.transform(o),r.transform(o),p.transform(o),c.transform(o)),{p1:n,cp1:p,cp2:c,p2:r}},e.prototype._derivativeAt=function(t){var e=E(t);return new Q(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},e.prototype.containsPoint=function(t){var e,o=this._arcInterval(),n=o.endAngle-o.startAngle,r=this,i=r.center,s=r.radiusX,a=r.radiusY,p=i.distanceTo(t),c=Math.atan2(t.y-i.y,t.x-i.x),h=s*a/Math.sqrt(dt(s,2)*dt(Math.sin(c),2)+dt(a,2)*dt(Math.cos(c),2)),u=this.pointAt(this.startAngle).round(ut),l=this.pointAt(this.endAngle).round(ut),f=function(t,e,o,n){var r=e.x-t.x,i=n.x-o.x,s=e.y-t.y,a=n.y-o.y,p=t.x-o.x,c=t.y-o.y,h=r*a-i*s,u=(r*c-s*p)/h,l=(i*c-a*p)/h;if(u>=0&&u<=1&&l>=0&&l<=1)return new Q(t.x+l*r,t.y+l*s)}(i,t.round(ut),u,l);if(n<180)e=f&&ft(i.distanceTo(f),p)&&ft(p,h);else{var d=gt(i.x,i.y,s,a,t.x,t.y);360!==d&&(d=(360+d)%360);var y=o.startAngle<=d&&d<=o.endAngle;e=y&&ft(p,h)||!y&&(!f||f.equals(t))}return e},e.prototype._isOnPath=function(t,e){var o=this._arcInterval(),n=this.center,r=gt(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);return 360!==r&&(r=(360+r)%360),o.startAngle<=r&&r<=o.endAngle&&this.pointAt(r).distanceTo(t)<=e},e.fromPoints=function(t,o,n,r,i,s,a){var p=function(t){var e=t.x1,o=t.y1,n=t.x2,r=t.y2,i=t.rx,s=t.ry,a=t.largeArc,p=t.swipe,c=t.rotation;void 0===c&&(c=0);var h=E(c),u=Math.cos(h),l=Math.sin(h),f=u*(e-n)/2+l*(o-r)/2,d=-l*(e-n)/2+u*(o-r)/2,y=a!==p?1:-1,g=Math.pow(f,2),m=Math.pow(d,2),x=Math.pow(i,2),w=Math.pow(s,2),b=g/x+m/w;b>1&&(i*=b=Math.sqrt(g/x+m/w),x=Math.pow(i,2),s*=b,w=Math.pow(s,2));var _=y*Math.sqrt((x*w-x*m-w*g)/(x*m+w*g));isNaN(_)&&(_=0);var C=_*(i*d)/s,T=s*f*-_/i,k=u*C-l*T+(e+n)/2,O=l*C+u*T+(o+r)/2,M=(f-C)/i,S=(d-T)/s,P=-(f+C)/i,z=-(d+T)/s,N=(S>=0?1:-1)*v(Math.acos(M/Math.sqrt(M*M+S*S))),j=A((M*P+S*z)/(Math.sqrt(M*M+S*S)*Math.sqrt(P*P+z*z)),10),R=(M*z-S*P>=0?1:-1)*v(Math.acos(j));!p&&R>0&&(R-=360);p&&R<0&&(R+=360);var B=N+R,F=B>=0?1:-1;return B=Math.abs(B)%360*F,{center:new Q(k,O),startAngle:N,endAngle:B,radiusX:i,radiusY:s,xRotation:c}}({x1:t.x,y1:t.y,x2:o.x,y2:o.y,rx:n,ry:r,largeArc:i,swipe:s,rotation:a});return new e(p.center,{startAngle:p.startAngle,endAngle:p.endAngle,radiusX:p.radiusX,radiusY:p.radiusY,xRotation:p.xRotation,anticlockwise:0===s})},e}(Y(p,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]));function gt(t,e,o,n,r,i){var s=A((r-t)/o,3),a=A((i-e)/n,3);return A(v(Math.atan2(a,s)))}function mt(t,e){for(var o=t;o<e;)o+=90;return o}var vt=[].push,xt=[].pop,wt=[].splice,bt=[].shift,_t=[].slice,Ct=[].unshift,Tt=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.length=0,this._splice(0,e.length,e)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.elements=function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},e.prototype.push=function(){var t=arguments,e=vt.apply(this,t);return this._add(t),e},e.prototype.slice=function(){return _t.call(this)},e.prototype.pop=function(){var t=this.length,e=xt.apply(this);return t&&this._remove([e]),e},e.prototype.splice=function(t,e){var o=_t.call(arguments,2),n=this._splice(t,e,o);return this._change(),n},e.prototype.shift=function(){var t=this.length,e=bt.apply(this);return t&&this._remove([e]),e},e.prototype.unshift=function(){var t=arguments,e=Ct.apply(this,t);return this._add(t),e},e.prototype.indexOf=function(t){for(var e=this.length,o=0;o<e;o++)if(this[o]===t)return o;return-1},e.prototype._splice=function(t,e,o){var n=wt.apply(this,[t,e].concat(o));return this._clearObserver(n),this._setObserver(o),n},e.prototype._add=function(t){this._setObserver(t),this._change()},e.prototype._remove=function(t){this._clearObserver(t),this._change()},e.prototype._setObserver=function(t){for(var e=0;e<t.length;e++)t[e].addObserver(this)},e.prototype._clearObserver=function(t){for(var e=0;e<t.length;e++)t[e].removeObserver(this)},e.prototype._change=function(){},e}(p),kt=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype._change=function(){this.geometryChange()},e}(Tt);function Ot(t,e,o){var n=v(Math.atan2(e.y-t.y,e.x-t.x));return o.transformCopy(tt().rotate(-n,t)).x<t.x}function Mt(t,e,o){var n=1-t;return Math.pow(n,3)*o[0][e]+3*Math.pow(n,2)*t*o[1][e]+3*Math.pow(t,2)*n*o[2][e]+Math.pow(t,3)*o[3][e]}function St(t,e){return[-t[0][e]+3*t[1][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}var Et=function(t){function e(e,o){void 0===e&&(e=0),void 0===o&&(o=0),t.call(this),this.real=e,this.img=o}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.add=function(t){return new e(A(this.real+t.real,ut),A(this.img+t.img,ut))},e.prototype.addConstant=function(t){return new e(this.real+t,this.img)},e.prototype.negate=function(){return new e(-this.real,-this.img)},e.prototype.multiply=function(t){return new e(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},e.prototype.multiplyConstant=function(t){return new e(this.real*t,this.img*t)},e.prototype.nthRoot=function(t){var o=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(n,1/t);return new e(r*Math.cos(o/t),r*Math.sin(o/t))},e.prototype.equals=function(t){return this.real===t.real&&this.img===t.img},e.prototype.isReal=function(){return 0===this.img},e}(n);function At(t){return t<0?-1:1}function Pt(t,e,o,n){if(0===t)return function(t,e,o){var n=Math.sqrt(Math.pow(e,2)-4*t*o);return[(-e+n)/(2*t),(-e-n)/(2*t)]}(e,o,n);var r,i,s,a,p,c,h,u=(3*t*o-Math.pow(e,2))/(3*Math.pow(t,2)),l=(2*Math.pow(e,3)-9*t*e*o+27*Math.pow(t,2)*n)/(27*Math.pow(t,3)),f=Math.pow(u/3,3)+Math.pow(l/2,2),d=new Et(0,1),y=-e/(3*t);f<0?(r=new Et(-l/2,Math.sqrt(-f)).nthRoot(3),i=new Et(-l/2,-Math.sqrt(-f)).nthRoot(3)):(r=-l/2+Math.sqrt(f),r=new Et(At(r)*Math.pow(Math.abs(r),1/3)),i=-l/2-Math.sqrt(f),i=new Et(At(i)*Math.pow(Math.abs(i),1/3))),s=r.add(i),c=r.add(i).multiplyConstant(-.5),h=r.add(i.negate()).multiplyConstant(Math.sqrt(3)/2),a=c.add(d.multiply(h)),p=c.add(d.negate().multiply(h));var g=[];return s.isReal()&&g.push(A(s.real+y,ut)),a.isReal()&&g.push(A(a.real+y,ut)),p.isReal()&&g.push(A(p.real+y,ut)),g}function zt(t,e,o,n,r){for(var i,s=St(t,n),a=Pt(s[0],s[1],s[2],s[3]-e[n]),p=0;p<a.length;p++)if(0<=a[p]&&a[p]<=1&&(i=Mt(a[p],o,t),Math.abs(i-e[o])<=r))return!0}function Nt(t,e,o){var n;if(t.x!==e.x){var r=Math.min(t.x,e.x),i=Math.max(t.x,e.x),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),p=r<=o.x&&o.x<i;n=s===a?o.y<=s&&p:p&&(a-s)*((t.x-e.x)*(t.y-e.y)>0?o.x-r:i-o.x)/(i-r)+s-o.y>=0}return n?1:0}function jt(t){var e="_"+t;return function(t){return l(t)?(this._observerField(e,Q.create(t)),this.geometryChange(),this):this[e]}}var Rt=function(t,e){var n=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e}(t);return function(t,e){for(var o=0;o<e.length;o++)t[e[o]]=jt(e[o])}(n.prototype,e),n},Bt=function(t){function e(e,o,n){t.call(this),this.anchor(e||new Q),this.controlIn(o),this.controlOut(n)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.bboxTo=function(t,e){var o=this.anchor().transformCopy(e),n=t.anchor().transformCopy(e);return this.controlOut()&&t.controlIn()?this._curveBoundingBox(o,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),n):this._lineBoundingBox(o,n)},e.prototype._lineBoundingBox=function(t,e){return K.fromPoints(t,e)},e.prototype._curveBoundingBox=function(t,e,o,n){var r=[t,e,o,n],i=this._curveExtremesFor(r,"x"),s=this._curveExtremesFor(r,"y"),a=Ft([i.min,i.max,t.x,n.x]),p=Ft([s.min,s.max,t.y,n.y]);return K.fromPoints(new Q(a.min,p.min),new Q(a.max,p.max))},e.prototype._curveExtremesFor=function(t,e){var o=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:Mt(o.min,e,t),max:Mt(o.max,e,t)}},e.prototype._curveExtremes=function(t,e,o,n){var r=t-3*e+3*o-n,i=-2*(t-2*e+o),s=t-e,a=Math.sqrt(i*i-4*r*s),p=0,c=1;0===r?0!==i&&(p=c=-s/i):isNaN(a)||(p=(-i+a)/(2*r),c=(-i-a)/(2*r));var h=Math.max(Math.min(p,c),0);(h<0||h>1)&&(h=0);var u=Math.min(Math.max(p,c),1);return(u>1||u<0)&&(u=1),{min:h,max:u}},e.prototype._intersectionsTo=function(t,e){var o;return o=this.controlOut()&&t.controlIn()?function(t,e,o){for(var n,r=St(t,"x"),i=Pt(r[0],r[1],r[2],r[3]-e.x),s=0,a=0;a<i.length;a++)(lt(n=Mt(i[a],"y",t),e.y)||n>e.y)&&((0===i[a]||1===i[a])&&o.bottomRight().x>e.x||0<i[a]&&i[a]<1)&&s++;return s}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):Nt(this.anchor(),t.anchor(),e),o},e.prototype._isOnCurveTo=function(t,e,o,n){if(this.bboxTo(t).expand(o,o).containsPoint(e)){var r=this.anchor(),i=this.controlOut(),s=t.controlIn(),a=t.anchor();if("start"===n&&r.distanceTo(e)<=o)return!Ot(r,i,e);if("end"===n&&a.distanceTo(e)<=o)return!Ot(a,s,e);var p=[r,i,s,a];if(zt(p,e,"x","y",o)||zt(p,e,"y","x",o))return!0;var c=tt().rotate(45,e),h=[r.transformCopy(c),i.transformCopy(c),s.transformCopy(c),a.transformCopy(c)];return zt(h,e,"x","y",o)||zt(h,e,"y","x",o)}},e.prototype._isOnLineTo=function(t,e,o){var n=this.anchor(),r=t.anchor(),i=v(Math.atan2(r.y-n.y,r.x-n.x));return new K([n.x,n.y-o/2],[n.distanceTo(r),o]).containsPoint(e.transformCopy(tt().rotate(-i,n)))},e.prototype._isOnPathTo=function(t,e,o,n){return this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,o/2,n):this._isOnLineTo(t,e,o)},e}(Rt(p,["anchor","controlIn","controlOut"]));function Ft(t){for(var e=t.length,o=g,n=m,r=0;r<e;r++)n=Math.max(n,t[r]),o=Math.min(o,t[r]);return{min:o,max:n}}var Lt={Circle:rt,Arc:yt,Rect:K,Point:Q,Segment:Bt,Matrix:I,Size:Z,toMatrix:W,Transformation:J,transform:tt},It="x",Dt="y";function Ht(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)}function qt(t,e){var o=(e.y-t.y)/(e.x-t.x);return[t.y-o*t.x,o]}function Gt(t,e,o){var n,r=It,i=Dt,s=!1,a=!1;if(function(t,e,o){var n=Qt(qt(t,e),o.x);return t.x===e.x&&e.x===o.x||A(n,1)===A(o.y,1)}(t,e,o))n=Ut(t,e,It,Dt);else{var p={x:Vt(t,e,o,It),y:Vt(t,e,o,Dt)};if(p.x&&p.y)n=Ut(t,o,It,Dt),s=!0;else if(function(t,e,o){var n=!1;if(t.x===e.x)n=!0;else if(e.x===o.x)(e.y<o.y&&t.y<=e.y||o.y<e.y&&e.y<=t.y)&&(n=!0);else{var r=Qt(qt(t,e),o.x);t.y<=e.y&&o.y<=r||e.y<=t.y&&o.y>=r||(n=!0)}return n}(t,e,o)&&(r=Dt,i=It),p[r])n=0;else n=.01*(o[i]<t[i]&&t[i]<=e[i]||t[i]<o[i]&&e[i]<=t[i]?Zt((o[i]-t[i])*(e[r]-t[r])):-Zt((o[r]-t[r])*(e[i]-t[i]))),a=!0}var c=Yt(n,t,e,r,i);if(a){var h=r;r=i,i=h}var u=Xt(n,e,o,r,i);return s&&($t(t,e,c,n),$t(e,o,u,n)),[c,u]}function $t(t,e,o,n){t.y<e.y?e.y<o.y?(o.x=t.x+(e.y-t.y)/n,o.y=e.y):o.y<t.y&&(o.x=e.x-(e.y-t.y)/n,o.y=t.y):o.y<e.y?(o.x=t.x-(t.y-e.y)/n,o.y=e.y):t.y<o.y&&(o.x=e.x+(t.y-e.y)/n,o.y=t.y)}function Ut(t,e,o,n){var r=e[o]-t[o],i=e[n]-t[n];return 0===r?0:i/r}function Vt(t,e,o,n){return o[n]>e[n]&&e[n]>t[n]||o[n]<e[n]&&e[n]<t[n]}function Xt(t,e,o,n,r){var i=e[n],s=.333*(o[n]-i);return Wt(i+s,e[r]+s*t,n,r)}function Yt(t,e,o,n,r){var i=e[n],s=o[n],a=.333*(s-i);return Wt(s-a,o[r]-a*t,n,r)}function Wt(t,e,o,n){var r=new Q;return r[o]=t,r[n]=e,r}function Qt(t,e){for(var o=t.length,n=0,r=0;r<o;r++)n+=Math.pow(e,r)*t[r];return n}function Zt(t){return t<=0?-1:1}var Kt={l:function(t,e){for(var o=e.parameters,n=e.position,r=0;r<o.length;r+=2){var i=new Q(o[r],o[r+1]);e.isRelative&&i.translateWith(n),t.lineTo(i.x,i.y),n.x=i.x,n.y=i.y}},c:function(t,e){for(var o=e.parameters,n=e.position,r=0;r<o.length;r+=6){var i=new Q(o[r],o[r+1]),s=new Q(o[r+2],o[r+3]),a=new Q(o[r+4],o[r+5]);e.isRelative&&(s.translateWith(n),i.translateWith(n),a.translateWith(n)),t.curveTo(i,s,a),n.x=a.x,n.y=a.y}},v:function(t,e){var o=e.isRelative?0:e.position.x;Jt(e.parameters,!0,o),this.l(t,e)},h:function(t,e){var o=e.isRelative?0:e.position.y;Jt(e.parameters,!1,o),this.l(t,e)},a:function(t,e){for(var o=e.parameters,n=e.position,r=0;r<o.length;r+=7){var i=o[r],s=o[r+1],a=o[r+2],p=o[r+3],c=o[r+4],h=new Q(o[r+5],o[r+6]);e.isRelative&&h.translateWith(n),n.x===h.x&&n.y===h.y||(t.arcTo(h,i,s,p,c,a),n.x=h.x,n.y=h.y)}},s:function(t,e){var o,n=e.parameters,r=e.position,i=e.previousCommand;"s"!==i&&"c"!==i||(o=k(k(t.paths).segments).controlIn());for(var s=0;s<n.length;s+=4){var a=new Q(n[s],n[s+1]),p=new Q(n[s+2],n[s+3]),c=void 0;e.isRelative&&(a.translateWith(r),p.translateWith(r)),c=o?te(o,r):r.clone(),o=a,t.curveTo(c,a,p),r.x=p.x,r.y=p.y}},q:function(t,e){for(var o=e.parameters,n=e.position,r=0;r<o.length;r+=4){var i=new Q(o[r],o[r+1]),s=new Q(o[r+2],o[r+3]);e.isRelative&&(i.translateWith(n),s.translateWith(n));var a=oe(n,i,s);t.curveTo(a.controlOut,a.controlIn,s),n.x=s.x,n.y=s.y}},t:function(t,e){var o,n=e.parameters,r=e.position,i=e.previousCommand;"q"!==i&&"t"!==i||(o=k(k(t.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var s=0;s<n.length;s+=2){var a=new Q(n[s],n[s+1]);e.isRelative&&a.translateWith(r),o=o?te(o,r):r.clone();var p=oe(r,o,a);t.curveTo(p.controlOut,p.controlIn,a),r.x=a.x,r.y=a.y}}};function Jt(t,e,o){for(var n=e?0:1,r=0;r<t.length;r+=2)t.splice(r+n,0,o)}function te(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}var ee=1/3;function oe(t,e,o){var n=e.clone().scale(2/3);return{controlOut:n.clone().translateWith(t.scaleCopy(ee)),controlIn:n.translateWith(o.scaleCopy(ee))}}var ne=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,re=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;function ie(t,e){var o,n=new Q;return e.replace(ne,(function(e,r,i,s){var a=r.toLowerCase(),p=a===r,c=function(t){var e=[];return t.replace(re,(function(t,o){e.push(parseFloat(o))})),e}(i.trim());if("m"===a&&(p?(n.x+=c[0],n.y+=c[1]):(n.x=c[0],n.y=c[1]),t.moveTo(n.x,n.y),c.length>2&&(a="l",c.splice(0,2))),Kt[a])Kt[a](t,{parameters:c,position:n,isRelative:p,previousCommand:o}),s&&"z"===s.toLowerCase()&&t.close();else if("m"!==a)throw new Error("Error while parsing SVG path. Unsupported command: "+a);o=a})),t}function se(t,e,o){for(var n,r=0;r<t.length;r++){var i=t[r];if(i.visible()){var s=e?i.bbox(o):i.rawBBox();s&&(n=n?K.union(n,s):s)}}return n}function ae(t,e){for(var o,n=0;n<t.length;n++){var r=t[n];if(r.visible()){var i=r.clippedBBox(e);i&&(o=o?K.union(o,i):i)}}return o}var pe=" ",ce=function(t){function e(e){t.call(this,e),this.segments=new kt,this.segments.addObserver(this),l(this.options.stroke)||(this.stroke("#000"),l(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Path"},e.prototype.moveTo=function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},e.prototype.lineTo=function(t,e){var o=l(e)?new Q(t,e):t,n=new Bt(o);return this.segments.push(n),this},e.prototype.curveTo=function(t,e,o){if(this.segments.length>0){var n=k(this.segments),r=new Bt(o,e);this.suspend(),n.controlOut(t),this.resume(),this.segments.push(r)}return this},e.prototype.arc=function(t,e,o,n,r){if(this.segments.length>0){var i=k(this.segments).anchor(),s=E(t),a=new Q(i.x-o*Math.cos(s),i.y-n*Math.sin(s)),p=new yt(a,{startAngle:t,endAngle:e,radiusX:o,radiusY:n,anticlockwise:r});this._addArcSegments(p)}return this},e.prototype.arcTo=function(t,e,o,n,r,i){if(this.segments.length>0){var s=k(this.segments).anchor(),a=yt.fromPoints(s,Q.create(t),e,o,n,r,i);this._addArcSegments(a)}return this},e.prototype._addArcSegments=function(t){this.suspend();for(var e=t.curvePoints(),o=1;o<e.length;o+=3)this.curveTo(e[o],e[o+1],e[o+2]);this.resume(),this.geometryChange()},e.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},e.prototype.rawBBox=function(){return this._bbox()},e.prototype.toString=function(t){var e,o,n,r="",i=this.segments,s=i.length;if(s>0){for(var a,p=[],c=(n=t,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.map((function(t){return t.toString(n)})).join(pe)}),h=1;h<s;h++){var u=(e=i[h-1],o=i[h],e.controlOut()&&o.controlIn()?"C":"L");u!==a&&(a=u,p.push(u)),"L"===u?p.push(c(i[h].anchor())):p.push(c(i[h-1].controlOut(),i[h].controlIn(),i[h].anchor()))}r="M"+c(i[0].anchor())+pe+p.join(pe),this.options.closed&&(r+="Z")}return r},e.prototype._containsPoint=function(t){for(var e,o,n=this.segments,r=n.length,i=0,s=1;s<r;s++)e=n[s-1],o=n[s],i+=e._intersectionsTo(o,t);return!this.options.closed&&n[0].anchor().equals(n[r-1].anchor())||(i+=Nt(n[0].anchor(),n[r-1].anchor(),t)),i%2!=0},e.prototype._isOnPath=function(t,e){var o=this.segments,n=o.length,r=e||this.options.stroke.width;if(n>1){if(o[0]._isOnPathTo(o[1],t,r,"start"))return!0;for(var i=2;i<=n-2;i++)if(o[i-1]._isOnPathTo(o[i],t,r))return!0;if(o[n-2]._isOnPathTo(o[n-1],t,r,"end"))return!0}return!1},e.prototype._bbox=function(t){var e,o=this.segments,n=o.length;if(1===n){var r=o[0].anchor().transformCopy(t);e=new K(r,Z.ZERO)}else if(n>0)for(var i=1;i<n;i++){var s=o[i-1].bboxTo(o[i],t);e=e?K.union(e,s):s}return e},e.parse=function(t,e){return he.parse(t,e)},e.fromRect=function(t,o){var n=new e(o),r=t.cornerRadius,i=r[0],s=r[1];if(0===i&&0===s)n.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{var a=t.origin,p=a.x,c=a.y,h=t.width(),u=t.height();i=O(i,0,h/2),s=O(s,0,u/2),n.moveTo(p+i,c).lineTo(p+h-i,c).arcTo([p+h,c+s],i,s,!1).lineTo(p+h,c+u-s).arcTo([p+h-i,c+u],i,s,!1).lineTo(p+i,c+u).arcTo([p,c+u-s],i,s,!1).lineTo(p,c+s).arcTo([p+i,c],i,s,!1)}return n},e.fromPoints=function(t,o){if(t){for(var n=new e(o),r=0;r<t.length;r++){var i=Q.create(t[r]);i&&(0===r?n.moveTo(i):n.lineTo(i))}return n}},e.curveFromPoints=function(t,o){if(t){var n=function(t,e){var o=t.slice(0),n=[],r=o.length;if(r>2&&(Ht(0,o),r=o.length),r<2||2===r&&o[0].equals(o[1]))return n;var i,s,a=o[0],p=o[1],c=o[2];for(n.push(new Bt(a));a.equals(o[r-1]);)e=!0,o.pop(),r--;if(2===r){var h=Ut(a,p,It,Dt);return k(n).controlOut(Xt(h,a,p,It,Dt)),n.push(new Bt(p,Yt(h,a,p,It,Dt))),n}if(e){var u=Gt(a=o[r-1],p=o[0],c=o[1]);i=u[1],s=u[0]}else i=Xt(Ut(a,p,It,Dt),a,p,It,Dt);for(var l=i,f=0;f<=r-3;f++)if(Ht(f,o),f+3<=(r=o.length)){var d=Gt(a=o[f],p=o[f+1],c=o[f+2]);k(n).controlOut(l),l=d[1];var y=d[0];n.push(new Bt(p,y))}if(e){var g=Gt(a=o[r-2],p=o[r-1],c=o[0]);k(n).controlOut(l),n.push(new Bt(p,g[0])),k(n).controlOut(g[1]),n.push(new Bt(c,s))}else{var m=Ut(p,c,It,Dt);k(n).controlOut(l),n.push(new Bt(c,Yt(m,p,c,It,Dt)))}return n}(t),r=new e(o);return r.segments.push.apply(r.segments,n),r}},e.fromArc=function(t,o){var n=new e(o),r=t.startAngle,i=t.pointAt(r);return n.moveTo(i.x,i.y),n.arc(r,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),n},Object.defineProperties(e.prototype,n),e}(it(at(et))),he=function(t){function e(e){t.call(this,e),this.paths=new kt,this.paths.addObserver(this),l(this.options.stroke)||this.stroke("#000")}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return e.parse=function(t,o){return ie(new e(o),t)},e.prototype.toString=function(t){var e=this.paths,o="";if(e.length>0){for(var n=[],r=0;r<e.length;r++)n.push(e[r].toString(t));o=n.join(pe)}return o},n.nodeType.get=function(){return"MultiPath"},e.prototype.moveTo=function(t,e){var o=new ce;return o.moveTo(t,e),this.paths.push(o),this},e.prototype.lineTo=function(t,e){return this.paths.length>0&&k(this.paths).lineTo(t,e),this},e.prototype.curveTo=function(t,e,o){return this.paths.length>0&&k(this.paths).curveTo(t,e,o),this},e.prototype.arc=function(t,e,o,n,r){return this.paths.length>0&&k(this.paths).arc(t,e,o,n,r),this},e.prototype.arcTo=function(t,e,o,n,r,i){return this.paths.length>0&&k(this.paths).arcTo(t,e,o,n,r,i),this},e.prototype.close=function(){return this.paths.length>0&&k(this.paths).close(),this},e.prototype._bbox=function(t){return se(this.paths,!0,t)},e.prototype.rawBBox=function(){return se(this.paths,!1)},e.prototype._containsPoint=function(t){for(var e=this.paths,o=0;o<e.length;o++)if(e[o]._containsPoint(t))return!0;return!1},e.prototype._isOnPath=function(t){for(var e=this.paths,o=this.options.stroke.width,n=0;n<e.length;n++)if(e[n]._isOnPath(t,o))return!0;return!1},e.prototype._clippedBBox=function(t){return ae(this.paths,this.currentTransform(t))},Object.defineProperties(e.prototype,n),e}(it(at(et))),ue=function(t){function e(e,o){void 0===e&&(e=new yt),void 0===o&&(o={}),t.call(this,o),this.geometry(e),l(this.options.stroke)||this.stroke("#000")}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Arc"},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this.geometry().bbox()},e.prototype.toPath=function(){var t=new ce,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(var o=1;o<e.length;o+=3)t.curveTo(e[o],e[o+1],e[o+2])}return t},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(it(at(ct(et)))),le=function(t){function e(e,o,n){void 0===o&&(o=new Q),void 0===n&&(n={}),t.call(this,n),this.content(e),this.position(o),this.options.font||(this.options.font="12px sans-serif"),l(this.options.fill)||this.fill("#000")}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Text"},e.prototype.content=function(t){return l(t)?(this.options.set("content",t),this):this.options.get("content")},e.prototype.measure=function(){return r.measureText(this.content(),{font:this.options.get("font")})},e.prototype.rect=function(){var t=this.measure(),e=this.position().clone();return new K(e,[t.width,t.height])},e.prototype.bbox=function(t){var e=W(this.currentTransform(t));return this.rect().bbox(e)},e.prototype.rawBBox=function(){return this.rect().bbox()},e.prototype._containsPoint=function(t){return this.rect().containsPoint(t)},Object.defineProperties(e.prototype,n),e}(it(Rt(et,["position"]))),fe=function(t){function e(e,o,n){void 0===o&&(o=new K),void 0===n&&(n={}),t.call(this,n),this.src(e),this.rect(o)}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Image"},e.prototype.src=function(t){return l(t)?(this.options.set("src",t),this):this.options.get("src")},e.prototype.bbox=function(t){var e=W(this.currentTransform(t));return this._rect.bbox(e)},e.prototype.rawBBox=function(){return this._rect.bbox()},e.prototype._containsPoint=function(t){return this._rect.containsPoint(t)},e.prototype._hasFill=function(){return this.src()},Object.defineProperties(e.prototype,n),e}(ct(et,["rect"])),de=function(t,e){return function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.fn=n.prototype,n.fn.init=n.fn.constructor,n.prototype.traverse=function(t){for(var o=this[e],n=0;n<o.length;n++){var r=o[n];r.traverse?r.traverse(t):t(r)}return this},n}(t)},ye=function(t){function e(e){t.call(this,e),this.children=[]}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Group"},e.prototype.childrenChange=function(t,e,o){this.trigger("childrenChange",{action:t,items:e,index:o})},e.prototype.append=function(){return c(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},e.prototype.insert=function(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},e.prototype.insertAt=function(t,e){return this.insert(e,t)},e.prototype.remove=function(t){var e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},e.prototype.removeAt=function(t){if(0<=t&&t<this.children.length){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},e.prototype.clear=function(){var t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this},e.prototype.bbox=function(t){return se(this.children,!0,this.currentTransform(t))},e.prototype.rawBBox=function(){return se(this.children,!1)},e.prototype._clippedBBox=function(t){return ae(this.children,this.currentTransform(t))},e.prototype.currentTransform=function(t){return et.prototype.currentTransform.call(this,t)||null},e.prototype.containsPoint=function(t,e){if(this.visible())for(var o=this.children,n=this.currentTransform(e),r=0;r<o.length;r++)if(o[r].containsPoint(t,n))return!0;return!1},e.prototype._reparent=function(t,e){for(var o=0;o<t.length;o++){var n=t[o],r=n.parent;r&&r!==this&&r.remove&&r.remove(n),n.parent=e}},Object.defineProperties(e.prototype,n),e}(de(et,"children"));function ge(t,e,o){var n=o.transform()||tt(),r=n.matrix();r.e+=t.x-e.origin.x,r.f+=t.y-e.origin.y,n.matrix(r),o.transform(n)}function me(t,e,o,n,r){return"start"===o?e.origin[n]:"end"===o?e.origin[n]+e.size[r]-t:e.origin[n]+(e.size[r]-t)/2}function ve(t,e,o,n,r){return"start"===o?e.origin[n]+e.size[r]-t:"end"===o?e.origin[n]:e.origin[n]+(e.size[r]-t)/2}var xe={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},we=function(t,e){t.forEach(e)},be=function(t,e){for(var o=t.length-1;o>=0;o--)e(t[o],o)},_e=function(e){function n(o,n){e.call(this,t.extend({},xe,n)),this._rect=o,this._fieldMap={}}return o(n,e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.fn=n.prototype,n.fn.init=n.fn.constructor,n.prototype.rect=function(t){return t?(this._rect=t,this):this._rect},n.prototype._initMap=function(){var t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=be,this.justifyAlign=ve):(this.forEach=we,this.justifyAlign=me)},n.prototype.reflow=function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var t,e,o,n=this.options,r=this._rect,i=this._initGroups(),s=i.groups,a=i.groupsSize,p=this._fieldMap,c=p.sizeField,h=p.groupsSizeField,u=p.groupAxis,l=p.groupsAxis,f=new Q,d=new Q,y=new Z,g=me(a,r,n.alignContent,l,h),m=function(r,i){var s=e.elements[i];d[u]=t,d[l]=me(r.size[h],o,n.alignItems,l,h),ge(d,r,s),t+=r.size[c]+n.spacing},v=0;v<s.length;v++)e=s[v],f[u]=t=this.justifyAlign(e.size,r,n.justifyContent,u,c),f[l]=g,y[c]=e.size,y[h]=e.lineSize,o=new K(f,y),this.forEach(e.bboxes,m),g+=e.lineSize+n.lineSpacing;if(!n.wrap&&e.size>r.size[c]){var x=r.size[c]/o.size[c],w=o.topLeft().scale(x,x),b=me(o.size[h]*x,r,n.alignContent,l,h),_=tt();"x"===u?_.translate(r.origin.x-w.x,b-w.y):_.translate(b-w.x,r.origin.y-w.y),_.scale(x,x),this.transform(_)}}},n.prototype._initGroups=function(){for(var t=this,e=this.options,o=this.children,n=e.lineSpacing,r=e.wrap,i=e.spacing,s=this._fieldMap.sizeField,a=this._newGroup(),p=[],c=function(){p.push(a),h+=a.lineSize+n},h=-n,u=0;u<o.length;u++){var l=o[u],f=o[u].clippedBBox();l.visible()&&f&&(r&&a.size+f.size[s]+i>t._rect.size[s]?0===a.bboxes.length?(t._addToGroup(a,f,l),c(),a=t._newGroup()):(c(),a=t._newGroup(),t._addToGroup(a,f,l)):t._addToGroup(a,f,l))}return a.bboxes.length&&c(),{groups:p,groupsSize:h}},n.prototype._addToGroup=function(t,e,o){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(o)},n.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},n}(ye),Ce=function(t){function e(e,o){void 0===e&&(e=new K),void 0===o&&(o={}),t.call(this,o),this.geometry(e),l(this.options.stroke)||this.stroke("#000")}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Rect"},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._containsPoint=function(t){return this._geometry.containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(it(at(ct(et))));function Te(t,e,o,n,r){for(var i=0;i<t.length;i++){var s=t[i].clippedBBox();if(s){var a=s.origin.clone();a[n]=me(s.size[r],e,o||"start",n,r),ge(a,s,t[i])}}}function ke(t,e,o,n){if(t.length>1)for(var r=new Q,i=t[0].bbox,s=1;s<t.length;s++){var a=t[s].element,p=t[s].bbox;r[e]=i.origin[e]+i.size[n],r[o]=p.origin[o],ge(r,p,a),p.origin[e]=r[e],i=p}}function Oe(t){for(var e=[],o=0;o<t.length;o++){var n=t[o],r=n.clippedBBox();r&&e.push({element:n,bbox:r})}return e}function Me(t,e,o,n,r){for(var i=function(t,e,o){for(var n,r,i=e.size[o],s=[],a=[],p=0,c=function(){a.push({element:n,bbox:r})},h=0;h<t.length;h++)if(n=t[h],r=n.clippedBBox()){var u=r.size[o];p+u>i?a.length?(s.push(a),a=[],c(),p=u):(c(),s.push(a),a=[],p=0):(c(),p+=u)}return a.length&&s.push(a),s}(t,e,r),s=e.origin.clone(),a=[],p=0;p<i.length;p++){var c=i[p],h=c[0];s[n]=h.bbox.origin[n],ge(s,h.bbox,h.element),h.bbox.origin[o]=s[o],ke(c,o,n,r),a.push([]);for(var u=0;u<c.length;u++)a[p].push(c[u].element)}return a}var Se=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype._change=function(){this.optionsChange({field:"stops"})},e}(Tt);function Ee(t){return function(e){return l(e)?(this.options.set(t,e),this):this.options.get(t)}}var Ae,Pe,ze=function(t){function e(e,o,n){t.call(this),this.options=new U({offset:e,color:o,opacity:l(n)?n:1}),this.options.addObserver(this)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.create=function(t){if(l(t))return t instanceof e?t:t.length>1?new e(t[0],t[1],t[2]):new e(t.offset,t.color,t.opacity)},e}((Ae=["offset","color","opacity"],Pe=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e}(p),function(t,e){for(var o=0;o<e.length;o++)t[e[o]]=Ee(e[o])}(Pe.prototype,Ae),Pe)),Ne=function(t){function e(e){void 0===e&&(e={}),t.call(this),this.stops=new Se(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=d()}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={nodeType:{}};return n.nodeType.get=function(){return"Gradient"},e.prototype.userSpace=function(t){return l(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},e.prototype._createStops=function(t){void 0===t&&(t=[]);for(var e=[],o=0;o<t.length;o++)e.push(ze.create(t[o]));return e},e.prototype.addStop=function(t,e,o){this.stops.push(new ze(t,e,o))},e.prototype.removeStop=function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)},e.prototype.optionsChange=function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},e.prototype.geometryChange=function(){this.optionsChange()},Object.defineProperties(e.prototype,n),e}(p),je=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.start(e.start||new Q),this.end(e.end||new Q(1,0))}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e}(Rt(Ne,["start","end"])),Re=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.center(e.center||new Q),this._radius=l(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.radius=function(t){return l(t)?(this._radius=t,this.geometryChange(),this):this._radius},e.prototype.fallbackFill=function(t){return l(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill},e}(Rt(Ne,["center"]));var Be,Fe,Le={swing:function(t){return.5-Math.cos(t*Math.PI)/2},linear:function(t){return t},easeOutElastic:function(t,e,o,n){var r=1.70158,i=0,s=n;return 0===t?o:1===t?o+n:(i||(i=.5),s<Math.abs(n)?(s=n,r=i/4):r=i/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((Number(t)-r)*(1.1*Math.PI)/i)+n+o)}},Ie=function(t){function e(){t.call(this),this._items=[]}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={current:{}};return n.current.get=function(){return Be||(Be=new e),Be},e.prototype.register=function(t,e){this._items.push({name:t,type:e})},e.prototype.create=function(t,e){var o,n=this._items;if(e&&e.type)for(var r=e.type.toLowerCase(),i=0;i<n.length;i++)if(n[i].name.toLowerCase()===r){o=n[i];break}if(o)return new o.type(t,e)},Object.defineProperties(e,n),e}(n),De=function(e){function n(o,n){e.call(this),this.options=t.extend({},this.options,n),this.element=o}o(n,e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.fn=n.prototype,n.fn.init=n.fn.constructor;var r={options:{}};return n.create=function(t,e,o){return Ie.current.create(t,e,o)},r.options.get=function(){return this._options||{duration:500,easing:"swing"}},r.options.set=function(t){this._options=t},n.prototype.setup=function(){},n.prototype.step=function(){},n.prototype.play=function(){var t=this,e=this.options,o=e.duration,n=e.delay;void 0===n&&(n=0);var r=Le[e.easing],i=S()+n,s=i+o;0===o?(this.step(1),this.abort()):setTimeout((function(){var e=function(){if(!t._stopped){var n=S(),a=O(n-i,0,o),p=r(a/o,a,0,1,o);t.step(p),n<s?kendo.animationFrame(e):t.abort()}};e()}),n)},n.prototype.abort=function(){this._stopped=!0},n.prototype.destroy=function(){this.abort()},Object.defineProperties(n.prototype,r),n}(n),He=function(t){function e(){t.apply(this,arguments)}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={current:{}};return n.current.get=function(){return Fe||(Fe=new e),Fe},e.prototype.parse=function(t,e){return ie(new he(e),t)},Object.defineProperties(e,n),e}(n),qe=function(t){function e(e){t.call(this),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.destroy=function(){this.srcElement&&this.srcElement.removeObserver(this);for(var t=this.childNodes,e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null},e.prototype.load=function(){},e.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},e.prototype.append=function(t){this.childNodes.push(t),t.parent=this},e.prototype.insertAt=function(t,e){this.childNodes.splice(e,0,t),t.parent=this},e.prototype.remove=function(t,e){for(var o=t+e,n=t;n<o;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)},e.prototype.removeSelf=function(){this.clear(),this.destroy()},e.prototype.clear=function(){this.remove(0,this.childNodes.length)},e.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},e.prototype.geometryChange=function(){this.invalidate()},e.prototype.optionsChange=function(){this.invalidate()},e.prototype.childrenChange=function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()},e}(n),Ge=["click","mouseenter","mouseleave","mousemove","resize"],$e=function(e){function n(o,n){e.call(this),this.options=t.extend({},n),this.element=o,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new ye,B(o,this.options),this.bind(Ge,this.options),this._enableTracking()}return o(n,e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.fn=n.prototype,n.fn.init=n.fn.constructor,n.prototype.draw=function(t){this._visual.children.push(t)},n.prototype.clear=function(){this._visual.children=[]},n.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},n.prototype.eventTarget=function(t){for(var e,o=C(t);!e&&o&&(e=o._kendoNode,o!==this.element);)o=o.parentElement;if(e)return e.srcElement},n.prototype.exportVisual=function(){return this._visual},n.prototype.getSize=function(){return B(this.element)},n.prototype.currentSize=function(t){if(!t)return this._size;this._size=t},n.prototype.setSize=function(t){B(this.element,t),this.currentSize(t),this._resize()},n.prototype.resize=function(t){var e=this.getSize(),o=this.currentSize();(t||(e.width>0||e.height>0)&&(!o||e.width!==o.width||e.height!==o.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},n.prototype.size=function(t){if(!t)return this.getSize();this.setSize(t)},n.prototype.suspendTracking=function(){this._suspendedTracking=!0},n.prototype.resumeTracking=function(){this._suspendedTracking=!1},n.prototype._enableTracking=function(){},n.prototype._resize=function(){},n.prototype._handler=function(t){var e=this;return function(o){var n=e.eventTarget(o);n&&!e._suspendedTracking&&e.trigger(t,{element:n,originalEvent:o,type:t})}},n.prototype._elementOffset=function(){var t=this.element,e=L(t),o=N(t),n=o.left,r=o.top;return{left:n+e.left,top:r+e.top}},n.prototype._surfacePoint=function(t){var e=this._elementOffset(),o=_(t),n=o.x-e.left,r=o.y-e.top,i=q(this.element).invert();return new Q(n,r).transform(i)},n}(kendo.Observable);function Ue(t,e){return l(e)&&null!==e?" "+t+'="'+e+'" ':""}function Ve(t){for(var e="",o=0;o<t.length;o++)e+=Ue(t[o][0],t[o][1]);return e}function Xe(t){for(var e="",o=0;o<t.length;o++){var n=t[o][1];l(n)&&(e+=t[o][0]+":"+n+";")}if(""!==e)return e}var Ye={},We="http://www.w3.org/2000/svg",Qe="none",Ze=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){var Ke=document.createElement("div"),Je="undefined"!=typeof DOMParser;Ke.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",Je&&Ke.firstChild.namespaceURI!==We&&(Ze=function(t,e){var o=(new DOMParser).parseFromString(e,"text/xml"),n=document.adoptNode(o.documentElement);t.innerHTML="",t.appendChild(n)})}var to=Ze,eo="transform",oo={clip:"clip-path",fill:"fill"};function no(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}var ro=function(t){function e(e,o){t.call(this,e),this.definitions={},this.options=o}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),t.prototype.destroy.call(this)},e.prototype.load=function(t,e){for(var o=this,n=0;n<t.length;n++){var r=t[n],i=r.children,s=new Ye[r.nodeType](r,o.options);l(e)?o.insertAt(s,e):o.append(s),s.createDefinitions(),i&&i.length>0&&s.load(i);var a=o.element;a&&s.attachTo(a,e)}},e.prototype.root=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.attachTo=function(t,e){var o=document.createElement("div");to(o,"<svg xmlns='"+We+"' version='1.1'>"+this.render()+"</svg>");var n=o.firstChild.firstChild;n&&(l(e)?t.insertBefore(n,t.childNodes[e]||null):t.appendChild(n),this.setElement(n))},e.prototype.setElement=function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,o=0;o<e.length;o++){var n=t.childNodes[o];e[o].setElement(n)}},e.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},e.prototype.removeSelf=function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}t.prototype.removeSelf.call(this)},e.prototype.template=function(){return this.renderChildren()},e.prototype.render=function(){return this.template()},e.prototype.renderChildren=function(){for(var t=this.childNodes,e="",o=0;o<t.length;o++)e+=t[o].render();return e},e.prototype.optionsChange=function(e){var o=e.field,n=e.value;"visible"===o?this.css("display",n?"":Qe):oo[o]&&no(o,n)?this.updateDefinition(o,n):"opacity"===o?this.attr("opacity",n):"cursor"===o?this.css("cursor",n):"id"===o&&(n?this.attr("id",n):this.removeAttr("id")),t.prototype.optionsChange.call(this,e)},e.prototype.attr=function(t,e){this.element&&this.element.setAttribute(t,e)},e.prototype.allAttr=function(t){for(var e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])},e.prototype.css=function(t,e){this.element&&(this.element.style[t]=e)},e.prototype.allCss=function(t){for(var e=0;e<t.length;e++)this.css(t[e][0],t[e][1])},e.prototype.removeAttr=function(t){this.element&&this.element.removeAttribute(t)},e.prototype.mapTransform=function(t){var e=[];return t&&e.push([eo,"matrix("+t.matrix().toString(6)+")"]),e},e.prototype.renderTransform=function(){return Ve(this.mapTransform(this.srcElement.transform()))},e.prototype.transformChange=function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(eo)},e.prototype.mapStyle=function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display",Qe]),e},e.prototype.renderStyle=function(){return Ue("style",Xe(this.mapStyle(!0)))},e.prototype.renderOpacity=function(){return Ue("opacity",this.srcElement.options.opacity)},e.prototype.renderId=function(){return Ue("id",this.srcElement.options.id)},e.prototype.createDefinitions=function(){var t=this.srcElement,e=this.definitions;if(t){var o,n=t.options;for(var r in oo){var i=n.get(r);i&&no(r,i)&&(e[r]=i,o=!0)}o&&this.definitionChange({action:"add",definitions:e})}},e.prototype.definitionChange=function(t){this.parent&&this.parent.definitionChange(t)},e.prototype.updateDefinition=function(t,e){var o=this.definitions,n=o[t],r=oo[t],i={};n&&(i[t]=n,this.definitionChange({action:"remove",definitions:i}),delete o[t]),e?(i[t]=e,this.definitionChange({action:"add",definitions:i}),o[t]=e,this.attr(r,this.refUrl(e.id))):n&&this.removeAttr(r)},e.prototype.clearDefinitions=function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},e.prototype.renderDefinitions=function(){return Ve(this.mapDefinitions())},e.prototype.mapDefinitions=function(){var t=this.definitions,e=[];for(var o in t)e.push([oo[o],this.refUrl(t[o].id)]);return e},e.prototype.refUrl=function(t){var e=(this.options||{}).skipBaseHref,o=this.baseUrl().replace(/'/g,"\\'");return"url("+(e?"":o)+"#"+t+")"},e.prototype.baseUrl=function(){return function(){var t=document.getElementsByTagName("base")[0],e=document.location.href,o="";if(t&&!(i||{}).msie){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),o=e}return o}()},e}(qe),io=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},e.prototype.renderOffset=function(){return Ue("offset",this.srcElement.offset())},e.prototype.mapStyle=function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},e.prototype.optionsChange=function(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)},e}(ro),so=function(t){function e(e){t.call(this,e),this.id=e.id,this.loadStops()}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.loadStops=function(){for(var t=this.srcElement.stops,e=this.element,o=0;o<t.length;o++){var n=new io(t[o]);this.append(n),e&&n.attachTo(e)}},e.prototype.optionsChange=function(t){"gradient.stops"===t.field?(qe.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())},e.prototype.renderCoordinates=function(){return Ve(this.mapCoordinates())},e.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},e}(ro),ao=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.start(),o=t.end();return[["x1",e.x],["y1",e.y],["x2",o.x],["y2",o.y],this.mapSpace()]},e}(so),po=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.center(),o=t.radius();return[["cx",e.x],["cy",e.y],["r",o],this.mapSpace()]},e}(so),co=function(t){function e(e){t.call(this),this.srcElement=e,this.id=e.id,this.load([e])}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.template=function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},e}(ro),ho=function(t){function e(){t.call(this),this.definitionMap={}}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.attachTo=function(t){this.element=t},e.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},e.prototype.definitionChange=function(t){var e=t.definitions,o=t.action;"add"===o?this.addDefinitions(e):"remove"===o&&this.removeDefinitions(e)},e.prototype.createDefinition=function(t,e){var o;return"clip"===t?o=co:"fill"===t&&(e instanceof je?o=ao:e instanceof Re&&(o=po)),new o(e)},e.prototype.addDefinitions=function(t){for(var e in t)this.addDefinition(e,t[e])},e.prototype.addDefinition=function(t,e){var o=this.element,n=this.definitionMap,r=e.id,i=n[r];if(i)i.count++;else{var s=this.createDefinition(t,e);n[r]={element:s,count:1},this.append(s),o&&s.attachTo(this.element)}},e.prototype.removeDefinitions=function(t){for(var e in t)this.removeDefinition(t[e])},e.prototype.removeDefinition=function(t){var e=this.definitionMap,o=t.id,n=e[o];n&&(n.count--,0===n.count&&(this.remove(this.childNodes.indexOf(n.element),1),delete e[o]))},e}(ro),uo=function(t){function e(e){t.call(this),this.options=e,this.defs=new ho}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.attachTo=function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},e.prototype.clear=function(){qe.prototype.clear.call(this)},e.prototype.template=function(){return this.defs.render()+this.renderChildren()},e.prototype.definitionChange=function(t){this.defs.definitionChange(t)},e}(ro),lo={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},fo="solid",yo="butt",go={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},mo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},e.prototype.optionsChange=function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var o=go[e.field];o&&this.attr(o,e.value)}t.prototype.optionsChange.call(this,e)},e.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},e.prototype.renderData=function(){return this.srcElement.toString(3)||void 0},e.prototype.mapStroke=function(t){var e=[];return t&&!T(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),l(t.opacity)&&e.push(["stroke-opacity",t.opacity]),l(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",Qe]),e},e.prototype.renderStroke=function(){return Ve(this.mapStroke(this.srcElement.options.stroke))},e.prototype.renderDashType=function(t){var e=t.dashType,o=t.width;if(void 0===o&&(o=1),e&&e!==fo){for(var n=lo[e.toLowerCase()],r=[],i=0;i<n.length;i++)r.push(n[i]*o);return r.join(" ")}},e.prototype.renderLinecap=function(t){var e=t.dashType,o=t.lineCap;return e&&"solid"!==e?yo:o},e.prototype.mapFill=function(t){var e=[];return t&&"Gradient"===t.nodeType||(t&&!T(t.color)?(e.push(["fill",t.color]),l(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",Qe])),e},e.prototype.renderFill=function(){return Ve(this.mapFill(this.srcElement.options.fill))},e.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Ue("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"},e}(ro),vo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderData=function(){return this.srcElement.toPath().toString(3)},e}(mo),xo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.geometryChange=function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},e.prototype.center=function(){return this.srcElement.geometry().center},e.prototype.radius=function(){return this.srcElement.geometry().radius},e.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"},e}(mo),wo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},e.prototype.optionsChange=function(e){"transform"===e.field&&this.transformChange(e.value),t.prototype.optionsChange.call(this,e)},e}(ro),bo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},e.prototype.optionsChange=function(e){"src"===e.field&&this.allAttr(this.mapSource()),t.prototype.optionsChange.call(this,e)},e.prototype.mapPosition=function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},e.prototype.renderPosition=function(){return Ve(this.mapPosition())},e.prototype.mapSource=function(t){var e=this.srcElement.src();return t&&(e=kendo.htmlEncode(e)),[["xlink:href",e]]},e.prototype.renderSource=function(){return Ve(this.mapSource(!0))},e.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"},e}(mo),_o=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderData=function(){return this.srcElement.toString(3)||"undefined"},e}(mo),Co=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.geometryChange=function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()},e.prototype.size=function(){return this.srcElement.geometry().size},e.prototype.origin=function(){return this.srcElement.geometry().origin},e.prototype.rx=function(){return this.srcElement.geometry().cornerRadius[0]},e.prototype.ry=function(){return this.srcElement.geometry().cornerRadius[1]},e.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' rx='"+this.rx()+"' ry='"+this.ry()+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"},e}(mo),To=/&(?:[a-zA-Z]+|#\d+);/g;function ko(t){if(!t||"string"!=typeof t||!To.test(t))return t;var e=ko._element;return To.lastIndex=0,t.replace(To,(function(t){return e.innerHTML=t,e.textContent||e.innerText}))}"undefined"!=typeof document&&(ko._element=document.createElement("span"));var Oo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.geometryChange=function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},e.prototype.optionsChange=function(e){"font"===e.field?(this.attr("style",Xe(this.mapStyle())),this.geometryChange()):"content"===e.field&&t.prototype.content.call(this,this.srcElement.content()),t.prototype.optionsChange.call(this,e)},e.prototype.mapStyle=function(e){var o=t.prototype.mapStyle.call(this,e),n=this.srcElement.options.font;return e&&(n=kendo.htmlEncode(n)),o.push(["font",n],["white-space","pre"]),o},e.prototype.pos=function(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},e.prototype.renderContent=function(){var t=this.srcElement.content();return t=ko(t),t=kendo.htmlEncode(t),r.normalizeText(t)},e.prototype.renderTextAnchor=function(){var t;return!(this.options||{}).rtl||i.msie||i.edge||(t="end"),Ue("text-anchor",t)},e.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"},e}(mo);Ye.Arc=vo,Ye.Circle=xo,Ye.Group=wo,Ye.Image=bo,Ye.MultiPath=_o,Ye.Path=mo,Ye.Rect=Co,Ye.Text=Oo;var Mo=function(e){function n(o,n){e.call(this,o,n),this._root=new uo(t.extend({rtl:"rtl"===j(o,"direction").direction},this.options)),to(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function(t){var e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(t){}if(e){var o=-e.e%1,n=-e.f%1,r=t.style;0===o&&0===n||(r.left=o+"px",r.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),z(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}o(n,e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.fn=n.prototype,n.fn.init=n.fn.constructor;var r={type:{}};return r.type.get=function(){return"svg"},n.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,F(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),e.prototype.destroy.call(this)},n.prototype.translate=function(t){var e=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t,this._rootElement.setAttribute("viewBox",e)},n.prototype.draw=function(t){e.prototype.draw.call(this,t),this._root.load([t])},n.prototype.clear=function(){e.prototype.clear.call(this),this._root.clear()},n.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},n.prototype.exportVisual=function(){var t=this._visual,e=this._offset;if(e){var o=new ye;o.children.push(t),o.transform(tt().translate(-e.x,-e.y)),t=o}return t},n.prototype._resize=function(){this._offset&&this.translate(this._offset)},n.prototype._template=function(t){return"<svg "+("string"==typeof t?t:"style='width: 100%; height: 100%; overflow: hidden;' ")+"xmlns='"+We+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},Object.defineProperties(n.prototype,r),n}($e),So={};function Eo(t,e){var o=e.segments;if(0!==o.length){var n=o[0],r=n.anchor();t.moveTo(r.x,r.y);for(var i=1;i<o.length;i++){r=(n=o[i]).anchor();var s=o[i-1].controlOut(),a=n.controlIn();s&&a?t.bezierCurveTo(s.x,s.y,a.x,a.y,r.x,r.y):t.lineTo(r.x,r.y)}e.options.closed&&t.closePath()}}var Ao=function(t){function e(e){t.call(this,e),e&&this.initClip()}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.initClip=function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},e.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),t.prototype.clear.call(this)},e.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},e.prototype.setClip=function(t){this.clip&&(t.beginPath(),Eo(t,this.clip),t.clip())},e.prototype.optionsChange=function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),t.prototype.optionsChange.call(this,e)},e.prototype.setTransform=function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},e.prototype.loadElements=function(t,e,o){for(var n=0;n<t.length;n++){var r=t[n],i=r.children,s=new So[r.nodeType](r,o);i&&i.length>0&&s.load(i,e,o),l(e)?this.insertAt(s,e):this.append(s)}},e.prototype.load=function(t,e,o){this.loadElements(t,e,o),this.invalidate()},e.prototype.setOpacity=function(t){if(this.srcElement){var e=this.srcElement.opacity();l(e)&&this.globalAlpha(t,e)}},e.prototype.globalAlpha=function(t,e){var o=e;o&&t.globalAlpha&&(o*=t.globalAlpha),t.globalAlpha=o},e.prototype.visible=function(){var t=this.srcElement;return!t||t&&!1!==t.options.visible},e}(qe),Po=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderTo=function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,o=0;o<e.length;o++){var n=e[o];n.visible()&&n.renderTo(t)}t.restore()}},e}(de(Ao,"childNodes")),zo=function(t){function e(e,o){t.call(this),this.canvas=e,this.size=o,this.ctx=e.getContext("2d");var n=this._invalidate.bind(this);this.invalidate=kendo.throttle((function(){kendo.animationFrame(n)}),16.666666666666668)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvas=null,this.ctx=null},e.prototype.load=function(t,e,o){this.loadElements(t,e,o),this._invalidate()},e.prototype._rescale=function(t){var e=this.canvas,o=this.size;e.width=o.width*t,e.height=o.height*t,this.ctx.scale(t,t)},e.prototype._devicePixelRatio=function(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1},e.prototype._invalidate=function(t){if(this.ctx){var e=t&&t.fixedScale?1:this._devicePixelRatio();this._rescale(e),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},e}(de(Po,"childNodes")),No=function(t){function e(){t.call(this),this.shapes=[]}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype._add=function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},e.prototype.pointShapes=function(t){for(var e=this.shapes,o=e.length,n=[],r=0;r<o;r++)e[r].bbox.containsPoint(t)&&n.push(e[r].shape);return n},e.prototype.insert=function(t,e){this._add(t,e)},e.prototype.remove=function(t){for(var e=this.shapes,o=e.length,n=0;n<o;n++)if(e[n].shape===t){e.splice(n,1);break}},e}(n),jo=function(t){function e(e){t.call(this),this.children=[],this.rect=e}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.inBounds=function(t){var e=this.rect,o=e.bottomRight(),n=t.bottomRight(),r=e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&n.x<=o.x&&n.y<=o.y;return r},e.prototype.pointShapes=function(e){for(var o=this.children,n=o.length,r=t.prototype.pointShapes.call(this,e),i=0;i<n;i++)c(r,o[i].pointShapes(e));return r},e.prototype.insert=function(t,e){var o=this.children,n=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{o.length||this._initChildren();for(var r=0;r<o.length;r++)if(o[r].insert(t,e)){n=!0;break}n||this._add(t,e)}n=!0}return n},e.prototype._initChildren=function(){var t=this.rect,o=this.children,n=t.center(),r=t.width()/2,i=t.height()/2;o.push(new e(new K([t.origin.x,t.origin.y],[r,i])),new e(new K([n.x,t.origin.y],[r,i])),new e(new K([t.origin.x,n.y],[r,i])),new e(new K([n.x,n.y],[r,i])))},e}(No),Ro=3e3,Bo=function(t){function e(){t.call(this),this.initRoots()}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.initRoots=function(){this.rootMap={},this.root=new No,this.rootElements=[]},e.prototype.clear=function(){for(var t=this.rootElements,e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()},e.prototype.pointShape=function(t){var e=(this.rootMap[Math.floor(t.x/Ro)]||{})[Math.floor(t.y/Ro)],o=this.root.pointShapes(t);e&&(o=o.concat(e.pointShapes(t))),this.assignZindex(o),o.sort(Fo);for(var n=0;n<o.length;n++)if(o[n].containsPoint(t))return o[n]},e.prototype.assignZindex=function(t){for(var e=0;e<t.length;e++){for(var o=t[e],n=0,r=Math.pow(1e4,75),i=[];o;)i.push(o),o=o.parent;for(;i.length;)n+=(((o=i.pop()).parent?o.parent.children:this.rootElements).indexOf(o)+1)*r,r/=1e4;t[e]._zIndex=n}},e.prototype.optionsChange=function(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)},e.prototype.geometryChange=function(t){this.bboxChange(t.element)},e.prototype.bboxChange=function(t){if("Group"===t.nodeType)for(var e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},e.prototype.add=function(t){var e=Array.isArray(t)?t.slice(0):[t];c(this.rootElements,e),this._insert(e)},e.prototype.childrenChange=function(t){if("remove"===t.action)for(var e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))},e.prototype._insert=function(t){for(var e;t.length>0;)(e=t.pop()).addObserver(this),"Group"===e.nodeType?c(t,e.children):this._insertShape(e)},e.prototype._insertShape=function(t){var e=t.bbox();if(e){var o=this.getSectors(e),n=o[0][0],r=o[1][0];if(this.inRoot(o))this.root.insert(t,e);else{var i=this.rootMap;i[n]||(i[n]={}),i[n][r]||(i[n][r]=new jo(new K([n*Ro,r*Ro],[Ro,Ro]))),i[n][r].insert(t,e)}}},e.prototype.remove=function(t){if(t.removeObserver(this),"Group"===t.nodeType)for(var e=t.children,o=0;o<e.length;o++)this.remove(e[o]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},e.prototype.inRoot=function(t){return t[0].length>1||t[1].length>1},e.prototype.getSectors=function(t){for(var e=t.bottomRight(),o=Math.floor(e.x/Ro),n=Math.floor(e.y/Ro),r=[[],[]],i=Math.floor(t.origin.x/Ro);i<=o;i++)r[0].push(i);for(var s=Math.floor(t.origin.y/Ro);s<=n;s++)r[1].push(s);return r},e}(n);function Fo(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}var Lo=function(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element};Lo.prototype.clear=function(){this._resetCursor()},Lo.prototype.destroy=function(){this._resetCursor(),delete this.element},Lo.prototype._mouseenter=function(t){var e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()},Lo.prototype._mouseleave=function(){this._resetCursor()},Lo.prototype._shapeCursor=function(t){for(var e=t.element;e&&!l(e.options.cursor);)e=e.parent;if(e)return e.options.cursor},Lo.prototype._getCursor=function(){if(this.element)return this.element.style.cursor},Lo.prototype._setCursor=function(t){this.element&&(this.element.style.cursor=t,this._current=t)},Lo.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};var Io=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderTo=function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},e.prototype.setFill=function(t){var e=this.srcElement.options.fill,o=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),o=!0):T(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),o=!0)),o},e.prototype.setGradientFill=function(t,e){var o,n=this.srcElement.rawBBox();if(e instanceof je){var r=e.start(),i=e.end();o=t.createLinearGradient(r.x,r.y,i.x,i.y)}else if(e instanceof Re){var s=e.center();o=t.createRadialGradient(s.x,s.y,0,s.x,s.y,e.radius())}!function(t,e){for(var o=0;o<e.length;o++){var n=e[o],r=kendo.parseColor(n.color());r.a*=n.opacity(),t.addColorStop(n.offset(),r.toCssRgba())}}(o,e.stops),t.save(),e.userSpace()||t.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),t.fillStyle=o,t.fill(),t.restore()},e.prototype.setStroke=function(t){var e=this.srcElement.options.stroke;if(e&&!T(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=P(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},e.prototype.dashType=function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},e.prototype.setLineDash=function(t){var e=this.dashType();if(e&&e!==fo){var o=lo[e];t.setLineDash?t.setLineDash(o):(t.mozDash=o,t.webkitLineDash=o)}},e.prototype.setLineCap=function(t){var e=this.dashType(),o=this.srcElement.options.stroke;e&&e!==fo?t.lineCap=yo:o&&o.lineCap&&(t.lineCap=o.lineCap)},e.prototype.setLineJoin=function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},e.prototype.renderPoints=function(t,e){Eo(t,e)},e}(Ao),Do=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderPoints=function(t){Eo(t,this.srcElement.toPath())},e}(Io),Ho=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),o=e.center,n=e.radius;t.arc(o.x,o.y,n,0,2*Math.PI)},e}(Io),qo=function(t){function e(e,o){t.call(this,e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=s();var n=this.img=new Image,r=e.src();o&&!/^data:/i.test(r)&&(n.crossOrigin=o),r&&(n.src=r),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderTo=function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},e.prototype.optionsChange=function(e){"src"===e.field?(this.loading=s(),this.img.src=this.srcElement.src()):t.prototype.optionsChange.call(this,e)},e.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},e.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},e.prototype.drawImage=function(t){var e=this.srcElement.rect(),o=e.topLeft();t.drawImage(this.img,o.x,o.y,e.width(),e.height())},e}(Io),Go=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderPoints=function(t){for(var e=this.srcElement.paths,o=0;o<e.length;o++)Eo(t,e[o])},e}(Io),$o=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderPoints=function(e){var o=this.srcElement.geometry(),n=o.cornerRadius,r=n[0],i=n[1];if(0===r&&0===i){var s=o.origin,a=o.size;e.rect(s.x,s.y,a.width,a.height)}else t.prototype.renderPoints.call(this,e,ce.fromRect(o))},e}(Io),Uo=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.renderTo=function(t){var e=this.srcElement,o=e.position(),n=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),o.x,o.y+n.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),o.x,o.y+n.baseline)),t.restore()},e}(Io);So.Arc=Do,So.Circle=Ho,So.Group=Po,So.Image=qo,So.MultiPath=Go,So.Path=Io,So.Rect=$o,So.Text=Uo;var Vo,Xo,Yo=function(t){function e(e,o){t.call(this,e,o),this.element.innerHTML=this._template(this);var n=this.element.firstElementChild;n.style.width="100%",n.style.height="100%";var r=B(e);n.width=r.width,n.height=r.height,this._rootElement=n,this._root=new zo(n,r),this._mouseTrackHandler=this._trackMouse.bind(this),z(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={type:{}};return n.type.get=function(){return"canvas"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),F(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},e.prototype.eventTarget=function(t){if(this._searchTree){var e=this._surfacePoint(t);return this._searchTree.pointShape(e)}},e.prototype.image=function(){var t=this._root,e=this._rootElement,o=[];t.traverse((function(t){t.loading&&o.push(t.loading)}));var n=s(),r=function(){t._invalidate({fixedScale:!0});try{var o=e.toDataURL();n.resolve(o)}catch(t){n.reject(t)}};return a(o).then(r,r),n},e.prototype.suspendTracking=function(){t.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},e.prototype.resumeTracking=function(){if(t.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new Bo;for(var e=this._root.childNodes,o=[],n=0;n<e.length;n++)o.push(e[n].srcElement);this._searchTree.add(o)}},e.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},e.prototype._template=function(){return"<canvas></canvas>"},e.prototype._enableTracking=function(){this._searchTree=new Bo,this._cursor=new Lo(this),t.prototype._enableTracking.call(this)},e.prototype._trackMouse=function(t){if(!this._suspendedTracking){var e=this.eventTarget(t);if("click"!==t.type){var o=this._currentShape;o&&o!==e&&this.trigger("mouseleave",{element:o,originalEvent:t,type:"mouseleave"}),e&&o!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}},Object.defineProperties(e.prototype,n),e}($e),Wo=function(){return"undefined"!=typeof document},Qo=function(t){function e(){t.call(this),this._items=[{name:"svg",type:Mo},{name:"canvas",type:Yo}]}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={support:{},current:{}};return n.support.get=function(){return Xo||(Xo={canvas:Wo()&&document.createElement("canvas").getContext,svg:Wo()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),Xo},n.current.get=function(){return Vo||(Vo=new e),Vo},e.prototype.create=function(t,e){var o=this._items,n=o[0];if(e&&e.type)for(var r=e.type.toLowerCase(),i=0;i<o.length;i++)if(o[i].name===r){n=o[i];break}if(n)return new n.type(t,e);kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)},Object.defineProperties(e,n),e}(n),Zo=function(t){function e(){t.apply(this,arguments)}o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor;var n={support:{}};return n.support.get=function(){return Qo.support},e.create=function(t,e){return Qo.current.create(t,e)},Object.defineProperties(e,n),e}($e);function Ko(t){var e=new uo({skipBaseHref:!0}),o=t.clippedBBox(),n=t;if(o){var r=o.getOrigin(),i=new ye;i.transform(tt().translate(-r.x,-r.y)),i.children.push(t),n=i}e.load([n]);var s="<?xml version='1.0' ?><svg xmlns='"+We+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+e.render()+"</svg>";return e.destroy(),s}var Jo={Surface:Mo,RootNode:uo,Node:ro,GroupNode:wo,ArcNode:vo,CircleNode:xo,RectNode:Co,ImageNode:bo,TextNode:Oo,PathNode:mo,MultiPathNode:_o,DefinitionNode:ho,ClipNode:co,GradientStopNode:io,LinearGradientNode:ao,RadialGradientNode:po,exportGroup:Ko},tn={Surface:Yo,RootNode:zo,Node:Ao,GroupNode:Po,ArcNode:Do,CircleNode:Ho,RectNode:$o,ImageNode:qo,TextNode:Uo,PathNode:Io,MultiPathNode:Go};var en=i||{};function on(t){return Array.prototype.slice.call(t)}var nn="KENDO-PSEUDO-ELEMENT",rn={},sn={};sn._root=sn;var an=!!("undefined"!=typeof window)&&(en.msie||en.edge),pn=function(t){function e(e,o,n){t.call(this,e,o.getOrigin(),n),this._pdfRect=o}return o(e,t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fn=e.prototype,e.fn.init=e.fn.constructor,e.prototype.rect=function(){return this._pdfRect},e.prototype.rawBBox=function(){return this._pdfRect},e}(le);function cn(t,e){Object.keys(e).forEach((function(o){t.style[o]=e[o]}))}var hn,un="undefined"!=typeof Element&&Element.prototype&&((hn=Element.prototype).matches?function(t,e){return t.matches(e)}:hn.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:hn.mozMatchesSelector?function(t,e){return t.mozMatchesSelector(e)}:hn.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)});function ln(t,e){if(t.closest)return t.closest(e);for(;t&&!/^\[object (?:HTML)?Document\]$/.test(String(t));){if(1==t.nodeType&&un(t,e))return t;t=t.parentNode}}var fn=function(t){return t?function e(o){var n=o.cloneNode(!1);if(1==o.nodeType){var r,i=t(o),s=t(n),a=i.data();for(r in a)s.data(r,a[r]);for(/^canvas$/i.test(o.tagName)?n.getContext("2d").drawImage(o,0,0):/^(?:input|select|textarea|option)$/i.test(o.tagName)&&(n.removeAttribute("id"),n.removeAttribute("name"),/^textarea$/i.test(o.tagName)||(n.value=o.value),n.checked=o.checked,n.selected=o.selected),r=o.firstChild;r;r=r.nextSibling)n.appendChild(e(r))}return n}:function(t){var e=function t(e){var o=e.cloneNode(!1);e._kendoExportVisual&&(o._kendoExportVisual=e._kendoExportVisual);for(var n=e.firstChild;n;n=n.nextSibling)o.appendChild(t(n));return o}(t),o=t.querySelectorAll("canvas");o.length&&on(e.querySelectorAll("canvas")).forEach((function(t,e){t.getContext("2d").drawImage(o[e],0,0)}));var n=t.querySelectorAll("input, select, textarea, option");return on(e.querySelectorAll("input, select, textarea, option")).forEach((function(t,e){t.removeAttribute("id"),t.removeAttribute("name"),/^textarea$/i.test(t.tagName)||(t.value=n[e].value),t.checked=n[e].checked,t.selected=n[e].selected})),e}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery);var dn,yn=function(){var t=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,e=/^([-0-9.]+%)/,o=/^([-0-9.]+px)/,n=/^(left|right|top|bottom|to|center)\W/,r=/^([-0-9.]+(deg|grad|rad|turn)|0)/,i=/^(\s+)/,s=/^(\()/,a=/^(\))/,p=/^(,)/,c=/^(url)\(/,h=/^(.*?)\)/,u={},l={};function f(l){var f,d=l;if(wn(u,d))return u[d];function y(t){!function(){var t=i.exec(l);t&&(l=l.substr(t[1].length))}();var e=t.exec(l);if(e)return l=l.substr(e[1].length),e[1]}function g(){var t,n,r=kendo.parseColor(l,!0);if(r){var i=/^#[0-9a-f]+/i.exec(l)||/^rgba?\(.*?\)/i.exec(l)||/^..*?\b/.exec(l);return l=l.substr(i[0].length),r=r.toRGB(),(t=y(o))||(n=y(e)),{color:r,length:t,percent:n}}}return(f=y(t))?f=function(t){var o,i,c,h=[],u=!1;if(y(s)){if("0"==(o=y(r))&&(o="0deg"),o?(o=function(t){var e=parseFloat(t);return/grad$/.test(t)?Math.PI*e/200:/rad$/.test(t)?e:/turn$/.test(t)?Math.PI*e*2:/deg$/.test(t)?Math.PI*e/180:void 0}(o),y(p)):("to"==(i=y(n))?i=y(n):i&&/^-/.test(t)&&(u=!0),c=y(n),y(p)),/-moz-/.test(t)&&null==o&&null==i){var f=y(e),d=y(e);u=!0,"0%"==f?i="left":"100%"==f&&(i="right"),"0%"==d?c="top":"100%"==d&&(c="bottom"),y(p)}for(;l&&!y(a);){var m=g();if(!m)break;h.push(m),y(p)}return{type:"linear",angle:o,to:i&&c?i+" "+c:i||c||null,stops:h,reverse:u}}}(f):(f=y(c))&&(f=function(){if(y(s)){var t=y(h);return t=t.replace(/^['"]+|["']+$/g,""),y(a),{type:"url",url:t}}}()),u[d]=f||{type:"none"}}return function(t){return wn(l,t)?l[t]:l[t]=gn(t).map(f)}}(),gn=(dn={},function(t,e){e||(e=/^\s*,\s*/);var o=t+e;if(wn(dn,o))return dn[o];var n,r=[],i=0,s=0,a=0,p=!1;function c(e){return n=e.exec(t.substr(s))}function h(t){return t.replace(/^\s+|\s+$/g,"")}for(;s<t.length;)!p&&c(/^[\(\[\{]/)?(a++,s++):!p&&c(/^[\)\]\}]/)?(a--,s++):!p&&c(/^[\"\']/)?(p=n[0],s++):"'"==p&&c(/^\\\'/)||'"'==p&&c(/^\\\"/)?s+=2:"'"==p&&c(/^\'/)||'"'==p&&c(/^\"/)?(p=!1,s++):c(e)?(!p&&!a&&s>i&&(r.push(h(t.substring(i,s))),i=s+n[0].length),s+=n[0].length):s++;return i<s&&r.push(h(t.substring(i,s))),dn[o]=r}),mn=function(t){return function(e){var o,n=t[e];n||((o=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))||(o=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e)))&&(n=t[e]=o[2]);return n}}(Object.create?Object.create(null):{}),vn=function(t){return function(e){var o=t[e];return null==o&&(o=t[e]=r.measureText("Mapq",{font:e}).height),o}}(Object.create?Object.create(null):{});function xn(t){null==t&&(t=document);for(var e={},o=0;o<t.styleSheets.length;++o)n(t.styleSheets[o]);return e;function n(t){if(t){var e=null;try{e=t.cssRules}catch(t){}e&&function(t,e){for(var o=0;o<e.length;++o){var s=e[o];switch(s.type){case 3:n(s.styleSheet);break;case 5:var a=s.style,p=gn(Nn(a,"font-family")),c=/^([56789]00|bold)$/i.test(Nn(a,"font-weight")),h="italic"==Nn(a,"font-style"),u=r(s);u.length>0&&i(t,p,c,h,u[0])}}}(t,e)}}function r(t){var e=Nn(t.style,"src");if(e)return gn(e).reduce((function(t,e){var o=mn(e);return o&&t.push(o),t}),[]);var o=mn(t.cssText);return o?[o]:[]}function i(t,o,n,r,i){/^data:/i.test(i)||/^[^\/:]+:\/\//.test(i)||/^\//.test(i)||(i=String(t.href).replace(/[^\/]*$/,"")+i),o.forEach((function(t){t=t.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(t+="|bold"),r&&(t+="|italic"),e[t]=i}))}}function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bn(t,e){var o=sn;for(t="_counter_"+t;o&&!wn(o,t);)o=Object.getPrototypeOf(o);o||(o=sn._root),o[t]=(o[t]||0)+(null==e?1:e)}function _n(t,e){sn[t="_counter_"+t]=null==e?0:e}function Cn(t,e,o){for(var n=0;n<t.length;){var r=t[n++],i=parseFloat(t[n]);isNaN(i)?e(r,o):(e(r,i),++n)}}function Tn(t){var e=Nn(t,"counter-reset");e&&Cn(gn(e,/^\s+/),_n,0);var o=Nn(t,"counter-increment");o&&Cn(gn(o,/^\s+/),bn,1)}function kn(t,e){var o=kendo.parseColor(t,!0);return o&&(o=o.toRGB(),e?o=o.toCssRgba():0===o.a&&(o=null)),o}function On(t,e){var o=0;function n(){--o<=0&&e()}t.forEach((function(t){for(var e=t.querySelectorAll("img"),r=0;r<e.length;++r){var i=e[r];i.complete||(o++,i.onload=i.onerror=n)}})),o||n()}function Mn(t,e){var o=[];function n(t){rn[t]||(rn[t]=!0,o.push(t))}t.forEach((function t(e){/^img$/i.test(e.tagName)&&n(e.src),yn(Nn(zn(e),"background-image")).forEach((function(t){"url"==t.type&&n(t.url)})),e.children&&on(e.children).forEach(t)}));var r=o.length;function i(){--r<=0&&On(t,e)}0===r&&i(),o.forEach((function(t){var e=rn[t]=new window.Image;/^data:/i.test(t)||(e.crossOrigin="Anonymous"),e.src=t,e.complete?i():(e.onload=i,e.onerror=function(){rn[t]=null,i()})}))}function Sn(t){var e="";do{var o=t%26;e=String.fromCharCode(97+o)+e,t=Math.floor(t/26)}while(t>0);return e}function En(t,e,o){(sn=Object.create(sn))[t.tagName.toLowerCase()]={element:t,style:e};var n=Nn(e,"text-decoration");if(n&&"none"!=n){var r=Nn(e,"color");n.split(/\s+/g).forEach((function(t){sn[t]||(sn[t]=r)}))}(function(t){function e(e){return Nn(t,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0})(e)&&(sn._stackingContext={element:t,group:o})}function An(){sn=Object.getPrototypeOf(sn)}function Pn(t){if(null!=sn._clipbox){var e=t.bbox(sn._matrix);sn._clipbox?sn._clipbox=K.intersect(sn._clipbox,e):sn._clipbox=e}}function zn(t,e){return window.getComputedStyle(t,e||null)}function Nn(t,e,o){var n=t.getPropertyValue(e);return null!=n&&""!==n||(en.webkit?n=t.getPropertyValue("-webkit-"+e):en.mozilla?n=t.getPropertyValue("-moz-"+e):en.opera?n=t.getPropertyValue("-o-"+e):an&&(n=t.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==n||""===n)?o:n}function jn(t,e,o,n){t.setProperty(e,o,n),en.webkit?t.setProperty("-webkit-"+e,o,n):en.mozilla?t.setProperty("-moz-"+e,o,n):en.opera?t.setProperty("-o-"+e,o,n):an&&(t.setProperty("-ms-"+e,o,n),t[e="ms"+e.replace(/(^|-)([a-z])/g,(function(t,e,o){return e+o.toUpperCase()}))]=o)}function Rn(t,e){return e="border-"+e,{width:parseFloat(Nn(t,e+"-width")),style:Nn(t,e+"-style"),color:kn(Nn(t,e+"-color"),!0)}}function Bn(t,e){var o=t.style.cssText,n=e();return t.style.cssText=o,n}function Fn(t,e){var o=Nn(t,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==o.length&&o.push(o[0]),$n({x:o[0],y:o[1]})}function Ln(t){var e=t.getBoundingClientRect();return e=In(e,"border-*-width",t),e=In(e,"padding-*",t)}function In(t,e,o){var n,r,i,s,a;return"string"==typeof e?(n=zn(o),r=parseFloat(Nn(n,e.replace("*","top"))),i=parseFloat(Nn(n,e.replace("*","right"))),s=parseFloat(Nn(n,e.replace("*","bottom"))),a=parseFloat(Nn(n,e.replace("*","left")))):"number"==typeof e&&(r=i=s=a=e),{top:t.top+r,right:t.right-i,bottom:t.bottom-s,left:t.left+a,width:t.right-t.left-i-a,height:t.bottom-t.top-s-r}}function Dn(t){return 180*t/Math.PI%360}function Hn(t,e){return e=new I(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function qn(t,e){t.clip(e)}function Gn(t,e,o,n){for(var r=new yt([e,o],n).curvePoints(),i=1;i<r.length;)t.curveTo(r[i++],r[i++],r[i++])}function $n(t){return(t.x<=0||t.y<=0)&&(t.x=t.y=0),t}function Un(t,e,o,n,r){var i=Math.max(0,e.x),s=Math.max(0,e.y),a=Math.max(0,o.x),p=Math.max(0,o.y),c=Math.max(0,n.x),h=Math.max(0,n.y),u=Math.max(0,r.x),l=Math.max(0,r.y),f=Math.min(t.width/(i+a),t.height/(p+h),t.width/(c+u),t.height/(l+s));return f<1&&(i*=f,s*=f,a*=f,p*=f,c*=f,h*=f,u*=f,l*=f),{tl:{x:i,y:s},tr:{x:a,y:p},br:{x:c,y:h},bl:{x:u,y:l}}}function Vn(t,e,o){var n=zn(t),r=Fn(n,"top-left"),i=Fn(n,"top-right"),s=Fn(n,"bottom-left"),a=Fn(n,"bottom-right");if("padding"==o||"content"==o){var p=Rn(n,"top"),c=Rn(n,"right"),h=Rn(n,"bottom"),u=Rn(n,"left");if(r.x-=u.width,r.y-=p.width,i.x-=c.width,i.y-=p.width,a.x-=c.width,a.y-=h.width,s.x-=u.width,s.y-=h.width,"content"==o){var l=parseFloat(Nn(n,"padding-top")),f=parseFloat(Nn(n,"padding-right")),d=parseFloat(Nn(n,"padding-bottom")),y=parseFloat(Nn(n,"padding-left"));r.x-=y,r.y-=l,i.x-=f,i.y-=l,a.x-=f,a.y-=d,s.x-=y,s.y-=d}}return"number"==typeof o&&(r.x-=o,r.y-=o,i.x-=o,i.y-=o,a.x-=o,a.y-=o,s.x-=o,s.y-=o),Xn(e,r,i,a,s)}function Xn(t,e,o,n,r){var i=Un(t,e,o,n,r),s=i.tl,a=i.tr,p=i.br,c=i.bl,h=new ce({fill:null,stroke:null});return h.moveTo(t.left,t.top+s.y),s.x&&Gn(h,t.left+s.x,t.top+s.y,{startAngle:-180,endAngle:-90,radiusX:s.x,radiusY:s.y}),h.lineTo(t.right-a.x,t.top),a.x&&Gn(h,t.right-a.x,t.top+a.y,{startAngle:-90,endAngle:0,radiusX:a.x,radiusY:a.y}),h.lineTo(t.right,t.bottom-p.y),p.x&&Gn(h,t.right-p.x,t.bottom-p.y,{startAngle:0,endAngle:90,radiusX:p.x,radiusY:p.y}),h.lineTo(t.left+c.x,t.bottom),c.x&&Gn(h,t.left+c.x,t.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),h.close()}function Yn(t,e){var o=String(parseFloat(t));switch(e){case"decimal-leading-zero":return o.length<2&&(o="0"+o),o;case"lower-roman":return u(t).toLowerCase();case"upper-roman":return u(t).toUpperCase();case"lower-latin":case"lower-alpha":return Sn(t-1);case"upper-latin":case"upper-alpha":return Sn(t-1).toUpperCase();default:return o}}function Wn(t,e){function o(t,e,o){return o?(o=o.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(t){var e=[],o=sn;for(t="_counter_"+t;o;)wn(o,t)&&e.push(o[t]),o=Object.getPrototypeOf(o);return e.reverse()}(t).map((function(t){return Yn(t,e)})).join(o)):Yn(function(t){return sn[t="_counter_"+t]}(t)||0,e)}var n,r=gn(e,/^\s+/),i=[];return r.forEach((function(e){var r;(n=/^\s*(["'])(.*)\1\s*$/.exec(e))?i.push(n[2].replace(/\\([0-9a-f]{4})/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))}))):(n=/^\s*counter\((.*?)\)\s*$/.exec(e))?(r=gn(n[1]),i.push(o(r[0],r[1]))):(n=/^\s*counters\((.*?)\)\s*$/.exec(e))?(r=gn(n[1]),i.push(o(r[0],r[2],r[1]))):(n=/^\s*attr\((.*?)\)\s*$/.exec(e))?i.push(t.getAttribute(n[1])||""):i.push(e)})),i.join("")}function Qn(t){if(t.cssText)return t.cssText;for(var e=[],o=0;o<t.length;++o)e.push(t[o]+": "+Nn(t,t[o]));return e.join(";\n")}function Zn(t,e){if(t.tagName!=nn){var o=[];if(r(":before",t.firstChild),r(":after",null),o.length>0){var n=t.className;t.className+=" kendo-pdf-hide-pseudo-elements",Kn(t,e),t.className=n,o.forEach((function(e){t.removeChild(e)}))}else Kn(t,e)}else Kn(t,e);function r(e,n){var r=zn(t,e),i=r.content;if(Tn(r),i&&"normal"!=i&&"none"!=i&&"0px"!=r.width){var s=t.ownerDocument.createElement(nn);s.style.cssText=Qn(r),s.textContent=Wn(t,i),t.insertBefore(s,n),o.push(s)}}}function Kn(t,e){var o=zn(t),n=Rn(o,"top"),r=Rn(o,"right"),i=Rn(o,"bottom"),s=Rn(o,"left"),a=Fn(o,"top-left"),p=Fn(o,"top-right"),c=Fn(o,"bottom-left"),h=Fn(o,"bottom-right"),l=Nn(o,"direction"),f=Nn(o,"background-color");f=kn(f);var d,y,g=yn(Nn(o,"background-image")),m=gn(Nn(o,"background-repeat")),v=gn(Nn(o,"background-position")),x=gn(Nn(o,"background-origin")),w=gn(Nn(o,"background-size"));an&&"ellipsis"==(d=o.textOverflow)&&(y=t.style.textOverflow,t.style.textOverflow="clip"),en.msie&&en.version<10&&(v=gn(t.currentStyle.backgroundPosition));var b,_,C,T=In(t.getBoundingClientRect(),"border-*-width",t);!function(){var t=Nn(o,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(t);if(n){var r=n[1].split(/[ ,]+/g),i="auto"==r[0]?T.top:parseFloat(r[0])+T.top,s="auto"==r[1]?T.right:parseFloat(r[1])+T.left,a="auto"==r[2]?T.bottom:parseFloat(r[2])+T.top,p="auto"==r[3]?T.left:parseFloat(r[3])+T.left,c=new ye,h=(new ce).moveTo(p,i).lineTo(s,i).lineTo(s,a).lineTo(p,a).close();qn(c,h),e.append(c),e=c,Pn(h)}}();var k=Nn(o,"display");if("table-row"==k)for(b=[],_=0,C=t.children;_<C.length;++_)b.push(C[_].getBoundingClientRect());else 1==(b=t.getClientRects()).length&&(b=[t.getBoundingClientRect()]);for(b=function(e){if(/^td$/i.test(t.tagName)){var o=sn.table;if(o&&"collapse"==Nn(o.style,"border-collapse")){var n=Rn(o.style,"left").width,r=Rn(o.style,"top").width;if(0===n&&0===r)return e;var i=o.element.getBoundingClientRect(),s=o.element.rows[0].cells[0].getBoundingClientRect();if(s.top==i.top||s.left==i.left)return on(e).map((function(t){return{left:t.left+n,top:t.top+r,right:t.right+n,bottom:t.bottom+r,height:t.height,width:t.width}}))}}return e}(b),_=0;_<b.length;++_)E(b[_],0===_,_==b.length-1);if("A"==t.tagName&&t.href&&!/^#?$/.test(t.getAttribute("href"))&&(!sn._avoidLinks||!un(t,sn._avoidLinks))){var O=document.createRange();O.selectNodeContents(t),on(O.getClientRects()).forEach((function(o){var n=new ye;n._pdfLink={url:t.href,top:o.top,right:o.right,bottom:o.bottom,left:o.left},e.append(n)}))}return b.length>0&&"list-item"==k&&!t.getAttribute("kendo-no-bullet")&&function(){var n=Nn(o,"list-style-type");if("none"==n)return;var r=Nn(o,"list-style-position");function i(o){Bn(t,(function(){t.style.position="relative";var n=t.ownerDocument.createElement(nn);n.style.position="absolute",n.style.boxSizing="border-box","outside"==r?(n.style.width="6em",n.style.left="-6.8em",n.style.textAlign="right"):n.style.left="0px",o(n),t.insertBefore(n,t.firstChild),rr(n,e),t.removeChild(n)}))}function s(e){var o=t.parentNode.children,n=t.getAttribute("kendo-split-index");if(null!=n)return e(0|n,o.length);for(var r=0;r<o.length;++r)if(o[r]===t)return e(r,o.length)}switch(n){case"circle":case"disc":case"square":i((function(t){t.style.fontSize="60%",t.style.lineHeight="200%",t.style.paddingRight="0.5em",t.style.fontFamily="DejaVu Serif",t.innerHTML={disc:"",circle:"",square:""}[n]}));break;case"decimal":case"decimal-leading-zero":i((function(t){s((function(e){++e,"decimal-leading-zero"==n&&e<10&&(e="0"+e),t.innerHTML=e+"."}))}));break;case"lower-roman":case"upper-roman":i((function(t){s((function(e){e=u(e+1),"upper-roman"==n&&(e=e.toUpperCase()),t.innerHTML=e+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":i((function(t){s((function(e){e=Sn(e),/^upper/i.test(n)&&(e=e.toUpperCase()),t.innerHTML=e+"."}))}))}}(b[0]),function(){function n(){var o=Vn(t,T,"padding"),n=new ye;qn(n,o),e.append(n),e=n,Pn(o)}!function(t){return/^(?:textarea|select|input)$/i.test(t.tagName)}(t)?(/^(hidden|auto|scroll)/.test(Nn(o,"overflow"))||/^(hidden|auto|scroll)/.test(Nn(o,"overflow-x"))||/^(hidden|auto|scroll)/.test(Nn(o,"overflow-y")))&&n():n()}(),function(t,e){var o;if(t._kendoExportVisual)o=t._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&t.getAttribute(window.kendo.attr("role"))){var n=window.kendo.widgetInstance(window.kendo.jQuery(t));n&&(n.exportDOMVisual||n.exportVisual)&&(o=n.exportDOMVisual?n.exportDOMVisual():n.exportVisual())}if(!o)return!1;var r=new ye;r.children.push(o);var i=t.getBoundingClientRect();return r.transform(tt().translate(i.left,i.top)),e.append(r),!0}(t,e)||or(t,e),an&&"ellipsis"==d&&(t.style.textOverflow=y),e;function M(t,o,n,r,i,s,a,p){if(!(n<=0)){var c,h=new ye;Hn(h,p),e.append(h),$n(s),$n(a),c=new ce({fill:{color:t},stroke:null}),h.append(c),c.moveTo(s.x?Math.max(s.x,r):0,0).lineTo(o-(a.x?Math.max(a.x,i):0),0).lineTo(o-Math.max(a.x,i),n).lineTo(Math.max(s.x,r),n).close(),s.x&&u(r,s,[-1,0,0,1,s.x,0]),a.x&&u(i,a,[1,0,0,1,o-a.x,0])}function u(e,o,r){var i=Math.PI/2*e/(e+n),s={x:o.x-e,y:o.y-n},a=new ce({fill:{color:t},stroke:null}).moveTo(0,0);Hn(a,r),Gn(a,0,o.y,{startAngle:-90,endAngle:-Dn(i),radiusX:o.x,radiusY:o.y}),s.x>0&&s.y>0?(a.lineTo(s.x*Math.cos(i),o.y-s.y*Math.sin(i)),Gn(a,0,o.y,{startAngle:-Dn(i),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?a.lineTo(s.x,n).lineTo(0,n):a.lineTo(s.x,n).lineTo(s.x,0),h.append(a.close())}}function S(e,o,n,r,i,s,a){var p;if(n&&"none"!=n)if("url"==n.type){var c=rn[n.url];c&&c.width>0&&c.height>0&&h(e,o,c.width,c.height,(function(t,e){t.append(new fe(n.url,e))}))}else{if("linear"!=n.type)return;h(e,o,o.width,o.height,(p=n,function(t,e){var o=e.width(),n=e.height();switch(p.type){case"linear":var r=null!=p.angle?p.angle:Math.PI;switch(p.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(n,o);break;case"top right":case"right top":r=Math.atan2(n,o);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(n,o);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(n,o)}p.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var i=Math.abs(o*Math.sin(r))+Math.abs(n*Math.cos(r)),s=Math.atan(o*Math.tan(r)/n),a=Math.sin(s),c=Math.cos(s),h=Math.abs(a)+Math.abs(c),u=h/2*a,l=h/2*c;r>Math.PI/2&&r<=3*Math.PI/2&&(u=-u,l=-l);var f=[],d=0,y=p.stops.map((function(t,e){var o=t.percent;o?o=parseFloat(o)/100:t.length?o=parseFloat(t.length)/i:0===e?o=0:e==p.stops.length-1&&(o=1);var n={color:t.color.toCssRgba(),offset:o};return null!=o?(d=o,f.forEach((function(t,e){t.stop.offset=t.left+(d-t.left)*(e+1)/(f.length+1)})),f=[]):f.push({left:d,stop:n}),n})),g=[.5-u,.5+l],m=[.5+u,.5-l];t.append(ce.fromRect(e).stroke(null).fill(new je({start:g,end:m,stops:y,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function h(e,o,n,p,c){var h,u=n/p,l=o;if("content-box"==s?(l=In(l,"border-*-width",t),l=In(l,"padding-*",t)):"padding-box"==s&&(l=In(l,"border-*-width",t)),!/^\s*auto(\s+auto)?\s*$/.test(a))if("contain"==a)h=Math.min(l.width/n,l.height/p),n*=h,p*=h;else if("cover"==a)h=Math.max(l.width/n,l.height/p),n*=h,p*=h;else{var f=a.split(/\s+/g);n=/%$/.test(f[0])?l.width*parseFloat(f[0])/100:parseFloat(f[0]),p=1==f.length||"auto"==f[1]?n/u:/%$/.test(f[1])?l.height*parseFloat(f[1])/100:parseFloat(f[1])}var d=String(i);switch(d){case"bottom":d="50% 100%";break;case"top":d="50% 0";break;case"left":d="0 50%";break;case"right":d="100% 50%";break;case"center":d="50% 50%"}1==(d=d.split(/\s+/)).length&&(d[1]="50%"),/%$/.test(d[0])?d[0]=parseFloat(d[0])/100*(l.width-n):d[0]=parseFloat(d[0]),/%$/.test(d[1])?d[1]=parseFloat(d[1])/100*(l.height-p):d[1]=parseFloat(d[1]);var y=new K([l.left+d[0],l.top+d[1]],[n,p]);function g(){for(;y.origin.x>o.left;)y.origin.x-=n}function m(){for(;y.origin.y>o.top;)y.origin.y-=p}function v(){for(;y.origin.x<o.right;)c(e,y.clone()),y.origin.x+=n}if("no-repeat"==r)c(e,y);else if("repeat-x"==r)g(),v();else if("repeat-y"==r)for(m();y.origin.y<o.bottom;)c(e,y.clone()),y.origin.y+=p;else if("repeat"==r){g(),m();for(var x=y.origin.clone();y.origin.y<o.bottom;)y.origin.x=x.x,v(),y.origin.y+=p}}}function E(o,u,d){if(0!==o.width&&0!==o.height){!function(t){var o=new ye;if(qn(o,Xn(t,a,p,h,c)),e.append(o),f){var n=new ce({fill:{color:f.toCssRgba()},stroke:null});n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),o.append(n)}for(var r=g.length;--r>=0;)S(o,t,g[r],m[r%m.length],v[r%v.length],x[r%x.length],w[r%w.length])}(o);var y=s.width>0&&(u&&"ltr"==l||d&&"rtl"==l),b=r.width>0&&(d&&"ltr"==l||u&&"rtl"==l);if(0!==n.width||0!==s.width||0!==r.width||0!==i.width){if(n.color==r.color&&n.color==i.color&&n.color==s.color&&n.width==r.width&&n.width==i.width&&n.width==s.width&&y&&b){o=In(o,n.width/2);var _=Vn(t,o,n.width/2);return _.options.stroke={color:n.color,width:n.width},void e.append(_)}if(0===a.x&&0===p.x&&0===h.x&&0===c.x&&n.width<2&&s.width<2&&r.width<2&&i.width<2)return n.width>0&&e.append(new ce({stroke:{width:n.width,color:n.color}}).moveTo(o.left,o.top+n.width/2).lineTo(o.right,o.top+n.width/2)),i.width>0&&e.append(new ce({stroke:{width:i.width,color:i.color}}).moveTo(o.left,o.bottom-i.width/2).lineTo(o.right,o.bottom-i.width/2)),y&&e.append(new ce({stroke:{width:s.width,color:s.color}}).moveTo(o.left+s.width/2,o.top).lineTo(o.left+s.width/2,o.bottom)),void(b&&e.append(new ce({stroke:{width:r.width,color:r.color}}).moveTo(o.right-r.width/2,o.top).lineTo(o.right-r.width/2,o.bottom)));var C=Un(o,a,p,h,c),T=C.tl,k=C.tr,O=C.br,E=C.bl;M(n.color,o.width,n.width,s.width,r.width,T,k,[1,0,0,1,o.left,o.top]),M(i.color,o.width,i.width,r.width,s.width,O,E,[-1,0,0,-1,o.right,o.bottom]),M(s.color,o.height,s.width,i.width,n.width,A(E),A(T),[0,-1,1,0,o.left,o.bottom]),M(r.color,o.height,r.width,n.width,i.width,A(k),A(O),[0,1,-1,0,o.right,o.top])}}function A(t){return{x:t.y,y:t.x}}}}function Jn(t,e,o){var n=Ln(t),r=new K([n.left,n.top],[n.width,n.height]),i=new fe(e,r);qn(i,Vn(t,n,"content")),o.append(i)}function tr(t,e){var o=zn(t),n=zn(e),r=parseFloat(Nn(o,"z-index")),i=parseFloat(Nn(n,"z-index")),s=Nn(o,"position"),a=Nn(n,"position");return isNaN(r)&&isNaN(i)?/static|absolute/.test(s)&&/static|absolute/.test(a)?0:"static"==s?-1:"static"==a?1:0:isNaN(r)?0===i?0:i>0?-1:1:isNaN(i)?0===r?0:r>0?1:-1:parseFloat(r)-parseFloat(i)}function er(t,e){var o=t.tagName.toLowerCase();if("input"==o&&("checkbox"==t.type||"radio"==t.type))return function(t,e){var o=Nn(zn(t),"color"),n=t.getBoundingClientRect();"checkbox"==t.type?(e.append(ce.fromRect(new K([n.left+1,n.top+1],[n.width-2,n.height-2])).stroke(o,1)),t.checked&&e.append((new ce).stroke(o,1.2).moveTo(n.left+.22*n.width,n.top+.55*n.height).lineTo(n.left+.45*n.width,n.top+.75*n.height).lineTo(n.left+.78*n.width,n.top+.22*n.width))):(e.append(new ht(new rt([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-2,n.height-2)/2)).stroke(o,1)),t.checked&&e.append(new ht(new rt([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-8,n.height-8)/2)).fill(o).stroke(null)))}(t,e);var n,r=t.parentNode,i=t.ownerDocument,s=i.createElement(nn);if(s.style.cssText=Qn(zn(t)),"input"==o&&(s.style.whiteSpace="pre"),"select"!=o&&"textarea"!=o||(s.style.overflow="auto"),"select"==o)if(t.multiple)for(var a=0;a<t.options.length;++a)(n=i.createElement(nn)).style.cssText=Qn(zn(t.options[a])),n.style.display="block",n.textContent=t.options[a].textContent,s.appendChild(n);else n=function(t){return t.selectedOptions&&t.selectedOptions.length>0?t.selectedOptions[0]:t.options[t.selectedIndex]}(t),n&&(s.textContent=n.textContent);else s.textContent=t.value;r.insertBefore(s,t),s.scrollLeft=t.scrollLeft,s.scrollTop=t.scrollTop,t.style.display="none",or(s,e),t.style.display="",r.removeChild(s)}function or(t,e){switch(sn._stackingContext.element===t&&(sn._stackingContext.group=e),t.tagName.toLowerCase()){case"img":Jn(t,t.src,e);break;case"svg":var o=function(t){var e=new window.XMLSerializer,o=e.serializeToString(t);if(en.mozilla&&(!t.getAttribute("width")||!t.getAttribute("height"))){var n=(new window.DOMParser).parseFromString(o,"image/svg+xml").documentElement,r=Ln(t);n.setAttribute("width",r.width),n.setAttribute("height",r.height),o=e.serializeToString(n)}return o}(t);Jn(t,"data:image/svg+xml;base64,"+b(o),e);break;case"canvas":try{Jn(t,t.toDataURL("image/png"),e)}catch(t){}break;case"textarea":case"input":case"select":er(t,e);break;default:for(var n=[],r=[],i=[],s=t.firstChild;s;s=s.nextSibling)switch(s.nodeType){case 3:/\S/.test(s.data)&&nr(t,s,e);break;case 1:var a=zn(s),p=Nn(a,"float");"static"!=Nn(a,"position")?i.push(s):"none"!=p?r.push(s):n.push(s)}M(n,tr).forEach((function(t){rr(t,e)})),M(r,tr).forEach((function(t){rr(t,e)})),M(i,tr).forEach((function(t){rr(t,e)}))}}function nr(t,e,o){if(null!=(n=sn._clipbox)&&!(n?0===n.width()||0===n.height():void 0)){var n,r=zn(t);if(!(parseFloat(Nn(r,"text-indent"))<-500)){var i=e.data,s=0,a=i.search(/\S\s*$/)+1;if(a){var p=Nn(r,"font-size"),c=Nn(r,"line-height"),h=[Nn(r,"font-style"),Nn(r,"font-variant"),Nn(r,"font-weight"),p,Nn(r,"font-family")].join(" ");if(p=parseFloat(p),c=parseFloat(c),0!==p){var u=Nn(r,"color"),l=t.ownerDocument.createRange(),f="justify"==Nn(r,"text-align"),d=Nn(r,"column-count",1),y=Nn(r,"white-space"),g=Nn(r,"text-transform"),m=t.getBoundingClientRect().width/p*5;0===m&&(m=500);for(var v=null,x=sn.underline,w=sn["line-through"],b=sn.overline,_=x||w||b;!T(););return void(_&&(l.selectNode(e),on(l.getClientRects()).forEach((function(t){function e(e,n){if(e){var r=p/12,i=new ce({stroke:{width:r,color:e}});n-=r,i.moveTo(t.left,n).lineTo(t.right,n),o.append(i)}}e(x,t.bottom),e(w,t.bottom-t.height/2.7),e(b,t.top)}))))}}}}function C(t){if(an||en.chrome||en.safari){for(var e=t.getClientRects(),o={top:1/0,right:-1/0,bottom:-1/0,left:1/0},n=!1,r=0;r<e.length;++r){var i=e[r];i.width<=1||i.bottom===v||(o.left=Math.min(i.left,o.left),o.top=Math.min(i.top,o.top),o.right=Math.max(i.right,o.right),o.bottom=Math.max(i.bottom,o.bottom),n=!0)}return n?(o.width=o.right-o.left,o.height=o.bottom-o.top,o):t.getBoundingClientRect()}return t.getBoundingClientRect()}function T(){var t,n=s,r=i.substr(s).search(/\S/);if(s+=r,r<0||s>=a)return!0;l.setStart(e,s),l.setEnd(e,s+1),t=C(l);var p=!1;if((f||d>1)&&(r=i.substr(s).search(/\s/))>=0){l.setEnd(e,s+r);var x=C(l);x.bottom==t.bottom&&(t=x,p=!0,s+=r)}if(!p){if(r=function o(n,r,i){l.setEnd(e,r);var s=C(l);return s.bottom!=t.bottom&&n<r?o(n,n+r>>1,r):s.right!=t.right?(t=s,r<i?o(r,r+i>>1,i):r):r}(s,Math.min(a,s+m),a),r==s)return!0;if(s=r,0===(r=l.toString().search(/\s+$/)))return!1;r>0&&(l.setEnd(e,l.startOffset+r),t=C(l))}an&&(t=l.getClientRects()[0]);var w=l.toString();if(/^(?:pre|pre-wrap)$/i.test(y)){if(/\t/.test(w)){var b=0;for(r=n;r<l.startOffset;++r){var _=i.charCodeAt(r);9==_?b+=8-b%8:10==_||13==_?b=0:b++}for(;(r=w.search("\t"))>=0;){var T="        ".substr(0,8-(b+r)%8);w=w.substr(0,r)+T+w.substr(r+1)}}}else w=w.replace(/\s+/g," ");p||(v=t.bottom),function(t,e){if(an&&!isNaN(c)){var n=vn(h),r=(e.top+e.bottom-n)/2;e={top:r,right:e.right,bottom:r+n,left:e.left,height:n,width:e.right-e.left}}switch(g){case"uppercase":t=t.toUpperCase();break;case"lowercase":t=t.toLowerCase();break;case"capitalize":t=t.replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()}))}var i=new pn(t,new K([e.left,e.top],[e.width,e.height]),{font:h,fill:{color:u}});o.append(i)}(w,t)}}function rr(t,e){var o=zn(t);if(Tn(o),!/^(style|script|link|meta|iframe|col|colgroup)$/i.test(t.tagName)&&null!=sn._clipbox){var n=parseFloat(Nn(o,"opacity")),r=Nn(o,"visibility"),i=Nn(o,"display");if(0!==n&&"hidden"!=r&&"none"!=i){var s,a=function(t){var e=Nn(t,"transform");if("none"==e)return null;var o=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(o){var n=Nn(t,"transform-origin");return{matrix:o=o[1].split(/\s*,\s*/g).map(parseFloat),origin:n=n.split(/\s+/g).map(parseFloat)}}}(o),p=Nn(o,"z-index");(a||n<1)&&"auto"==p&&(p=0),s=function(t,e,o){var n;"auto"!=o?(n=sn._stackingContext.group,o=parseFloat(o)):(n=e,o=0);for(var r=n.children,i=0;i<r.length&&!(null!=r[i]._dom_zIndex&&r[i]._dom_zIndex>o);++i);var s=new ye;if(n.insert(i,s),s._dom_zIndex=o,n!==e&&sn._clipbox){var a=sn._matrix.invert(),p=sn._clipbox.transformCopy(a);qn(s,ce.fromRect(p))}return s}(0,e,p),n<1&&s.opacity(n*s.opacity()),En(t,o,s),a?Bn(t,(function(){jn(t.style,"transform","none","important"),jn(t.style,"transition","none","important"),"static"==Nn(o,"position")&&jn(t.style,"position","relative","important");var e=t.getBoundingClientRect(),n=e.left+a.origin[0],r=e.top+a.origin[1],i=[1,0,0,1,-n,-r];i=ir(i,a.matrix),i=ir(i,[1,0,0,1,n,r]),i=Hn(s,i),sn._matrix=sn._matrix.multiplyCopy(i),Zn(t,s)})):Zn(t,s),An()}}}function ir(t,e){var o=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],p=e[0],c=e[1],h=e[2],u=e[3];return[o*p+n*h,o*c+n*u,r*p+i*h,r*c+i*u,s*p+a*h+e[4],s*c+a*u+e[5]]}var sr={svg:Jo,canvas:tn,util:G,HasObservers:p,PathParser:He,parsePath:ie,BaseNode:qe,OptionsStore:U,Surface:Zo,SurfaceFactory:Qo,exportImage:function(e,o){var n={width:"800px",height:"600px",cors:"Anonymous"},r=e,i=e.clippedBBox();if(i){var s=i.getOrigin();(r=new ye).transform(tt().translate(-s.x,-s.y)),r.children.push(e);var a=i.getSize();n.width=a.width+"px",n.height=a.height+"px"}var p=t.extend(n,o),c=document.createElement("div"),h=c.style;h.display="none",h.width=p.width,h.height=p.height,document.body.appendChild(c);var u=new Yo(c,p);u.suspendTracking(),u.draw(r);var l=u.image(),f=function(){u.destroy(),document.body.removeChild(c)};return l.then(f,f),l},exportSVG:function(t,e){var o=Ko(t);return e&&e.raw||(o="data:image/svg+xml;base64,"+b(o)),s().resolve(o)},QuadNode:jo,ShapesQuadTree:Bo,Element:et,Circle:ht,Arc:ue,Path:ce,MultiPath:he,Text:le,Image:fe,Group:ye,Layout:_e,Rect:Ce,align:function(t,e,o){Te(t,e,o,"x","width")},vAlign:function(t,e,o){Te(t,e,o,"y","height")},stack:function(t){ke(Oe(t),"x","y","width")},vStack:function(t){ke(Oe(t),"y","x","height")},wrap:function(t,e){return Me(t,e,"x","y","width")},vWrap:function(t,e){return Me(t,e,"y","x","height")},fit:function(t,e){var o=t.clippedBBox();if(o){var n=o.size,r=e.size;if(r.width<n.width||r.height<n.height){var i=Math.min(r.width/n.width,r.height/n.height),s=t.transform()||tt();s.scale(i,i),t.transform(s)}}},LinearGradient:je,RadialGradient:Re,GradientStop:ze,Gradient:Ne,Animation:De,AnimationFactory:Ie,drawDOM:function(t,e){e||(e={});var o=s();if(!t)return o.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");kendo.pdf.defineFont(xn(t.ownerDocument));var n,r="number"==typeof(n=e.scale||1)?{x:n,y:n}:Array.isArray(n)?{x:n[0],y:n[1]}:{x:n.x,y:n.y};function i(t){var o,n,i=new ye,s=t.getBoundingClientRect();return Hn(i,[r.x,0,0,r.y,-s.left*r.x,-s.top*r.y]),sn._clipbox=!1,sn._matrix=I.unit(),sn._stackingContext={element:t,group:i},!0===e.avoidLinks?sn._avoidLinks="a":sn._avoidLinks=e.avoidLinks,n="k-pdf-export",(o=t).classList?o.classList.add(n):o.className+=" "+n,rr(t,i),function(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/\s+/).reduce((function(t,o){return o!=e&&t.push(o),t}),[]).join(" ")}(t,"k-pdf-export"),i}return Mn([t],(function(){var n=e&&e.forcePageBreak,s=e&&e.paperSize&&"auto"!=e.paperSize,a=kendo.pdf.getPaperOptions((function(t,o){return"paperSize"==t?s?e[t]:"A4":t in e?e[t]:o})),p=s&&a.paperSize[0],c=s&&a.paperSize[1],h=e.margin&&a.margin,u=Boolean(h);if(n||c){h||(h={left:0,top:0,right:0,bottom:0}),p&&(p/=r.x),c&&(c/=r.y),h.left/=r.x,h.right/=r.x,h.top/=r.y,h.bottom/=r.y;var l=new ye({pdf:{multiPage:!0,paperSize:s?a.paperSize:"auto",_ignoreMargin:u}});!function(t,e,o,n,r,i,s){var a=function(t){if(null!=t)return"string"==typeof t&&(t=kendo.template(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(e){var o=t(e);if(o&&"string"==typeof o){var n=document.createElement("div");n.innerHTML=o,o=n.firstElementChild}return o}:function(){return t.cloneNode(!0)}}(s.template),p=e.ownerDocument,c=[],h=s._destructive?e:fn(e),u=p.createElement("KENDO-PDF-DOCUMENT"),l=0;on(h.querySelectorAll("tfoot")).forEach((function(t){t.parentNode.appendChild(t)})),on(h.querySelectorAll("ol")).forEach((function(t){on(t.children).forEach((function(t,e){t.setAttribute("kendo-split-index",e)}))})),cn(u,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),n&&(cn(u,{width:n+"px",paddingLeft:i.left+"px",paddingRight:i.right+"px"}),cn(h,{overflow:"hidden"}));e.parentNode.insertBefore(u,e),u.appendChild(h),s.beforePageBreak?On([u],(function(){s.beforePageBreak(u,f)})):On([u],f);function f(){("-"!=o||r)&&y(h);var e=v();h.parentNode.insertBefore(e,h),e.appendChild(h),a&&c.forEach((function(t,e){var o=a({element:t,pageNum:e+1,totalPages:c.length});o&&t.appendChild(o)})),Mn(c,t.bind(null,{pages:c,container:u}))}function d(t){if(s.keepTogether&&un(t,s.keepTogether)&&t.offsetHeight<=r-l)return!0;var e=t.tagName;return!(/^h[1-6]$/i.test(e)&&t.offsetHeight>=r-l)&&(t.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName))}function y(t){if("TABLE"==t.tagName&&cn(t,{tableLayout:"fixed"}),!d(t)){var e=zn(t),n=parseFloat(Nn(e,"padding-bottom")),i=parseFloat(Nn(e,"border-bottom-width")),s=l;l+=n+i;for(var a=!0,p=t.firstChild;p;p=p.nextSibling)if(1==p.nodeType){if(a=!1,un(p,o)){m(p);continue}if(!r){y(p);continue}if(!/^(?:static|relative)$/.test(Nn(zn(p),"position")))continue;var c=x(p);1==c||c&&d(p)?m(p):y(p)}else 3==p.nodeType&&r&&(w(p,a),a=!1);l=s}}function g(t){var e=t.parentNode,o=e.firstChild;if(t===o)return!0;if(t===e.children[0]){if(7==o.nodeType||8==o.nodeType)return!0;if(3==o.nodeType)return!/\S/.test(o.data)}return!1}function m(t){if(1==t.nodeType&&t!==h&&g(t))return m(t.parentNode);var e,o,n,r,i;o=(e=ln(t,"table"))&&e.querySelector("colgroup"),s.repeatHeaders&&(n=e&&e.querySelector("thead"),(r=ln(t,".k-grid.k-widget"))&&r.querySelector(".k-auto-scrollable")&&(i=r.querySelector(".k-grid-header")));var a=v(),c=p.createRange();c.setStartBefore(h),c.setEndBefore(t),a.appendChild(c.extractContents()),h.parentNode.insertBefore(a,h),b(t.parentNode),e&&(e=ln(t,"table"),s.repeatHeaders&&n&&e.insertBefore(n.cloneNode(!0),e.firstChild),o&&e.insertBefore(o.cloneNode(!0),e.firstChild)),s.repeatHeaders&&i&&(r=ln(t,".k-grid.k-widget")).insertBefore(i.cloneNode(!0),r.firstChild)}function v(){var t=p.createElement("KENDO-PDF-PAGE");return cn(t,{display:"block",boxSizing:"content-box",width:n?n+"px":"auto",padding:i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",position:"relative",height:r?r+"px":"auto",overflow:r||n?"hidden":"visible",clear:"both"}),s&&s.pageClassName&&(t.className=s.pageClassName),c.push(t),t}function x(t){var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return 0;var o=h.getBoundingClientRect().top,n=r-l;return e.height>n?3:e.top-o>n?1:e.bottom-o>n?2:0}function w(t,e){if(/\S/.test(t.data)){var o=t.data.length,n=p.createRange();n.selectNodeContents(t);var r=x(n);if(r){var i=t;if(1==r)m(e?t.parentNode:t);else if(function e(o,r,i){return n.setEnd(t,r),o==r||r==i?r:x(n)?e(o,o+r>>1,r):e(r,r+i>>1,i)}(0,o>>1,o),!/\S/.test(n.toString())&&e)m(t.parentNode);else{i=t.splitText(n.endOffset);var s=v();n.setStartBefore(h),s.appendChild(n.extractContents()),h.parentNode.insertBefore(s,h),b(i.parentNode)}w(i)}}}function b(t){var e=ln(t,"li");e&&(e.setAttribute("kendo-no-bullet","1"),b(e.parentNode))}}((function(t){if(e.progress){var n=!1,r=0;!function s(){if(r<t.pages.length){var a=i(t.pages[r]);l.append(a),e.progress({page:a,pageNum:++r,totalPages:t.pages.length,cancel:function(){n=!0}}),n?t.container.parentNode.removeChild(t.container):setTimeout(s)}else t.container.parentNode.removeChild(t.container),o.resolve(l)}()}else t.pages.forEach((function(t){l.append(i(t))})),t.container.parentNode.removeChild(t.container),o.resolve(l)}),t,n,p?p-h.left-h.right:null,c?c-h.top-h.bottom:null,h,e)}else o.resolve(i(t))})),o},drawText:function(t){var e=new ye;return sn._clipbox=!1,sn._matrix=I.unit(),sn._stackingContext={element:t,group:e},En(t,zn(t),e),3==t.firstChild.nodeType?nr(t,t.firstChild,e):Kn(t,e),An(),e},getFontFaces:xn};kendo.deepExtend(kendo,{drawing:sr,geometry:Lt}),kendo.drawing.Segment=kendo.geometry.Segment,kendo.dataviz.drawing=kendo.drawing,kendo.dataviz.geometry=kendo.geometry,kendo.drawing.util.measureText=kendo.util.measureText,kendo.drawing.util.objectKey=kendo.util.objectKey,kendo.drawing.Color=kendo.Color,kendo.util.encodeBase64=kendo.drawing.util.encodeBase64}(window.kendo.jQuery),function(t){var e=".kendo",o=window.kendo,n=o.deepExtend,r=o.drawing.util,i=r.defined,s=r.limitValue,a=r.eventCoordinates,p=o._outerWidth,c=o._outerHeight,h=o.Class.extend({init:function(e,o){this.element=t('<div class="k-tooltip"><div class="k-tooltip-content"></div></div>'),this.content=this.element.children(".k-tooltip-content"),o=o||{},this.options=n({},this.options,this._tooltipOptions(o)),this.popupOptions={appendTo:o.appendTo,animation:o.animation,copyAnchorStyles:!1,collision:"fit fit"},this._openPopupHandler=this._openPopup.bind(this),this.surface=e,this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:!0,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=this._showEvent.bind(this),this._surfaceLeaveHandler=this._surfaceLeave.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._mousemoveHandler=this._mousemove.bind(this),this.surface.bind("click",this._showHandler),this.surface.bind("mouseenter",this._showHandler),this.surface.bind("mouseleave",this._mouseleaveHandler),this.surface.bind("mousemove",this._mousemoveHandler),this.surface.element.on("mouseleave"+e,this._surfaceLeaveHandler),this.element.on("click"+e,".k-tooltip-button",this._hideClick.bind(this)),this.element.on("mouseleave"+e,this._tooltipLeave.bind(this))},getPopup:function(){return this.popup||(this.popup=new o.ui.Popup(this.element,this.popupOptions)),this.popup},destroy:function(){var t=this.popup;this.surface.unbind("click",this._showHandler),this.surface.unbind("mouseenter",this._showHandler),this.surface.unbind("mouseleave",this._mouseleaveHandler),this.surface.unbind("mousemove",this._mousemoveHandler),this.surface.element.off("mouseleave"+e,this._surfaceLeaveHandler),this.element.off("click"+e),this.element.off("mouseleave"+e),t&&(t.destroy(),delete this.popup),delete this.popupOptions,clearTimeout(this._timeout),delete this.element,delete this.content,delete this.surface},_tooltipOptions:function(t){return{position:(t=t||{}).position,showOn:t.showOn,offset:t.offset,autoHide:t.autoHide,width:t.width,height:t.height,content:t.content,shared:t.shared,hideDelay:t.hideDelay,showAfter:t.showAfter}},_tooltipShape:function(t){for(;t&&!t.options.tooltip;)t=t.parent;return t},_updateContent:function(t,e,n){var r=n.content;if(o.isFunction(r)&&(r=r({element:e,target:t})),r)return this.content.html(r),!0},_position:function(t,e,o,n){var r=e.position,i=e.offset||0,p=this.surface,c=p._instance._elementOffset(),h=p.getSize(),u=p._instance._offset,l=t.bbox(),f=o.width,d=o.height,y=0,g=0;if(l.origin.translate(c.left,c.top),u&&l.origin.translate(-u.x,-u.y),"cursor"==r&&n){var m=a(n);y=m.x-f/2,g=m.y-d-i}else"left"==r?(y=l.origin.x-f-i,g=l.center().y-d/2):"right"==r?(y=l.bottomRight().x+i,g=l.center().y-d/2):"bottom"==r?(y=l.center().x-f/2,g=l.bottomRight().y+i):(y=l.center().x-f/2,g=l.origin.y-d-i);return{left:s(y,c.left,c.left+h.width),top:s(g,c.top,c.top+h.height)}},show:function(t,e){this._show(t,t,n({},this.options,this._tooltipOptions(t.options.tooltip),e))},hide:function(){var t=this.popup,e=this._current;delete this._current,clearTimeout(this._showTimeout),t&&t.visible()&&e&&!this.surface.trigger("tooltipClose",{element:e.shape,target:e.target,popup:t})&&t.close()},_hideClick:function(t){t.preventDefault(),this.hide()},_show:function(t,e,o,n,r){var i=this._current;if(clearTimeout(this._timeout),!i||!(i.shape===e&&o.shared||i.target===t)){clearTimeout(this._showTimeout);var s=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:e,target:t,popup:s})&&this._updateContent(t,e,o)){this._autoHide(o);var a=this._measure(o);s.visible()&&s.close(!0),this._current={options:o,elementSize:a,shape:e,target:t,position:this._position(o.shared?e:t,o,a,n)},r?this._showTimeout=setTimeout(this._openPopupHandler,o.showAfter||0):this._openPopup()}}},_openPopup:function(){var t=this._current.position;this.getPopup().open(t.left,t.top)},_autoHide:function(e){e.autoHide&&this._closeButton&&(this.element.removeClass("k-tooltip-closable"),this._closeButton.remove(),delete this._closeButton),e.autoHide||this._closeButton||(this.element.addClass("k-tooltip-closable"),this._closeButton=t('<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>').appendTo(this.element))},_showEvent:function(t){var e=this._tooltipShape(t.element);if(e){var o=n({},this.options,this._tooltipOptions(e.options.tooltip));o&&o.showOn==t.type&&this._show(t.element,e,o,t.originalEvent,!0)}},_measure:function(t){var e,o,n=this.getPopup();this.element.css({width:"auto",height:"auto"});var r=n.visible();return r||n.wrapper.show(),this.element.css({width:i(t.width)?t.width:"auto",height:i(t.height)?t.height:"auto"}),e=p(this.element),o=c(this.element),r||n.wrapper.hide(),{width:e,height:o}},_mouseleave:function(t){if(this.popup&&!this._popupRelatedTarget(t.originalEvent)){var e=this,o=e._current;o&&o.options.autoHide&&(e._timeout=setTimeout((function(){clearTimeout(e._showTimeout),e.hide()}),o.options.hideDelay||0))}},_mousemove:function(t){var e=this._current;if(e&&t.element){var o=e.options;if("cursor"==o.position){var n=this._position(t.element,o,e.elementSize,t.originalEvent);e.position=n,this.getPopup().wrapper.css({left:n.left,top:n.top})}}},_surfaceLeave:function(t){this.popup&&!this._popupRelatedTarget(t)&&(clearTimeout(this._showTimeout),this.hide())},_popupRelatedTarget:function(e){return e.relatedTarget&&t(e.relatedTarget).closest(this.popup.wrapper).length},_tooltipLeave:function(){var t=this,e=t._current;e&&e.options.autoHide&&(t._timeout=setTimeout((function(){t.hide()}),e.options.hideDelay||0))}});o.drawing.SurfaceTooltip=h}(window.kendo.jQuery),function(t){var e=window.kendo,o=e.drawing,n=o.Surface,r=e.ui.Widget,i=e.deepExtend;e.support.svg=n.support.svg,e.support.canvas=n.support.canvas;var s=r.extend({init:function(t,e){r.fn.init.call(this,t,{}),this.options=i({},this.options,e),this._instance=n.create(this.element[0],e),this._instance.translate&&(this.translate=a),this._triggerInstanceHandler=this._triggerInstanceEvent.bind(this),this._bindHandler("click"),this._bindHandler("mouseenter"),this._bindHandler("mouseleave"),this._bindHandler("mousemove"),this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(t){this.trigger(t.type,t)},_bindHandler:function(t){this._instance.bind(t,this._triggerInstanceHandler)},draw:function(t){this._instance.draw(t)},clear:function(){this._instance&&this._instance.clear(),this.hideTooltip()},destroy:function(){this._instance&&(this._instance.destroy(),delete this._instance),this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),r.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(t){return this._instance.eventTarget(t)},showTooltip:function(t,e){this._tooltip&&this._tooltip.show(t,e)},hideTooltip:function(){this._tooltip&&this._tooltip.hide()},suspendTracking:function(){this._instance.suspendTracking(),this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(t){this.element.css({width:t.width,height:t.height}),this._size=t,this._instance.currentSize(t),this._resize()},_resize:function(){this._instance.currentSize(this._size),this._instance._resize()},_enableTracking:function(){e.ui.Popup&&(this._tooltip=new o.SurfaceTooltip(this,this.options.tooltip||{}))}});function a(t){this._instance.translate(t)}e.ui.plugin(s),s.create=function(t,e){return new s(t,e)},e.drawing.Surface=s}(window.kendo.jQuery),function(t){var e=window.kendo.drawing,o=e.drawDOM;e.drawDOM=function(e,n){return o(t(e)[0],n)},e.drawDOM.drawText=e.drawText,e.drawDOM.getFontFaces=e.getFontFaces}(window.kendo.jQuery);var __meta__={id:"drawing",name:"Drawing API",category:"framework",description:"The Kendo UI low-level drawing API",depends:["core","color","popup"]};
//# sourceMappingURL=kendo.drawing.js.map
