/**
 * Kendo UI v2023.1.117 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.popup.js";import"./kendo.filtermenu.js";import"./kendo.menu.js";import"./kendo.expansionpanel.js";var __meta__={id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu","expansionpanel"],advanced:!0};!function(e,n){var s=window.kendo,t=s.htmlEncode,i=s.ui,l=e.extend,a=e.grep,o=e.map,r=e.inArray,c=s.data.Comparer,u="k-selected",d="asc",p="desc",m="change",k="init",f="open",h="select",g="stick",b="unstick",C="kendoPopup",v="kendoMenu",_="kendoExpansionPanel",w=".kendoColumnMenu",$=i.Widget;function M(e){return s.trim(e).replace(/&nbsp;/gi,"")}function y(e){return this.columns.indexOf(e.title)>=0||this.columns.indexOf(e.field)>=0}function x(e){for(var n=[],s=0;s<e.length;s++)e[s].columns?n=n.concat(x(e[s].columns)):n.push(e[s]);return n}var S=$.extend({init:function(n,t){var i,l=this;(t=t||{}).componentType=t.componentType||"classic",$.fn.init.call(l,n,t),n=l.element,t=l.options,l.owner=t.owner,l.dataSource=t.dataSource,l.field=n.attr(s.attr("field")),l.title=n.attr(s.attr("title")),(i=e(n.closest("[scope='col']"))).length?l.appendTo=i.find(t.appendTo):l.appendTo=e(t.appendTo),l.link=l._createLink(),l.wrapper=e('<div class="k-column-menu"/>'),l._refreshHandler=l.refresh.bind(l),l.dataSource.bind(m,l._refreshHandler)},_init:function(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e.owner._muteAngularRebind((function(){e._angularItems("compile")})),e._sort(),e._columns(),e._filter(),e._lockColumns(),e._stickyColumns(),e.trigger(k,{field:e.field,container:e.wrapper})},events:[k,f,"sort","filtering",g,b],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",column:"Column",columns:"Columns",columnVisibility:"Column Visibility",clear:"Clear",cancel:"Cancel",done:"Done",settings:"Edit Column Settings",lock:"Lock Column",unlock:"Unlock Column",stick:"Stick Column",unstick:"Unstick Column",setColumnPosition:"Set Column Position",apply:"Apply",reset:"Reset",buttonTitle:"{0} edit column settings"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"},encodeTitles:!1,componentType:"classic",appendTo:null},_createMenu:function(){var e,n,t=this,i=t.options,l=t._ownerColumns();t._hasGroups()&&(l=t._groupColumns(l),(e=t._flattenMenuCols(l)).length!==t.owner.columns.length&&t._syncMenuCols(e,t.owner.columns)),n=t._isModernComponentType()?s.template(L):s.template(I),t.wrapper.html(n({uid:s.guid(),ns:s.ns,messages:i.messages,sortable:i.sortable,filterable:i.filterable,columns:l,showColumns:i.columns,hasLockableColumns:i.hasLockableColumns,hasStickableColumns:i.hasStickableColumns,encodeTitles:i.encodeTitles,omitWrapAttribute:s.attr("omit-wrap")})),t.popup=t.wrapper[C]({anchor:t.link,copyAnchorStyles:!1,open:t._open.bind(t),activate:t._activate.bind(t),deactivate:t._deactivate.bind(t),close:function(e){t.menu&&(t.menu._closing=e.sender.element),t.options.closeCallback&&t.options.closeCallback(t.element)}}).data(C),t._isModernComponentType()?(t.popup.element.addClass("k-grid-columnmenu-popup"),t._createExpanders()):t.menu=t.wrapper.children()[v]({orientation:"vertical",closeOnClick:!1,open:function(){t._updateMenuItems()}}).data(v)},_createLink:function(){var e=this,n=e.element,t=e.appendTo.length?n.find(e.appendTo):n,i=n.find(".k-header-column-menu"),l=s.format(e.options.messages.buttonTitle,e.title||e.field);return i[0]||(n.addClass("k-filterable"),i=t.append('<a class="k-header-column-menu" href="#" aria-hidden="true" title="'+l+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")),i.attr("tabindex",-1).on("click"+w,e._click.bind(e)),i},_createExpanders:function(){var n=this,s=n.options,t={expanded:!1,headerClass:"k-columnmenu-item",useBareTemplate:!0};n.wrapper.find(".k-columns-item")[_](e.extend(!0,{},t,{title:'<span class="k-icon k-i-columns"></span><span>'+s.messages.columns+"</span>"})),n.wrapper.find(".k-column-menu-filter")[_](e.extend(!0,{},t,{title:'<span class="k-icon k-i-filter"></span><span>'+s.messages.filter+"</span>"})),n.wrapper.find(".k-column-menu-position")[_](e.extend(!0,{},t,{title:'<span class="k-icon k-i-set-column-position"></span><span>'+s.messages.setColumnPosition+"</span>"}))},_syncMenuCols:function(e,n){for(var s,t=n.length,i=e.map((function(e){return e.field})),l=0;l<t;l++)s=n[l],i.indexOf(s.field)<0&&(s.menu=!1)},_flattenMenuCols:function(e){for(var n=[],s=e.length,t=0;t<s;t++)e[t].columns?n=n.concat(this._flattenMenuCols(e[t].columns)):e[t].groupHeader||n.push(e[t]);return n},_groupColumns:function(e,n){var s,t,i,l,a,o=[],r=this.options.columns.groups,c=r.length;for(s=0;s<c;s++)t=r[s],i=y.bind(t),l={title:t.title,groupHeader:!0},a=e.filter(i),o.push(l),n?l.columns=a:o=o.concat(a);return o},_hasGroups:function(){return this.options.columns&&this.options.columns.groups&&this.options.columns.groups.length},_isModernComponentType:function(){return"modern"===this.options.componentType&&!this._isMobile},_deactivate:function(){this.menu&&(this.menu._closing=!1)},_createMobileMenu:function(){var e,n,t=this,i=t.options,l=t._ownerColumns();t._hasGroups()&&(e=t._groupColumns(l,!0),(n=t._flattenMenuCols(e)).length!==t.owner.columns.length&&t._syncMenuCols(n,t.owner.columns));var a=s.template(D)({ns:s.ns,field:t.field,title:t.title||t.field,messages:i.messages,sortable:i.sortable,filterable:i.filterable,columns:l,showColumns:i.columns,hasLockableColumns:i.hasLockableColumns,hasStickableColumns:i.hasStickableColumns,hasGroups:t._hasGroups(),groups:e});t.view=t.pane.append(a),t.view.state={columns:{}},t.wrapper=t.view.element.find(".k-column-menu"),t.menu=new E(t.wrapper.children(),{pane:t.pane,columnMenu:t}),t.menu.element.on("transitionend"+w,(function(e){e.stopPropagation()}));var o=t.view.wrapper&&t.view.wrapper[0]?t.view.wrapper:t.view.element;o.on("click",".k-header-done",(function(e){e.preventDefault(),t.menu._applyChanges(),t.menu._cancelChanges(!1),t.close()})),o.on("click",".k-header-cancel",(function(e){e.preventDefault(),t.menu._cancelChanges(!0),t.close()})),t.view.bind("showStart",(function(){var e=t.view||{columns:{}};t.options.hasLockableColumns&&t._updateLockedColumns(),t.options.hasStickableColumns&&t._updateStickyColumns(),e.element.find(".k-sort-asc.k-selected").length?e.state.initialSort="asc":e.element.find(".k-sort-desc.k-selected").length&&(e.state.initialSort="desc")}))},_angularItems:function(n){var t=this;t.angular(n,(function(){return{elements:t.wrapper.find(".k-columns-item input["+s.attr("field")+"]").map((function(){return e(this).closest("li")})),data:o(t._ownerColumns(),(function(e){return{column:e._originalObject}}))}}))},destroy:function(){var e=this;e._angularItems("cleanup"),$.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(m,e._refreshHandler),e.options.columns&&e.owner&&(e._updateColumnsMenuHandler&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e._updateColumnsLockedStateHandler&&(e.owner.unbind("columnLock",e._updateColumnsLockedStateHandler),e.owner.unbind("columnUnlock",e._updateColumnsLockedStateHandler))),e.menu&&(e.menu.element.off(w),e.menu.destroy()),e.wrapper.off(w),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(w),e.owner=null,e.wrapper=null,e.element=null},close:function(){this.menu&&this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+w))},_click:function(e){e.preventDefault(),e.stopPropagation();var n=this.options;n.filter&&this.element.is(!n.filter)||(this.popup||this.pane?this._updateMenuItems():this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_updateMenuItems:function(){var e=this;e.options.columns&&(e._setMenuItemsVisibility(),e.options.columns.sort||e.options.columns.groups?e._updateDataIndexes():e._reorderMenuItems())},_setMenuItemsVisibility:function(){this._eachRenderedMenuItem((function(e,n,s){!1===n.matchesMedia?s.hide():s.show()}))},_reorderMenuItems:function(){this._eachRenderedMenuItem((function(e,n,s,t){s[0]&&s.index()!==e&&function(e,n,s){e>0?n.insertAfter(s.children().eq(e-1)):s.prepend(n)}(e,s,t)})),this._updateDataIndexes()},_updateDataIndexes:function(){var n=this,t=n._isMobile&&n.view?e(n.view.element).find(".k-columns-item").children("ul"):e(n.wrapper).find(".k-menu-group").first(),i=n._ownerColumns(!0).map((function(e){return e.title||e.field}));t.find("span."+(this._isMobile?"k-listgroup-form-field-wrapper":"k-menu-link")+" input").each((function(t){var l,a;n.options.columns.sort?(l=n._ownerColumns(),a=i.indexOf(l[t].title),e(this).attr(s.attr("index"),a)):e(this).attr(s.attr("index"),t)}))},_eachRenderedMenuItem:function(n){for(var t,i,l,o,r,c,u=this,d=a(x(u.owner.columns),(function(e){var n=!0,s=M(e.title||"");return!1!==e.menu&&(e.field||s.length)||(n=!1),n})).map((function(e){return{field:e.field,title:e.title,matchesMedia:e.matchesMedia}})),p=u._getRenderedList(),m=u._getRenderedListElements(p),k=function(e,n){for(var t,i,l,a,o,r=s.attr("index"),c=s.attr("field"),u={},d=0;d<e.length;d++)i=n.eq(d),l=parseInt(i.attr(r),10),a=i.attr(c),o=i.attr("title"),u[t=a||o]?u[t].push(l):u[t]=[l];return u}(m,p.find("input[type=checkbox]")),f=function(e){for(var n,s={},t=0;t<e.length;t++)s[n=JSON.stringify(e[t])]?s[n].push(t):s[n]=[t];return s}(d),h=0;h<d.length;h++){i=(l=d[h]).field?l.field:l.title,t=e.inArray(h,f[JSON.stringify(l)]),o=e();for(var g=0;g<k[i].length;g++)o=o.add(m.eq(k[i][g]));n(h,l,o.find((r="field",c=i,"["+s.attr(r)+"='"+(c||"").replace(/'/g,'"')+"']")).closest(u._isModernComponentType()?"label":"li").eq(t),p)}},_getRenderedList:function(){var n=this;return n._isModernComponentType()?e(n.wrapper).find(".k-columns-item"):n._isMobile&&n.view?e(n.view.element).find(".k-columns-item").children("ul"):e(n.wrapper).find(".k-menu-group").first()},_getRenderedListElements:function(e){return this._isModernComponentType()?e.find("label"):e.find("span."+(this._isMobile?"k-listgroup-form-field-wrapper":"k-menu-link"))},_open:function(){var n,t,i=this;e(".k-column-menu").not(i.wrapper).each((function(){e(this).data(C).close()})),i.popup.element.on("keydown"+w,(function(l){var a=e(l.target);if(i._isModernComponentType()&&l.keyCode===s.keys.ENTER&&a.click(),l.keyCode==s.keys.ESC){if(n=s.widgetInstance(a.find("select")),a.hasClass("k-picker")&&n&&n.popup.visible())return void l.stopPropagation();(t=a.closest(".k-popup").closest(".k-menu-item")).length>0&&(t.addClass("k-focus"),i.menu?i.menu.element.trigger("focus"):i.popup.element.find("[tabindex=0]").eq(0).trigger("focus")),a.closest(".k-popup").getKendoPopup().close()}})),i.options.hasLockableColumns&&i._updateLockedColumns(),i.options.hasStickableColumns&&i._updateStickyColumns()},_activate:function(){this.menu?this.menu.element.trigger("focus"):this.popup.element.find("[tabindex=0]").eq(0).trigger("focus"),this.trigger(f,{field:this.field,container:this.wrapper})},_ownerColumns:function(e){var n,s=x(this.owner.columns),t=a(s,(function(e){var n=!0,s=M(e.title||"");return!1!==e.menu&&(e.field||s.length)||(n=!1),n})),i=this.options.columns.sort;return n=o(t,(function(e){return{originalField:e.field,field:e.field||e.title,title:e.title||e.field,hidden:e.hidden,matchesMedia:e.matchesMedia,index:r(e,s),locked:!!e.locked,_originalObject:e,uid:e.headerAttributes.id}})),i&&!e&&n.sort(c.create({field:"title",dir:i})),n},_sort:function(){var e=this;e.options.sortable&&(e.refresh(),e._isModernComponentType()?e.wrapper.on("click"+w,".k-sort-asc, .k-sort-desc",e._sortHandler.bind(e)):e.menu.bind(h,e._sortHandler.bind(e)))},_sortHandler:function(n){var s,t=this,i=n.item?e(n.item):e(n.target);i.hasClass("k-sort-asc")?s=d:i.hasClass("k-sort-desc")&&(s=p),s&&(t._getSortItemsContainer(i).find(".k-sort-"+(s==d?p:d)).removeClass(u),t._sortDataSource(i,s),t._isMobile||t.close())},_getSortItemsContainer:function(e){return this._isModernComponentType()?e.parents(".k-columnmenu-item-wrapper").first():e.parent()},_sortDataSource:function(e,s){var t,i,l=this,a=l.options.sortable,o=null===a.compare?n:a.compare,r=l.dataSource,c=r.sort()||[],d=e.hasClass(u)&&a&&!1!==a.allowUnsort;if(s=d?n:s,!l.trigger("sort",{sort:{field:l.field,dir:s,compare:o}})){if(d?e.removeClass(u):e.addClass(u),"multiple"===a.mode){for(t=0,i=c.length;t<i;t++)if(c[t].field===l.field){c.splice(t,1);break}c.push({field:l.field,dir:s,compare:o})}else c=[{field:l.field,dir:s,compare:o}];r.sort(c)}},_columns:function(){var n=this;n.options.columns&&(n._updateColumnsMenu(),n._updateColumnsMenuHandler=n._updateColumnsMenu.bind(n),n.owner.bind(["columnHide","columnShow"],n._updateColumnsMenuHandler),n._updateColumnsLockedStateHandler=n._updateColumnsLockedState.bind(n),n.owner.bind(["columnUnlock","columnLock"],n._updateColumnsLockedStateHandler),n._isModernComponentType()?(n.wrapper.on("click"+w,".k-columns-item .k-button:not(.k-button-solid-primary)",(function(){n._updateColumnsMenu()})),n.wrapper.on("click"+w,".k-columns-item .k-button.k-button-solid-primary",n._applyColumnVisibility.bind(n)),n.wrapper.on("click"+w,".k-columns-item .k-checkbox",(function(){n._updateColumnsMenu(!0)}))):n.menu.bind(h,(function(t){var i,l,o,r=e(t.item),c=s.attr("uid"),u=a(x(n.owner.columns),(function(e){var n=!0,s=M(e.title||"");return!1!==e.menu&&(e.field||s.length)||(n=!1),n}));n._isMobile&&t.preventDefault(),r.parent().closest("li.k-columns-item")[0]&&((i=r.find(":checkbox")).attr("disabled")||(o=u.map((function(e){return e.headerAttributes.id})).indexOf(i.attr(c)),!0===(l=u[o]).hidden?n.owner.showColumn(l):n.owner.hideColumn(l)))})))},_applyColumnVisibility:function(){var n,t,i,l,o=this,r=s.attr("field"),c=s.attr("uid"),u=o.wrapper.find(".k-columns-item input["+r+"]"),d=a(x(this.owner.columns),(function(e){var n=!0,s=M(e.title||"");return!1!==e.menu&&(e.field||s.length)||(n=!1),n})),p=u.length;for(o.owner.unbind("columnShow",o._updateColumnsMenuHandler),o.owner.unbind("columnHide",o._updateColumnsMenuHandler),n=0;n<p;n++)i=e(u[n]),t=d.map((function(e){return e.headerAttributes.id})).indexOf(i.attr(c)),l=d[t],i.is(":checked")&&l.hidden?o.owner.showColumn(l):i.is(":not(:checked)")&&!l.hidden&&o.owner.hideColumn(l);o.popup.close(),o.owner.bind(["columnHide","columnShow"],o._updateColumnsMenuHandler)},_updateColumnsMenu:function(e){var n,t,i,l,o,r=this,c=s.attr("field"),u=s.attr("locked"),d=s.attr("uid"),p={},m=0,k=0;e=!0===e;var f=a(x(this.owner.columns),(function(e,n){var s=!0,t=M(e.title||"");return!1!==e.menu&&(e.field||t.length)||(s=!1),s&&(p[n]=m,m++),s})),h=a(this._ownerColumns(),(function(n){return e?r.wrapper.find("[role='menuitemcheckbox'] ["+d+"='"+n.uid+"']").prop("checked"):!n.hidden&&!1!==n.matchesMedia})),g=a(h,(function(e){return e.originalField})),b=a(g,(function(e){return!0===e.locked})).length,C=a(g,(function(e){return!0!==e.locked})).length,v=a(this.owner.columns,(function(e){return!1===e.menu})),_=a(v,(function(e){return e.hidden}));this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",!1);var w,$=this.wrapper.find(".k-columns-item input["+c+"]").prop("disabled",!1);for(e||$.prop("checked",!1),n=0,t=$.length;n<t;n++)o="true"===(i=$.eq(n)).attr(u),!1,w=i.data("kendoSwitch"),k=f.map((function(e){return e.headerAttributes.id})).indexOf(i.attr(d)),l=e?i.prop("checked"):!f[k].hidden&&!1!==f[k].matchesMedia,i.prop("checked",l),w&&(w.enable(!0),w.check(l)),i.closest("[role='menuitemcheckbox']").attr("aria-checked",l),l&&(1==b&&o&&(i.prop("disabled",!0),w&&w.enable(!1)),0!==v.length&&v.length!==_.length||1!=C||o||(i.prop("disabled",!0),w&&w.enable(!1)))},_updateColumnsLockedState:function(){var e,n,t,i,l=s.attr("field"),a=s.attr("locked"),o=function(e,n){var s,t,i,l={};for(s=0,t=e.length;s<t;s++)l[(i=e[s])[n]]=i;return l}(this._ownerColumns(),"field"),r=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,n=r.length;e<n;e++)(i=o[(t=r.eq(e)).attr(l)])&&t.attr(a,i.locked);this._updateColumnsMenu()},_filter:function(){var n=this,s="kendoFilterMenu",t=n.options;!1!==t.filterable&&(t.filterable.multi&&(s="kendoFilterMultiCheck",t.filterable.dataSource&&(t.filterable.checkSource=t.filterable.dataSource,delete t.filterable.dataSource)),n.filterMenu=n.wrapper.find(".k-filterable")[s](l(!0,{},{appendToElement:!0,dataSource:t.dataSource,values:t.values,field:n.field,title:n.title,change:function(e){n.trigger("filtering",{filter:e.filter,field:e.field})&&e.preventDefault()},componentType:n.options.componentType,cycleForm:!n._isModernComponentType()},t.filterable)).data(s),n._isMobile&&n.menu.bind(h,(function(s){e(s.item).hasClass("k-filter-item")&&n.pane.navigate(n.filterMenu.view,n.options.animations.left)})))},_lockColumns:function(){var e=this;e._isModernComponentType()?e.wrapper.on("click"+w,".k-lock, .k-unlock",e._lockableHandler.bind(e)):e.menu.bind(h,e._lockableHandler.bind(e))},_lockableHandler:function(n){var s=this,t=n.item?e(n.item):e(n.target);t.hasClass("k-lock")?(s.owner.lockColumn(s.field),s._isMobile||s.close()):t.hasClass("k-unlock")&&(s.owner.unlockColumn(s.field),s._isMobile||s.close())},_stickyColumns:function(){var e=this;e._isModernComponentType()?e.wrapper.on("click"+w,".k-stick, .k-unstick",e._stickableHandler.bind(e)):e.menu.bind(h,e._stickableHandler.bind(e))},_stickableHandler:function(n){var s=this,t=n.item?e(n.item):e(n.target),i=s.field,l=s.owner.columns,o=a(l,(function(e){return e.field==i||e.title==i}))[0];t.hasClass("k-stick")?(s.owner.stickColumn(s.field),s.trigger(g,{column:o}),s._isMobile||s.close()):t.hasClass("k-unstick")&&(s.owner.unstickColumn(s.field),s.trigger(b,{column:o}),s._isMobile||s.close())},_updateLockedColumns:function(){var e=this.field,n=this.owner.columns,s=a(n,(function(n){return n.field==e||n.title==e}))[0];if(s){var t=!0===s.locked,i=a(n,(function(e){return!e.hidden&&(e.locked&&t||!e.locked&&!t)})).length,l=!1===s.lockable,o=this.wrapper.find(".k-lock").removeClass("k-disabled"),r=this.wrapper.find(".k-unlock").removeClass("k-disabled");(t||1==i||l)&&o.addClass("k-disabled"),t&&1!=i&&!l||r.addClass("k-disabled"),this._updateColumnsLockedState()}},_updateStickyColumns:function(){var e=this.field,n=this.owner.columns,s=a(n,(function(n){return n.field==e||n.title==e}))[0];if(s){var t=!0===s.sticky,i=!0===s.stickable,l=!0===s.locked,o=a(n,(function(e){return!e.hidden&&(e.locked&&l||!e.locked&&!l)})).length,r=this.wrapper.find(".k-stick").removeClass("k-disabled"),c=this.wrapper.find(".k-unstick").removeClass("k-disabled");(t||!i||l&&1===o)&&r.addClass("k-disabled"),t&&i||c.addClass("k-disabled")}},refresh:function(){var e,n,s,t=this,i=t.options.dataSource.sort()||[],l=t.field;for(t.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(u),n=0,s=i.length;n<s;n++)l==(e=i[n]).field&&t.wrapper.find(".k-sort-"+e.dir).addClass(u);t.link[t._filterExist(t.dataSource.filter())?"addClass":"removeClass"]("k-active")},_filterExist:function(e){var n,s=!1;if(e){for(var t=0,i=(e=e.filters).length;t<i;t++)(n=e[t]).field==this.field?s=!0:n.filters&&(s=s||this._filterExist(n));return s}}});const T=({columns:e,messages:n,encodeTitles:s,ns:i})=>`<div class="k-columnmenu-item-wrapper"><div><div class="k-columnmenu-item-content k-columns-item"><div class="k-column-list-wrapper"><div class="k-column-list" role="menu">${function(e,n,s){return e.map((e=>e.groupHeader?`<span class="k-column-menu-group-header"><span class="k-column-menu-group-header-text">${e.title}</span></span>`:`<label class="k-column-list-item" role="menuitemcheckbox" aria-checked="false" ${!1===e.matchesMedia?"style='display:none;'":""}><input class="k-checkbox k-checkbox-md k-rounded-md" type="checkbox" title="${n?t(e.title):e.title}" data-${s}field="${e.field.replace(/\"/g,"&#34;")}" data-${s}index="${e.index} data-${s}locked="${e.locked}" data-${s}uid="${e.uid}" /><span class="k-checkbox-label">${n?t(e.title):e.title}</span></label>`)).join("")}(e,s,i)}</div></div><div class="k-columnmenu-actions"><button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" type="button">${n.reset}</button><button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary" type="button">${n.apply}</button></div></div></div></div>`;var L=({sortable:e,filterable:n,showColumns:s,messages:t,columns:i,hasLockableColumns:l,hasStickableColumns:a,encodeTitles:o,ns:r})=>`${e?(({messages:e})=>`<div class="k-columnmenu-item-wrapper"><div><div class="k-columnmenu-item k-sort-asc" tabindex="0"><span class="k-icon k-i-sort-asc-sm"></span>${e.sortAscending}</div></div><div><div class="k-columnmenu-item k-sort-desc" tabindex="0"><span class="k-icon k-i-sort-desc-sm"></span>${e.sortDescending}</div></div></div>`)({messages:t}):""}${s?T({columns:i,messages:t,encodeTitles:o,ns:r}):""}${n?'<div class="k-columnmenu-item-wrapper"><div class="k-columnmenu-item-content k-column-menu-filter"><div class="k-filterable"></div></div></div>':""}${l||a?(({hasLockableColumns:e,hasStickableColumns:n,messages:s})=>`<div class="k-columnmenu-item-wrapper"><div class="k-column-menu-position">${e?(({messages:e})=>`<div class="k-columnmenu-item k-lock" tabindex="0"><span class="k-icon k-i-lock"></span>${e.lock}</div><div class="k-columnmenu-item k-unlock" tabindex="0"><span class="k-icon k-i-unlock"></span>${e.unlock}</div>`)({messages:s}):""}${n?(({messages:e})=>`<div class="k-columnmenu-item k-stick" tabindex="0"><span class="k-icon k-i-stick"></span>${e.stick}</div><div class="k-columnmenu-item k-unstick" tabindex="0"><span class="k-icon k-i-unstick"></span>${e.unstick}</div>`)({messages:s}):""}</div></div>`)({hasLockableColumns:l,hasStickableColumns:a,messages:t}):""}`;const H=({columns:e,messages:n,encodeTitles:s,ns:i,omitWrapAttribute:l,filterable:a,hasLockableColumns:o,hasStickableColumns:r})=>`<li class="k-item k-menu-item k-columns-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-columns"></span><span class="k-menu-link-text">${n.columns}</span></span><ul>${function(e,n,s,i){return e.map((e=>e.groupHeader?`<li class="k-column-menu-group-header" ${i}="true" ><span class="k-column-menu-group-header-text">${e.title}</span></li>`:`<li role="menuitemcheckbox" aria-checked="false" ${!1===e.matchesMedia?"style='display:none;'":""}><input type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" title="${n?t(e.title):e.title}" data-${s}field="${e.field.replace(/\"/g,"&#34;")}" data-${s}index="${e.index}" data-${s}locked="${e.locked}" data-${s}uid="${e.uid}"/>${n?t(e.title):e.title}</li>`)).join("")}(e,s,i,l)}</ul></li>${a||o||r?'<li class="k-separator k-menu-separator" role="presentation"></li>':""}`;var I=({uid:e,sortable:n,filterable:s,showColumns:t,messages:i,columns:l,hasLockableColumns:a,hasStickableColumns:o,encodeTitles:r,ns:c,omitWrapAttribute:u})=>`<ul id="${e}">${n?(({messages:e,showColumns:n,filterable:s})=>`<li class="k-item k-menu-item k-sort-asc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-asc-sm"></span><span class="k-menu-link-text">${e.sortAscending}</span></span></li><li class="k-item k-menu-item k-sort-desc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-desc-sm"></span><span class="k-menu-link-text">${e.sortDescending}</span></span></li>${n||s?'<li class="k-separator k-menu-separator" role="presentation"></li>':""}`)({messages:i,showColumns:t,filterable:s}):""}${t?H({columns:l,messages:i,encodeTitles:r,ns:c,omitWrapAttribute:u,filterable:s,hasLockableColumns:a,hasStickableColumns:o}):""}${s?(({messages:e,hasLockableColumns:n,hasStickableColumns:s})=>`<li class="k-item k-menu-item k-filter-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-filter"></span><span class="k-menu-link-text">${e.filter}</span></span><ul><li><div class="k-filterable"></div></li></ul></li>${n||s?'<li class="k-separator k-menu-separator" role="presentation"></li>':""}`)({messages:i,hasLockableColumns:a,hasStickableColumns:o}):""}${a||o?(({messages:e,hasLockableColumns:n,hasStickableColumns:s})=>`<li class="k-item k-menu-item k-position-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-set-column-position"></span><span class="k-menu-link-text">${e.setColumnPosition}</span></span><ul>${n?(({messages:e,hasStickableColumns:n})=>`<li class="k-item k-menu-item k-lock"><span class="k-link k-menu-link"><span class="k-icon k-i-lock"></span><span class="k-menu-link-text">${e.lock}</span></span></li><li class="k-item k-menu-item k-unlock"><span class="k-link k-menu-link"><span class="k-icon k-i-unlock"></span><span class="k-menu-link-text">${e.unlock}</span></span></li>${n?'<li class="k-separator k-menu-separator" role="presentation"></li>':""}`)({messages:e,hasStickableColumns:s}):""}${s?(({messages:e})=>`<li class="k-item k-menu-item k-stick"><span class="k-link k-menu-link"><span class="k-icon k-i-stick"></span><span class="k-menu-link-text">${e.stick}</span></span></li><li class="k-item k-menu-item k-unstick"><span class="k-link k-menu-link"><span class="k-icon k-i-unstick"></span><span class="k-menu-link-text">${e.unstick}</span></span></li>`)({messages:e}):""}</ul></li>`)({messages:i,hasLockableColumns:a,hasStickableColumns:o}):""}\n</ul>`;const A=({messages:e,hasGroups:n,columns:i,groups:l,ns:a})=>`<li class="k-columns-item"><span class="k-list-title">${e.columnVisibility}</span>${function(e,n,i,l){var a="";if(l)for(var o=0;o<n.length;o++){a+=`<span class="k-list-group-header k-pb-1">${t(n[o].title)}</span><ul class="k-listgroup k-listgroup-flush k-mb-4">`;for(var r=0;r<n[o].columns.length;r++)a+=`<li id="${s.guid()}" class="k-item k-listgroup-item"><span class="k-listgroup-form-row"><span class="k-listgroup-form-field-label k-item-title">${n[o].columns[r].title}</span><span class="k-listgroup-form-field-wrapper"><input type="checkbox" title="${n[o].columns[r].title}" data-${i}field="${n[o].columns[r].field.replace(/\"/g,"&#34;")}" data-${i}index="${n[o].columns[r].index}" data-${i}uid="${n[o].columns[r].uid}" data-${i}locked="${n[o].columns[r].locked}"/></span></span></li>"`;a+="</ul>"}else{for(a+='<ul class="k-listgroup k-listgroup-flush k-mb-4">',r=0;r<e.length;r++)a+=`<li id="${s.guid()}" class="k-item k-listgroup-item"><span class="k-listgroup-form-row"><span class="k-listgroup-form-field-label k-item-title">${e[r].title}</span><span class="k-listgroup-form-field-wrapper"><input type="checkbox" title="${e[r].title}" data-${i}field="${e[r].field.replace(/\"/g,"&#34;")}" data-${i}index="${e[r].index}" data-${i}uid="${e[r].uid}" data-${i}locked="${e[r].locked}"/></span></span></li>`;a+="</ul>"}return a}(i,l,a,n)}</li>`;var D=({messages:e,title:n,sortable:t,filterable:i,showColumns:l,hasLockableColumns:a,hasStickableColumns:o,hasGroups:r,columns:c,groups:u,ns:d})=>`<div data-${d}role="view" class="k-grid-column-menu"><div data-${d}role="header" class="k-header"><a href="#" class="k-header-cancel k-link" title="${e.cancel}" aria-label="${e.cancel}"><span class="k-icon k-i-arrow-chevron-left"></span></a>${e.settings}<a href="#" class="k-header-done k-link" title="${e.done}" aria-label="${e.done}"><span class="k-icon k-i-check"></span></a></div><div class="k-column-menu"><ul class="k-reset"><li><span class="k-list-title">${e.column}: ${n}</span><ul class="k-listgroup k-listgroup-flush k-mb-4">${t?(({messages:e})=>`<li id="${s.guid()}" class="k-item k-listgroup-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span><span class="k-item-title">${e.sortAscending}</span></span></li><li id="${s.guid()}" class="k-item k-listgroup-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span><span class="k-item-title">${e.sortDescending}</span></span></li>`)({messages:e}):""}${a?(({messages:e})=>`<li id="${s.guid()}" class="k-item k-listgroup-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span><span class="k-item-title">${e.lock}</span></span></li><li id="${s.guid()}" class="k-item k-listgroup-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span><span class="k-item-title">${e.unlock}</span></span></li>`)({messages:e}):""}${o?(({messages:e})=>`<li id="${s.guid()}" class="k-item k-listgroup-item k-stick"><span class="k-link"><span class="k-icon k-i-stick"></span><span class="k-item-title">${e.stick}</span></span></li><li id="${s.guid()}" class="k-item k-listgroup-item k-unstick"><span class="k-link"><span class="k-icon k-i-unstick"></span><span class="k-item-title">${e.unstick}</span></span></li>`)({messages:e}):""}${i?(({messages:e})=>`<li id="${s.guid()}" class="k-item k-listgroup-item k-filter-item"><span class="k-link k-filterable"><span class="k-icon k-i-filter"></span><span class="k-item-title">${e.filter}</span><span class="k-select"><span class="k-icon k-i-arrow-chevron-right"></span></span></span></li>`)({messages:e}):""}</ul></li>${l?A({messages:e,hasGroups:r,columns:c,groups:u,ns:d}):""}<li class="k-item k-clear-wrap"><ul class="k-listgroup k-listgroup-flush"><li class="k-listgroup-item"><span class="k-link k-label k-clear" title="${e.clear}" aria-label="${e.clear}">${e.clear}</span></li></ul></li></ul></div></div>`,E=$.extend({init:function(e,n){var s=this;$.fn.init.call(s,e,n),s._createCheckBoxes(),s.element.on("click"+w,"li.k-item:not(.k-separator):not(.k-disabled):not(:has(.k-switch))","_click")},events:[h],_click:function(n){var s=this;if(e(n.target).is("[type=checkbox]")||n.preventDefault(),!e(n.target).hasClass("k-clear"))return e(n.target).hasClass("k-filterable")?(s._cancelChanges(!0),void s.trigger(h,{item:n.currentTarget})):void s._updateSelectedItems(n.currentTarget);s._cancelChanges(!0)},_updateSelectedItems:function(n){var s=this,t=e(n),i=s.options.columnMenu.view.state||{columns:{}},l=t.prop("id");if(!t.hasClass("k-filter-item")){var a,o,r;if(i[l]?i[l]=!1:i[l]=!0,t.hasClass("k-sort-asc")||t.hasClass("k-sort-desc"))t.hasClass("k-sort-asc")?(a="asc",o=s.element.find(".k-sort-desc")):(a="desc",o=s.element.find(".k-sort-asc")),r=o.prop("id"),a!==i.initialSort||t.hasClass("k-selected")||(i[l]=!1),i[r]&&(i[r]=!1),o.removeClass(u);t.hasClass(u)?t.removeClass(u):t.addClass(u)}},_cancelChanges:function(e){var n=this,s=n.options.columnMenu,t=s.view,i=(t.state||{columns:{}}).columns;if(n.element.find("."+u).removeClass(u),s.refresh(),e){var l=[];for(var a in i)if(i.hasOwnProperty(a)&&!0===i[a]){var o=t.element.find("#"+a);l.push(o[0])}for(var r=l.length-1;r>=0;r--)n.trigger(h,{item:l[r]});s.options.hasLockableColumns&&s._updateLockedColumns(),s.options.hasStickableColumns&&s._updateStickyColumns()}n.options.columnMenu.view.state={columns:{}}},_applyChanges:function(){var e=this.options.columnMenu.view,n=e.state||{columns:{}};for(var s in n)if(n.hasOwnProperty(s)&&"initialSort"!==s&&"columns"!==s&&!0===n[s]){var t=e.element.find("#"+s);t.hasClass(u)?t.removeClass(u):t.addClass(u),this.trigger(h,{item:t[0]})}},_createCheckBoxes:function(){var e=this;e.element.find(".k-columns-item").find("[type='checkbox']").kendoSwitch({messages:{checked:"",unchecked:""},change:function(n){var s=n.sender.element.closest(".k-item"),t=e.options.columnMenu.view.state||{columns:{}},i=s.prop("id");t.columns[i]?t.columns[i]=!1:t.columns[i]=!0,e.trigger(h,{item:s})}})},_destroyCheckBoxes:function(){for(var e,n=this.element.find(".k-columns-item").find("[type='checkbox']"),s=0;s<n.length;s++)(e=n.eq(s).data("kendoSwitch"))&&e.destroy()},close:function(){this.options.pane.navigate("")},destroy:function(){var e=this;$.fn.destroy.call(e),e.element.off(w),e._destroyCheckBoxes()}});i.plugin(S)}(window.kendo.jQuery);
//# sourceMappingURL=kendo.columnmenu.js.map
