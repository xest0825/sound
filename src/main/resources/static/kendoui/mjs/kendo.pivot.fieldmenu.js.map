{"version":3,"file":"kendo.pivot.fieldmenu.js","names":["__meta__","id","name","category","description","depends","advanced","$","undefined$1","kendo","window","ui","encode","htmlEncode","MENU","NS","Widget","FILTER_ITEM","ARIA_LABEL","PivotFieldMenuV2","extend","init","element","options","fn","call","this","_dataSource","_layout","notify","events","animation","expand","effects","duration","collapse","hide","reverse","filter","filterable","sortable","messages","apply","sortAscending","sortDescending","filterFields","include","clear","reset","operators","contains","doesnotcontain","startswith","endswith","eq","neq","destroy","menu","off","_applyProxy","_resetIncludes","treeView","wrapper","setDataSource","dataSource","_createTreeView","that","_includesCache","TreeView","autoBind","_treeViewDataSource","dataTextField","template","item","caption","check","e","dataItem","sender","node","uniqueName","checkboxes","checkChildren","data","PivotDataSourceV2","create","MENUTEMPLATEV2","ns","target","orientation","showOn","closeOnClick","open","_menuOpen","bind","close","_closeMenu","copyAnchorStyles","_checkActiveProxy","_initFilterForm","_attachFilterHandlers","find","_clickHandler","_click","on","activeElement","_activeElement","_filterOperator","closest","hasClass","preventDefault","HierarchicalDataSource","schema","model","hasChildren","parseInt","childrenCardinality","transport","read","catalog","cube","restrictions","fetchOptions","get","nodes","cubeSchema","members","currentMember","_getFilterStorage","findFilters","member","length","checked","values","idx","filters","operator","indexOf","map","ftr","value","inArray","checkNodesLocal","success","catalogName","cubeName","command","memberUniqueName","replace","treeOp","levelUniqueName","connection","discover","then","checkNodes","_storeFilterForm","_filterStorage","_filterValue","val","_clearFilterStorage","currentTarget","next","_toggle","_sort","_applyIncludesProxy","_applyIncludes","_resetIncludesProxy","_includesHandler","newExpression","view","nonCheckedNodes","removeFilters","logic","nodeIds","push","field","includeLocalExpression","resultExpression","checkedNodes","rootChecked","existingExpression","splice","join","includeExpression","_preventRefresh","checkbox","prop","_checkboxChange","filterForm","filterProxy","_filter","DropDownList","popup","appendTo","document","body","_filterForm","_updateFilterAriaLabel","_reset","selectedOperator","selectedOperatorName","attr","convert","expression","toRemove","removeFilterByValue","_setFilterForm","filterOperator","select","_collapseItems","items","removeClass","addClass","nextAll","content","animations","shouldExpand","is","kendoStop","kendoAnimate","dir","expressions","sort","removeExpr","event","filterBox","schemaCube","prev","text","_hovered","last","memberType","toLowerCase","show","_oldCurrentmember","PivotFieldMenu","info","title","ok","cancel","MENUTEMPLATE","_select","_createWindow","_clearFilters","PivotDataSource","includeWindow","WINDOWTEMPLATE","_closeWindow","Window","visible","resizable","_windowOpen","schemaMembers","done","fail","error","dataBound","progress","not","kendoWindow","center","fields","type","parseFloat","Boolean","parseJSON","result","operatorInUse","isLocal","split","checkState","level","children","Object","keys","op","MENU_TEMPLATE_FILTERABLE_PARTIAL","LABELMENUTEMPLATE","MENU_TEMPLATE_SORTABLE_PARTIAL","plugin","jQuery"],"sources":["kendo.pivot.fieldmenu.js"],"mappings":"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","sourcesContent":["import './kendo.pivotgrid.js';\nimport './kendo.menu.js';\nimport './kendo.window.js';\nimport './kendo.treeview.js';\nimport './kendo.dropdownlist.js';\n\nvar __meta__ = {\n    id: \"pivot.fieldmenu\",\n    name: \"PivotFieldMenu\",\n    category: \"web\",\n    description: \"The PivotFieldMenu widget allows the user to filter on fields displayed in PivotGrid\",\n    depends: [ \"menu\", \"window\", \"treeview\", \"treeview.draganddrop\", \"dropdownlist\" ],\n    advanced: true\n};\n\n\n(function($, undefined$1) {\n    var kendo = window.kendo;\n    var ui = kendo.ui;\n    var encode = kendo.htmlEncode;\n    var MENU = \"kendoContextMenu\";\n    var NS = \".kendoPivotFieldMenu\";\n    var Widget = ui.Widget;\n    var FILTER_ITEM = \"k-filter-item\";\n    var ARIA_LABEL = \"aria-label\";\n\n    var PivotFieldMenuV2 = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._dataSource();\n\n            this._layout();\n\n            kendo.notify(this);\n        },\n\n        events: [],\n\n        options: {\n            name: \"PivotFieldMenuV2\",\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                },\n                collapse: {\n                    duration: 200,\n                    effects: \"expand:vertical\",\n                    hide: true,\n                    reverse: true\n                }\n            },\n            filter: null,\n            filterable: true,\n            sortable: true,\n            messages: {\n                apply: \"Apply\",\n                sortAscending: \"Sort Ascending\",\n                sortDescending: \"Sort Descending\",\n                filterFields: \"Fields Filter\",\n                filter: \"Filter\",\n                include: \"Include Fields...\",\n                clear: \"Clear\",\n                reset: \"Reset\",\n                operators: {\n                    contains: \"Contains\",\n                    doesnotcontain: \"Does not contain\",\n                    startswith: \"Starts with\",\n                    endswith: \"Ends with\",\n                    eq: \"Is equal to\",\n                    neq: \"Is not equal to\"\n                }\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.menu) {\n                this.menu.element.off(NS);\n                this.menu.destroy();\n                this.menu = null;\n                this._applyProxy = this._resetIncludes = null;\n            }\n\n            if (this.treeView) {\n                this.treeView.destroy();\n                this.treeView = null;\n            }\n\n            this.wrapper = null;\n            this.element = null;\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._dataSource();\n        },\n\n        _createTreeView: function(element) {\n            var that = this;\n\n            that._includesCache = {};\n\n            that.treeView = new ui.TreeView(element, {\n                autoBind: false,\n                dataSource: that._treeViewDataSource(),\n                dataTextField: \"caption\",\n                template: ({ item }) => `${encode(item.caption || item.name)}`,\n                check: function(e) {\n                    /* The result can be observed in the DevTools(F12) console of the browser. */\n                    var dataItem = e.sender.dataItem(e.node);\n                    if (that._includesCache[dataItem.uniqueName]) {\n                        delete that._includesCache[dataItem.uniqueName];\n                    } else {\n                        that._includesCache[dataItem.uniqueName] = e.node;\n                    }\n                },\n                checkboxes: {\n                    checkChildren: true\n                }\n            });\n        },\n\n        _dataSource: function() {\n            this.dataSource = kendo.data.PivotDataSourceV2.create(this.options.dataSource);\n        },\n\n        _layout: function() {\n            var that = this;\n            var options = that.options;\n\n            that.wrapper = $(kendo.template(MENUTEMPLATEV2)({\n                ns: kendo.ns,\n                filterable: options.filterable,\n                sortable: options.sortable,\n                messages: options.messages\n            }));\n\n            that.menu = that.wrapper[MENU]({\n                filter: options.filter,\n                target: that.element,\n                orientation: \"vertical\",\n                showOn: \"click\",\n                closeOnClick: false,\n                open: this._menuOpen.bind(this),\n                close: this._closeMenu.bind(this),\n                copyAnchorStyles: false\n            }).data(MENU);\n\n            that.menu.element.off(\"blur.kendoMenu\", \"[tabindex]\", that.menu._checkActiveProxy);\n\n            if (options.filterable) {\n                that._initFilterForm();\n                that._attachFilterHandlers();\n                that._createTreeView(that.wrapper.find(\".k-treeview\"));\n            }\n\n            that._clickHandler = that._click.bind(that);\n            that.wrapper.on(\"click\", \".k-item:not([role='treeitem'])\", that._clickHandler);\n        },\n\n        _closeMenu: function(e) {\n            var that = this;\n            var activeElement = $(kendo._activeElement());\n\n            if (activeElement[0] === this._filterOperator.wrapper[0] || activeElement.closest(\".k-treeview\")[0] === that.treeView.wrapper[0] ||\n                activeElement.hasClass(\"k-button-includes-reset\")) {\n                e.preventDefault();\n            }\n        },\n\n        _treeViewDataSource: function() {\n            var that = this;\n\n            return kendo.data.HierarchicalDataSource.create({\n                schema: {\n                    model: {\n                        id: \"uniqueName\",\n                        hasChildren: function(item) {\n                            return parseInt(item.childrenCardinality, 10) > 0;\n                        }\n                    }\n                },\n                transport: {\n                    read: function(options) {\n                        var node = that.treeView.dataSource.get(options.data.uniqueName);\n                        var name = options.data.uniqueName;\n                        var nodes = [];\n                        var filter;\n                        var skipCheck;\n                        var catalog;\n                        var cube;\n                        var restrictions;\n                        var fetchOptions;\n\n                        if (that.dataSource.cubeSchema) {\n                            if (!name) {\n                                nodes = that.dataSource.cubeSchema.members(that.currentMember + \".[(ALL)]\");\n                            } else {\n                                nodes = that.dataSource.cubeSchema.members(that.currentMember);\n                            }\n\n                            filter = that.dataSource.filter();\n                            skipCheck = that._getFilterStorage(that.currentMember) && findFilters({ filter: filter, member: that.currentMember }).length == 1;\n\n                            if (skipCheck && !name) {\n                                nodes[0].checked = true;\n                            } else {\n                                checkNodesLocal(that.dataSource.filter(), that.currentMember, nodes);\n                            }\n                            options.success(nodes);\n                        } else {\n                            catalog = that.dataSource.transport.catalog();\n                            cube = that.dataSource.transport.cube();\n                            restrictions = {\n                                catalogName: catalog,\n                                cubeName: cube\n                            };\n                            fetchOptions = {\n                                command: 'schemaMembers'\n                            };\n\n                            if (!name) {\n                                restrictions.levelUniqueName = that.currentMember + \".[(ALL)]\";\n                            } else {\n                                restrictions.memberUniqueName = node.uniqueName.replace(/\\&/g, \"&amp;\");\n                                restrictions.treeOp = 1;\n                            }\n\n                            fetchOptions.connection = {\n                                catalog: catalog,\n                                cube: cube\n                            };\n\n                            fetchOptions.restrictions = restrictions;\n                            that.dataSource.discover(fetchOptions).then(\n                                function(data) {\n                                    if (!node || node.checked) {\n                                        checkNodes(that.dataSource.filter(), that.currentMember, data);\n                                    }\n\n                                    options.success(data);\n                                });\n                        }\n                    }\n                }\n            });\n        },\n\n        _storeFilterForm: function(member) {\n            var that = this;\n\n            if (!that._filterStorage) {\n                that._filterStorage = {};\n            }\n\n            that._filterStorage[member] = {\n                value: that._filterValue.val(),\n                operator: that._filterOperator.value()\n            };\n        },\n\n        _getFilterStorage: function(member) {\n            if (!this._filterStorage || !this._filterStorage[member]) {\n                return null;\n            }\n            return this._filterStorage[member];\n        },\n\n        _clearFilterStorage: function(member) {\n            this._filterStorage[member] = null;\n        },\n\n        _click: function(e) {\n            var item = $(e.currentTarget);\n            var next = item.next();\n            if (item.hasClass(\"k-expander\")) {\n                this._toggle(next, item);\n            } else if (item.hasClass(\"k-columnmenu-item\") && item.find(\".k-i-sort-asc-sm\").length) {\n                this._sort(\"asc\");\n            } else if (item.hasClass(\"k-columnmenu-item\") && item.find(\".k-i-sort-desc-sm\").length) {\n                this._sort(\"desc\");\n            }\n        },\n\n        _attachFilterHandlers: function() {\n            this._applyIncludesProxy = this._applyIncludes.bind(this);\n            this._resetIncludesProxy = this._resetIncludes.bind(this);\n\n            this.menu.element\n                .on(\"click\" + NS, \".k-button-includes-reset\", this._resetIncludesProxy)\n                .on(\"click\" + NS, \".k-button-includes-apply\", this._applyIncludesProxy);\n        },\n\n        _includesHandler: function(e) {\n            e.preventDefault();\n            if ($(e.target).hasClass(\"k-button-includes-reset\")) {\n                this._resetIncludes();\n            } else {\n                this._applyIncludes();\n            }\n        },\n\n        _applyIncludes: function(e) {\n            e.preventDefault();\n            var view = this.treeView.dataSource.view();\n            var filter = this.dataSource.filter();\n            var newExpression;\n            if (this.dataSource.cubeSchema) {\n                newExpression = includeLocalExpression(view, filter, this.currentMember);\n            } else {\n                newExpression = includeExpression(view, filter, this.currentMember);\n            }\n             this._includesCache = {};\n\n            if (newExpression) {\n                this.dataSource._preventRefresh = true;\n                this.dataSource.filter(newExpression);\n                this.menu.close();\n            }\n        },\n\n        _resetIncludes: function(e) {\n            e.preventDefault();\n\n            var that = this;\n            var checkbox;\n\n            for (var item in that._includesCache) {\n                checkbox = $(that._includesCache[item]).find(\".k-checkbox\");\n                checkbox.prop(\"checked\", !checkbox.prop(\"checked\"));\n                that.treeView._checkboxChange({ target: checkbox });\n                delete that._includesCache[item];\n            }\n        },\n\n        _initFilterForm: function() {\n            var filterForm = this.menu.element.find(\".kendo-grid-filter-menu-container\");\n            var filterProxy = this._filter.bind(this);\n\n            this._filterOperator = new kendo.ui.DropDownList(filterForm.find(\"select\"), { popup: { appendTo: document.body } });\n            this._filterValue = filterForm.find(\"input.k-input-inner\");\n            this._filterForm = filterForm;\n            this._updateFilterAriaLabel();\n\n            filterForm\n                .on(\"click\" + NS, \".k-button-filter\", filterProxy)\n                .on(\"click\" + NS, \".k-button-filter-clear\", this._reset.bind(this));\n        },\n\n        _updateFilterAriaLabel: function() {\n            var selectedOperator = this._filterOperator.value();\n            var selectedOperatorName = this.options.messages.operators[selectedOperator];\n\n            this._filterForm.find(\"select\").attr(ARIA_LABEL, selectedOperatorName);\n        },\n\n        _filter: function(e) {\n            var that = this;\n            var value = convert(that._filterValue.val(), that.dataSource, that.currentMember);\n            var filter = that.dataSource.filter();\n\n            e.preventDefault();\n\n            if (value === \"\") {\n                that.menu.close();\n                return;\n            }\n\n            var expression = {\n                field: that.currentMember,\n                operator: that._filterOperator.value(),\n                value: value\n            };\n            if (filter) {\n                removeFilterByValue(filter, that._getFilterStorage(that.currentMember));\n            } else {\n                filter = { logic: 'and', filters: [] };\n            }\n\n            that._storeFilterForm(that.currentMember);\n            filter.filters.push(expression);\n\n            that.dataSource._preventRefresh = true;\n            that.dataSource.filter(filter);\n            that.menu.close();\n        },\n\n        _reset: function(e) {\n            var that = this;\n            var filter = that.dataSource.filter();\n            removeFilters(filter, that.currentMember);\n\n            e.preventDefault();\n\n            if (!filter.filters[0]) {\n                filter = {};\n            }\n\n            that.dataSource._preventRefresh = true;\n            that.dataSource.filter(filter);\n            that._clearFilterStorage(that.currentMember);\n            that._setFilterForm(null);\n            that.menu.close();\n        },\n\n        _setFilterForm: function(expression) {\n            var filterOperator = this._filterOperator;\n            var operator = \"\";\n            var value = \"\";\n\n            if (expression) {\n                operator = expression.operator;\n                value = expression.value;\n            }\n\n            filterOperator.value(operator);\n            if (!filterOperator.value()) {\n                filterOperator.select(0);\n            }\n\n            this._filterValue.val(value);\n        },\n\n        _collapseItems: function(items) {\n            items.find(\".k-expander-indicator\").removeClass(\"k-i-arrow-chevron-down\")\n                    .addClass(\"k-i-arrow-chevron-up\");\n\n            items.nextAll().hide();\n        },\n\n        _toggle: function(content, item) {\n            var that = this;\n            var animations = that.options.animation;\n            var shouldExpand = content.is(\":visible\");\n            var animation = !shouldExpand ? animations.expand : animations.collapse;\n\n            if (!shouldExpand) {\n\n                item.find(\".k-expander-indicator\").removeClass(\"k-i-arrow-chevron-down\")\n                    .addClass(\"k-i-arrow-chevron-up\");\n            } else {\n                item.find(\".k-expander-indicator\").removeClass(\"k-i-arrow-chevron-up\")\n                    .addClass(\"k-i-arrow-chevron-down\");\n            }\n\n            content\n                .kendoStop(true, true)\n                .kendoAnimate(animation);\n\n        },\n\n        _sort: function(dir) {\n            var field = this.currentMember;\n            var expressions = (this.dataSource.sort() || []);\n\n            expressions = removeExpr(expressions, field);\n            expressions.push({\n                field: field,\n                dir: dir\n            });\n\n            this.dataSource._preventRefresh = true;\n            this.dataSource.sort(expressions);\n            this.menu.close();\n        },\n\n        _menuOpen: function(e) {\n            if (!e.event) {\n                return;\n            }\n\n            var that = this;\n            var schemaCube = that.dataSource.cubeSchema;\n            var filterBox;\n            that.currentMember = $(e.event.target).prev().text();\n            that.menu.popup._hovered = true;\n\n            if (that.options.filterable) {\n                that._setFilterForm(that._getFilterStorage(that.currentMember));\n                filterBox = that.wrapper.find(\".k-columnmenu-item-wrapper\").last();\n                if (schemaCube && schemaCube.memberType(that.currentMember).toLowerCase() !== \"string\") {\n                    filterBox.hide();\n                } else {\n                    filterBox.show();\n                }\n                if (that.currentMember !== that._oldCurrentmember) {\n                    if (that._oldCurrentmember) {\n                        that._collapseItems(that.menu.element.find(\".k-item.k-expander\"));\n                    }\n                    that._oldCurrentmember = that.currentMember;\n                    that._includesCache = {};\n                    this.treeView.dataSource.read();\n                }\n            }\n        },\n    });\n\n    var PivotFieldMenu = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._dataSource();\n\n            this._layout();\n\n            kendo.notify(this);\n        },\n\n        events: [],\n\n        options: {\n            name: \"PivotFieldMenu\",\n            filter: null,\n            filterable: true,\n            sortable: true,\n            messages: {\n                info: \"Show items with value that:\",\n                sortAscending: \"Sort Ascending\",\n                sortDescending: \"Sort Descending\",\n                filterFields: \"Fields Filter\",\n                filter: \"Filter\",\n                include: \"Include Fields...\",\n                title: \"Fields to include\",\n                clear: \"Clear\",\n                ok: \"OK\",\n                cancel: \"Cancel\",\n                operators: {\n                    contains: \"Contains\",\n                    doesnotcontain: \"Does not contain\",\n                    startswith: \"Starts with\",\n                    endswith: \"Ends with\",\n                    eq: \"Is equal to\",\n                    neq: \"Is not equal to\"\n                }\n            }\n        },\n\n        _layout: function() {\n            var options = this.options;\n\n            this.wrapper = $(kendo.template(MENUTEMPLATE)({\n                ns: kendo.ns,\n                filterable: options.filterable,\n                sortable: options.sortable,\n                messages: options.messages\n            }));\n\n            this.menu = this.wrapper[MENU]({\n                filter: options.filter,\n                target: this.element,\n                orientation: \"vertical\",\n                showOn: \"click\",\n                closeOnClick: false,\n                open: this._menuOpen.bind(this),\n                select: this._select.bind(this),\n                copyAnchorStyles: false\n            }).data(MENU);\n\n            this._createWindow();\n\n            if (options.filterable) {\n                this._initFilterForm();\n            }\n        },\n\n        _initFilterForm: function() {\n            var filterForm = this.menu.element.find(\".\" + FILTER_ITEM);\n            var filterProxy = this._filter.bind(this);\n\n            this._filterOperator = new kendo.ui.DropDownList(filterForm.find(\"select\"));\n            this._filterValue = filterForm.find(\"input.k-input-inner\");\n            this._updateFilterAriaLabel();\n\n            filterForm\n                .on(\"submit\" + NS, filterProxy)\n                .on(\"click\" + NS, \".k-button-filter\", filterProxy)\n                .on(\"click\" + NS, \".k-button-clear\", this._reset.bind(this));\n        },\n\n        _setFilterForm: function(expression) {\n            var filterOperator = this._filterOperator;\n            var operator = \"\";\n            var value = \"\";\n\n            if (expression) {\n                operator = expression.operator;\n                value = expression.value;\n            }\n\n            filterOperator.value(operator);\n            if (!filterOperator.value()) {\n                filterOperator.select(0);\n            }\n\n            this._filterValue.val(value);\n        },\n\n        _clearFilters: function(member) {\n            var filter = this.dataSource.filter() || {};\n            var expressions;\n            var idx = 0;\n            var length;\n\n            filter.filters = filter.filters || [];\n            expressions = findFilters({ filter: filter, member: member });\n\n            for (length = expressions.length; idx < length; idx++) {\n                filter.filters.splice(filter.filters.indexOf(expressions[idx]), 1);\n            }\n\n            return filter;\n        },\n\n        _filter: function(e) {\n            var that = this;\n            var value = convert(that._filterValue.val(), that.dataSource, that.currentMember);\n\n            e.preventDefault();\n\n            if (value === \"\") {\n                that.menu.close();\n                return;\n            }\n\n            var expression = {\n                field: that.currentMember,\n                operator: that._filterOperator.value(),\n                value: value\n            };\n            var filter = that._clearFilters(that.currentMember);\n\n            filter.filters.push(expression);\n\n            that.dataSource.filter(filter);\n            that.menu.close();\n        },\n\n        _updateFilterAriaLabel: function() {\n            var filterForm = this.menu.element.find(\".\" + FILTER_ITEM);\n            var selectedOperator = this._filterOperator.value();\n            var selectedOperatorName = this.options.messages.operators[selectedOperator];\n\n            filterForm.find(\"select\").attr(ARIA_LABEL, selectedOperatorName);\n        },\n\n        _reset: function(e) {\n            var that = this;\n            var filter = that._clearFilters(that.currentMember);\n\n            e.preventDefault();\n\n            if (!filter.filters[0]) {\n                filter = {};\n            }\n\n            that.dataSource.filter(filter);\n            that._setFilterForm(null);\n            that.menu.close();\n        },\n\n        _sort: function(dir) {\n            var field = this.currentMember;\n            var expressions = (this.dataSource.sort() || []);\n\n            expressions = removeExpr(expressions, field);\n            expressions.push({\n                field: field,\n                dir: dir\n            });\n\n            this.dataSource.sort(expressions);\n            this.menu.close();\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._dataSource();\n        },\n\n        _dataSource: function() {\n            this.dataSource = kendo.data.PivotDataSource.create(this.options.dataSource);\n        },\n\n        _createWindow: function() {\n            var messages = this.options.messages;\n\n            this.includeWindow = $(kendo.template(WINDOWTEMPLATE)({\n                messages: messages\n            }))\n            .on(\"click\" + NS, \".k-button-ok\", this._applyIncludes.bind(this))\n            .on(\"click\" + NS, \".k-button-cancel\", this._closeWindow.bind(this));\n\n            this.includeWindow = new ui.Window(this.includeWindow, {\n                title: messages.title,\n                visible: false,\n                resizable: false,\n                open: this._windowOpen.bind(this)\n            });\n        },\n\n        _applyIncludes: function(e) {\n            var checkedNodes = [];\n            var resultExpression;\n            var view = this.treeView.dataSource.view();\n            var rootChecked = view[0].checked;\n            var filter = this.dataSource.filter();\n            var existingExpression = findFilters({ filter: filter, member: this.currentMember, operator: \"in\" })[0];\n\n            nodeIds(view, checkedNodes, true);\n\n            if (existingExpression) {\n                if (rootChecked) {\n                    filter.filters.splice(filter.filters.indexOf(existingExpression), 1);\n                    if (!filter.filters.length) {\n                        filter = {};\n                    }\n                } else {\n                    existingExpression.value = checkedNodes.join(\",\");\n                }\n\n                resultExpression = filter;\n            }\n\n            if (checkedNodes.length) {\n                if (!resultExpression && !rootChecked) {\n                    resultExpression = {\n                        field: this.currentMember,\n                        operator: \"in\",\n                        value: checkedNodes.join(\",\")\n                    };\n\n                    if (filter) {\n                        filter.filters.push(resultExpression);\n                        resultExpression = filter;\n                    }\n                }\n            }\n\n            if (resultExpression) {\n                this.dataSource.filter(resultExpression);\n            }\n\n            this._closeWindow(e);\n        },\n\n        _closeWindow: function(e) {\n            e.preventDefault();\n\n            this.includeWindow.close();\n        },\n\n        _treeViewDataSource: function() {\n            var that = this;\n\n            return kendo.data.HierarchicalDataSource.create({\n                schema: {\n                    model: {\n                        id: \"uniqueName\",\n                        hasChildren: function(item) {\n                            return parseInt(item.childrenCardinality, 10) > 0;\n                        }\n                    }\n                },\n                transport: {\n                    read: function(options) {\n                        var restrictions = {};\n                        var node = that.treeView.dataSource.get(options.data.uniqueName);\n                        var name = options.data.uniqueName;\n\n                        if (!name) {\n                            restrictions.levelUniqueName = that.currentMember + \".[(ALL)]\";\n                        } else {\n                            restrictions.memberUniqueName = node.uniqueName.replace(/\\&/g, \"&amp;\");\n                            restrictions.treeOp = 1;\n                        }\n\n                        that.dataSource\n                            .schemaMembers(restrictions)\n                            .done(function(data) {\n                                checkNodes(that.dataSource.filter(), that.currentMember, data);\n\n                                options.success(data);\n                            })\n                            .fail(options.error);\n                    }\n                }\n            });\n        },\n\n        _createTreeView: function(element) {\n            var that = this;\n\n            that.treeView = new ui.TreeView(element, {\n                autoBind: false,\n                dataSource: that._treeViewDataSource(),\n                dataTextField: \"caption\",\n                template: ({ item }) => `${encode(item.caption || item.name)}`,\n                checkboxes: {\n                    checkChildren: true\n                },\n                dataBound: function() {\n                    ui.progress(that.includeWindow.element, false);\n                }\n            });\n        },\n\n        _menuOpen: function(e) {\n            if (!e.event) {\n                return;\n            }\n\n            var attr = kendo.attr(\"name\");\n\n            this.currentMember = $(e.event.target).closest(\"[\" + attr + \"]\").attr(attr);\n\n            if (this.options.filterable) {\n                this._setFilterForm(findFilters({ filter: this.dataSource.filter(), member: this.currentMember })[0]);\n            }\n        },\n\n        _select: function(e) {\n            var item = $(e.item);\n\n            $(\".k-pivot-filter-window\").not(this.includeWindow.element).kendoWindow(\"close\");\n\n            if (item.hasClass(\"k-include-item\")) {\n                this.includeWindow.center().open();\n            } else if (item.hasClass(\"k-sort-asc\")) {\n                this._sort(\"asc\");\n            } else if (item.hasClass(\"k-sort-desc\")) {\n                this._sort(\"desc\");\n            } else if (item.hasClass(FILTER_ITEM)) {\n                this._updateFilterAriaLabel();\n            }\n        },\n\n        _windowOpen: function() {\n            if (!this.treeView) {\n                this._createTreeView(this.includeWindow.element.find(\".k-treeview\"));\n            }\n\n            ui.progress(this.includeWindow.element, true);\n            this.treeView.dataSource.read();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.menu) {\n                this.menu.destroy();\n                this.menu = null;\n            }\n\n            if (this.treeView) {\n                this.treeView.destroy();\n                this.treeView = null;\n            }\n\n            if (this.includeWindow) {\n                this.includeWindow.destroy();\n                this.includeWindow = null;\n            }\n\n            this.wrapper = null;\n            this.element = null;\n        }\n    });\n\n    function convert(value, dataSource, currentMember) {\n        var schema = dataSource.options.schema;\n        var field = ((schema.model || {}).fields || {})[currentMember];\n\n        if (field) {\n            if (field.type === \"number\") {\n                value = parseFloat(value);\n            } else if (field.type === \"boolean\") {\n                value = Boolean($.parseJSON(value));\n            }\n        }\n\n        return value;\n    }\n\n    function removeExpr(expressions, name) {\n        var result = [];\n\n        for (var idx = 0, length = expressions.length; idx < length; idx++) {\n            if (expressions[idx].field !== name) {\n                result.push(expressions[idx]);\n            }\n        }\n\n        return result;\n    }\n\n    function removeFilterByValue(filter, toRemove) {\n        if (!toRemove) {\n            return;\n        }\n\n        filter = filter.filters;\n\n        var idx = 0;\n        var length = filter.length;\n\n        for (idx = length - 1; idx >= 0; idx--) {\n            if (filter[idx].value === toRemove.value && filter[idx].operator === toRemove.operator) {\n                filter.splice(idx, 1);\n            }\n        }\n    }\n\n    function removeFilters(filter, member, operator) {\n        if (!filter) {\n            return;\n        }\n\n        filter = filter.filters;\n\n        var idx = 0;\n        var length = filter.length;\n        var filterOperator;\n\n        for (idx = length - 1; idx >= 0; idx--) {\n            filterOperator = filter[idx].operator;\n\n            if ((operator ? filterOperator === operator : true) && filter[idx].field === member) {\n                filter.splice(idx, 1);\n            }\n        }\n    }\n\n    function findFilters(options) {\n        if (!options.filter) {\n            return [];\n        }\n\n        var filter = options.filter.filters;\n        var idx = 0;\n        var result = [];\n        var length = filter.length;\n        var filterOperator;\n        var operatorInUse = options.isLocal ? \"neq\" : \"in\";\n\n        for ( ; idx < length; idx++) {\n            filterOperator = filter[idx].operator;\n\n            if (((!options.operator && filterOperator !== operatorInUse) || (filterOperator === options.operator)) && filter[idx].field === options.member) {\n                result.push(filter[idx]);\n            }\n        }\n\n        return result;\n    }\n\n    function checkNodesLocal(filter, member, nodes) {\n        var values, idx = 0, length = nodes.length;\n        var filters = findFilters({ filter: filter, member: member, operator: \"neq\" });\n\n        if (nodes[0].name.indexOf(\"[(ALL)]\") >= 0) {\n            nodes[0].checked = !filters.length;\n            return;\n        }\n\n        if (!filters.length) {\n            for (; idx < length; idx++) {\n                nodes[idx].checked = true;\n            }\n        } else {\n            values = filters.map(function(ftr) { return ftr.value; });\n            for (; idx < length; idx++) {\n                nodes[idx].checked = $.inArray(nodes[idx].uniqueName, values) < 0;\n            }\n        }\n    }\n\n    function checkNodes(filter, member, nodes) {\n        var values, idx = 0, length = nodes.length;\n        filter = findFilters({ filter: filter, member: member, operator: \"in\" })[0];\n\n        if (!filter) {\n            for (; idx < length; idx++) {\n                nodes[idx].checked = true;\n            }\n        } else {\n            values = filter.value.split(\",\");\n            for (; idx < length; idx++) {\n                nodes[idx].checked = $.inArray(nodes[idx].uniqueName, values) >= 0;\n            }\n        }\n    }\n\n    function nodeIds(nodes, checkedNodes, checkState) {\n        var idx, length = nodes.length;\n\n        for (idx = 0; idx < length; idx++) {\n            if (nodes[idx].checked === checkState && nodes[idx].level() !== 0) {\n                checkedNodes.push(nodes[idx].uniqueName);\n            }\n\n            if (nodes[idx].hasChildren) {\n                nodeIds(nodes[idx].children.view(), checkedNodes, checkState);\n            }\n        }\n    }\n\n    function includeLocalExpression(view, filter, currentMember) {\n        var nonCheckedNodes = [];\n        removeFilters(filter, currentMember, \"neq\");\n\n        if (!filter) {\n            filter = { logic: 'and', filters: [] };\n        }\n        nodeIds(view, nonCheckedNodes, false);\n\n        if (nonCheckedNodes.length) {\n            for (var idx = 0; idx < nonCheckedNodes.length; idx++) {\n                filter.filters.push({\n                    field: currentMember,\n                    operator: \"neq\",\n                    value: nonCheckedNodes[idx]\n                });\n            }\n        }\n\n        return filter ? filter : null;\n    }\n\n    function includeExpression(view, filter, currentMember) {\n        var checkedNodes = [];\n        var resultExpression;\n        var rootChecked = view[0].checked;\n        var existingExpression = findFilters({ filter: filter, member: currentMember, operator: \"in\" })[0];\n\n        nodeIds(view, checkedNodes, true);\n\n        if (existingExpression) {\n            if (rootChecked) {\n                filter.filters.splice(filter.filters.indexOf(existingExpression), 1);\n                if (!filter.filters.length) {\n                    filter = {};\n                }\n            } else {\n                existingExpression.value = checkedNodes.join(\",\");\n            }\n\n            resultExpression = filter;\n        }\n\n        if (checkedNodes.length) {\n            if (!resultExpression && !rootChecked) {\n                resultExpression = {\n                    field: currentMember,\n                    operator: \"in\",\n                    value: checkedNodes.join(\",\")\n                };\n\n                if (filter) {\n                    filter.filters.push(resultExpression);\n                    resultExpression = filter;\n                }\n            }\n        }\n\n        return resultExpression ? resultExpression : null;\n    }\n\n    var LABELMENUTEMPLATE = (messages) =>\n        '<div class=\"k-filterable k-content\" tabindex=\"-1\" data-role=\"fieldmenu\">' +\n            '<form class=\"k-filter-menu\">' +\n                '<div class=\"k-filter-menu-container\">' +\n                    `<div class=\"k-filter-help-text\">${messages.info}</div>` +\n                    '<select>' +\n                        `${Object.keys(messages.operators).map(op => '<option value=\"' + op + '\">' + messages.operators[op] + '</option>').join(\"\")}` +\n                    '</select>' +\n                    `<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" type=\"text\" ${ARIA_LABEL}=\"${messages.filter}\" title=\"${messages.filter}\" /></span>` +\n                    '<div class=\"k-action-buttons\">' +\n                        `<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-button-filter\" href=\"#\"><span class=\"k-button-text\">${messages.filter}</span></a>` +\n                        `<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-button-clear\" href=\"#\"><span class=\"k-button-text\">${messages.clear}</span></a>` +\n                    '</div>' +\n                '</div>' +\n            '</form>' +\n        '</div>';\n\n    var MENUTEMPLATEV2 = ({ messages }) =>\n        '<div class=\"k-pivotgrid-column-menu k-column-menu k-popup k-child-animation-container\">' +\n            '<div class=\"k-pivotgrid-column-menu-popup k-grid-columnmenu-popup\">' +\n                '<div>' +\n                    '<div class=\"k-columnmenu-item-wrapper\">' +\n                        '<div class=\"k-columnmenu-item k-item\">' +\n                            `<span class=\"k-icon k-i-sort-asc-sm\"></span>${encode(messages.sortAscending)}` +\n                        '</div>' +\n                        '<div class=\"k-columnmenu-item k-item\">' +\n                            `<span class=\"k-icon k-i-sort-desc-sm\"></span>${encode(messages.sortDescending)}` +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-columnmenu-item-wrapper\">' +\n                        '<div class=\"k-widget k-expander k-item\">' +\n                            '<div class=\"k-columnmenu-item\">' +\n                                `<span class=\"k-icon k-i-grid-layout\"></span>${encode(messages.include)}` +\n                                '<span class=\"k-expander-spacer\"></span>' +\n                                '<span class=\"k-expander-indicator k-icon k-i-arrow-chevron-down\"></span>' +\n                            '</div>' +\n                        '</div>' +\n                        '<div class=\"k-columnmenu-item-content\" style=\"width: 100%; height: auto; display:none\">' +\n                            '<div class=\"k-column-list-wrapper\">' +\n                                '<div class=\"k-column-list\">' +\n                                    '<div class=\"k-treeview\">' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                            '<div class=\"k-actions k-hstack k-justify-content-stretch\">' +\n                                `<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-button-includes-reset\"><span class=\"k-button-text\">${encode(messages.reset)}</span></button>` +\n                                `<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-button-includes-apply\"><span class=\"k-button-text\">${encode(messages.apply)}</span></button>` +\n                            '</div>' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-columnmenu-item-wrapper\">' +\n                        '<div class=\"k-widget k-expander k-item\">' +\n                            '<div class=\"k-columnmenu-item\">' +\n                                `<span class=\"k-icon k-i-filter\"></span>${encode(messages.filterFields)}` +\n                                '<span class=\"k-expander-spacer\"></span>' +\n                                '<span class=\"k-expander-indicator k-icon k-i-arrow-chevron-down\"></span>' +\n                            '</div>' +\n                        '</div>' +\n                        '<div class=\"k-columnmenu-item-content\" style=\"display:none\">' +\n                            '<div class=\"k-animation-container k-animation-container-relative\" style=\"display: block; \">' +\n                                '<div class=\"k-child-animation-container\">' +\n                                    '<div class=\"kendo-grid-filter-menu-container\">' +\n                                        '<form class=\"k-filter-menu k-group k-reset\">' +\n                                            '<div class=\"k-filter-menu-container\">' +\n                                                    '<select class=\"k-dropdown k-picker k-dropdown-list\" style=\"overflow:visible\">' +\n                                                        `${Object.keys(messages.operators).map(op => '<option value=\"' + op + '\">' + messages.operators[op] + '</option>').join(\"\")}` +\n                                                    '</select>' +\n                                                    '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" value=\"\"></span>' +\n                                                '<div class=\"k-actions k-hstack k-justify-content-stretch\">' +\n                                                    `<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-button-filter-clear\"><span class=\"k-button-text\">${(messages.clear)}</span></button>` +\n                                                    `<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-button-filter\"><span class=\"k-button-text\">${encode(messages.filter)}</span></button>` +\n                                                '</div>' +\n                                            '</div>' +\n                                        '</form>' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>' +\n        '</div>';\n\n    var MENU_TEMPLATE_SORTABLE_PARTIAL = (messages, sortable, filterable) => {\n        var result = '';\n\n        if (sortable) {\n            result += '<li class=\"k-item k-menu-item k-sort-asc\">' +\n            '<span class=\"k-link k-menu-link\">' +\n            '<span class=\"k-icon k-i-sort-asc-sm\"></span>' +\n            `<span class=\"k-menu-link-text\">${messages.sortAscending}</span>` +\n            '</span>' +\n            '</li>' +\n            '<li class=\"k-item k-menu-item k-sort-desc\">' +\n            '<span class=\"k-link k-menu-link\">' +\n            '<span class=\"k-icon k-i-sort-desc-sm\"></span>' +\n            `<span class=\"k-menu-link-text\">${messages.sortDescending}</span>` +\n            '</span>' +\n            '</li>';\n\n            if (filterable) {\n                result += '<li class=\"k-separator\"></li>';\n            }\n        }\n\n        return result;\n    };\n\n    var MENU_TEMPLATE_FILTERABLE_PARTIAL = (messages, filterable) => {\n        var result = '';\n\n        if (filterable) {\n            result += '<li class=\"k-item k-menu-item k-include-item\">' +\n                '<span class=\"k-link k-menu-link\">' +\n                '<span class=\"k-icon k-i-filter\"></span>' +\n                `<span class=\"k-menu-link-text\">${messages.include}</span>` +\n                '</span>' +\n                '</li>' +\n                '<li class=\"k-separator\"></li>' +\n                '<li class=\"k-item k-menu-item ' + FILTER_ITEM + '\">' +\n                '<span class=\"k-link k-menu-link\">' +\n                '<span class=\"k-icon k-i-filter\"></span>' +\n                `<span class=\"k-menu-link-text\">${messages.filterFields}</span>` +\n                '</span>' +\n                '<ul>' +\n                '<li>' + LABELMENUTEMPLATE(messages) + '</li>' +\n                '</ul>' +\n                '</li>';\n        }\n\n        return result;\n    };\n\n    var MENUTEMPLATE = ({ messages, filterable, sortable }) => '<ul class=\"k-pivot-fieldmenu\">' +\n                        MENU_TEMPLATE_SORTABLE_PARTIAL(messages, sortable, filterable) +\n                        MENU_TEMPLATE_FILTERABLE_PARTIAL(messages, filterable) +\n                    '</ul>';\n\n    var WINDOWTEMPLATE = ({ messages }) => '<div class=\"k-popup-edit-form k-pivot-filter-window\"><div class=\"k-edit-form-container\">' +\n                            '<div class=\"k-treeview\"></div>' +\n                            '<div class=\"k-edit-buttons\">' +\n                                '<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-button-ok\" href=\"#\">' +\n                                    '<span class=\"k-button-text\">' +\n                                        `${messages.ok}` +\n                                    '</span>' +\n                                '</a>' +\n                                '<a class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-button-cancel\" href=\"#\">' +\n                                    '<span class=\"k-button-text\">' +\n                                        `${messages.cancel}` +\n                                    '</span>' +\n                                '</a>' +\n                        '</div></div>';\n\n    ui.plugin(PivotFieldMenu);\n    ui.plugin(PivotFieldMenuV2);\n\n})(window.kendo.jQuery);\n"]}