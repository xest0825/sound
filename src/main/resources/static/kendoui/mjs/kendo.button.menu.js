/**
 * Kendo UI v2023.1.117 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.popup.js";var __meta__={id:"button.menu",name:"ButtonMenu",category:"web",description:"The popup Menu list part of the SplitButton and the DropDownButton",depends:["core","popup"]};!function(t,e){var n=window.kendo,i=n.ui.Widget,s=".kendoButtonMenu",l=n.ui,o=n.keys,a=n.htmlEncode,r=t.extend,p=".",u="id",d="next",c="k-disabled",m="aria-disabled",g="tabindex",f="click",k="menuClick",h="menuOpen",_="menuClose",C="keydown",b="focus",v="k-menu-popup",y="k-group k-menu-group k-reset",$="k-item k-menu-item",B="k-menu-item",w="k-menu-link-text",x="k-link k-menu-link",E="k-sprite",H="k-image",P="k-icon",D={text:null,icon:null,url:null,attributes:null,enabled:!0,hidden:!1,id:null,imageUrl:null,spriteCssClass:null},T=({imageUrl:t})=>""+(t?`<img alt="icon" class="${H}" src="${a(t)}" />`:""),U=({spriteCssClass:t})=>""+(t?`<span class="${E} ${a(t)}"></span>`:""),I=({icon:t})=>""+(t?`<span class="${P} k-i-${a(t)}"></span>`:""),M=({text:t})=>""+(t?`<span class="${w}">${a(t)}</span>`:""),O=({imageUrl:t,spriteCssClass:e,icon:n,text:i})=>`<span class="${x}">${T({imageUrl:t})}${U({spriteCssClass:e})}${I({icon:n})}${M({text:i})}</span>`,A=({url:t,imageUrl:e,spriteCssClass:n,icon:i,text:s,attributes:l})=>`<a href="${a(t)}" ${l.target?`target="${l.target}"`:""} class="${x}">${T({imageUrl:e})}${U({spriteCssClass:n})}${I({icon:i})}${M({text:s})}</a>`;function F(e,n){var i=n===d?t.fn.next:t.fn.prev,s=n===d?t.fn.first:t.fn.last,l=i.call(e),o=":kendoFocusable";return l.length||(l=s.call(e.parent().find(p+B))),l.is(o)||!l.length?l:l.find(o).length?s.call(l.find(o)):F(l,n)}var j=i.extend({init:function(t,e){var n=this;i.fn.init.call(n,t,e),n.mainButton=e.mainButton,n._clickHandlers={},n._renderList(),n._initPopup(),n._attachEvents(),n._applyCssClasses(n.list)},options:{name:"ButtonMenu",element:null,items:[],size:"medium"},events:[k,h,_],_renderList:function(){var e=this,i=e.options.items,s=e.element.addClass(v),l=e.mainButton.attr(u)||n.guid(),o=t('<ul role="menu"></ul>').addClass(y);e.list=o.appendTo(s),e.list.attr(u,l+"_buttonmenu"),i.forEach(e._renderListItem.bind(e))},_renderListItem:function(e){var i,s,l=this;i=(e=r({},D,e,{enabled:e.enable&&e.enabled})).id||n.guid(),s=t('<li id="'+i+'" role="menuitem" class="'+$+'">'+l._renderItemButton(e)+"</li>"),e.click&&(l._clickHandlers[i]=e.click),e.attributes&&(delete e.attributes.target,s.attr(e.attributes)),e.data&&n.isFunction(e.data)&&s.data(e.data(e)),l.list.append(s),l.enable(e.enabled,s),l._hide(e.hidden,s)},_renderItemButton:function(t){var e=this.options;return e.itemTemplate?n.template(e.itemTemplate)(t):t.url?n.template(A)(t):n.template(O)(t)},_initPopup:function(){var t=this,e=t.options;t._popup=new l.Popup(t.element,r({},e.popup,{anchor:t.mainButton,isRtl:t._isRtl,toggleTarget:e.toggleTarget,copyAnchorStyles:!1,animation:e.animation,open:t._popupOpenHandler.bind(t),close:t._popupCloseHandler.bind(t),activate:t._popupExpandHandler.bind(t)}))},_popupOpenHandler:function(t){this.trigger(h)?t.preventDefault():this.list.find(p+B).attr(g,0)},_popupCloseHandler:function(t){this.trigger(_)&&t.preventDefault(),this.list.find(p+B).attr(g,-1)},_popupExpandHandler:function(){this.list.find(":kendoFocusable").first().trigger(b)},adjustPopupWidth:function(t){this.element.addClass("k-split-wrapper"),this.element.css({"min-width":t})},_attachEvents:function(){var t=this;t.list.on(f+s,p+B,t._click.bind(t)).on(C+s,p+B,t.listItemKeydown.bind(t)),t.mainButton.on(C+s,t._keydown.bind(t))},_keydown:function(e){if(!t(e.target).is(".k-disabled")&&!t(e.target).parents(".k-disabled").length)return e.altKey&&e.keyCode===o.DOWN?(this._popup.open(),void e.preventDefault()):void 0},listItemKeydown:function(e){var n=this,i=t(e.target);e.preventDefault(),e.keyCode===o.ESC||e.keyCode===o.TAB||e.altKey&&e.keyCode===o.UP?(n._popup.close(),n.mainButton.trigger(b)):e.keyCode===o.DOWN?F(i,d).trigger(b):e.keyCode===o.UP?F(i,"prev").trigger(b):i.is(".k-disabled")||e.keyCode!==o.SPACEBAR&&e.keyCode!==o.ENTER?e.keyCode===o.HOME?n.list.find(":kendoFocusable").filter(p+B).first().trigger(b):e.keyCode===o.END&&n.list.find(":kendoFocusable").filter(p+B).last().trigger(b):i.trigger(f)},_click:function(e){var n=this,i=t(e.target).closest(p+B),s=i.attr(u);n._clickHandlers[s]&&n._clickHandlers[s](e),n.trigger(k,{id:s,target:i,type:"menu-click",originalEvent:e})},toggle:function(){this._popup.toggle()},enable:function(t,e){(e=e&&e.length?this.list.find(e):this.items()).toggleClass(c,!t),t?e.removeAttr(m):e.attr(m,!t)},_hide:function(t,e){(e=e&&e.length?this.list.find(e):this.items()).toggleClass("k-hidden",t)},hide:function(t){this._hide(!0,t)},show:function(t){this._hide(!1,t)},close:function(){this._popup.close()},items:function(){return this.list.children(p+B)},destroyPopup:function(){var t=this;t._popup&&(t._popup.destroy(),t._popup=null,t.list.off(s),t.list.remove(),t.list=null)},destroy:function(){var t=this;delete t._clickHandlers,t.destroyPopup(),t.mainButton.off(s),i.fn.destroy.call(t)}});n.cssProperties.registerPrefix("ButtonMenu","k-menu-group-"),l.plugin(j)}(window.kendo.jQuery);
//# sourceMappingURL=kendo.button.menu.js.map
