/**
 * Kendo UI v2023.1.117 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.dropdownlist.js";import"./kendo.datepicker.js";import"./kendo.numerictextbox.js";import"./kendo.buttongroup.js";var __meta__={id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox","buttongroup"],hidden:!0};!function(e,t){var a=window.kendo,n=a.htmlEncode,r=a.timezone,i=a.Class,s=a.ui,l=s.Widget,o=s.DropDownList,u=s.ButtonGroup,d=a.date,c=d.setTime,f=d.setDayOfWeek,p=d.adjustDST,y=d.firstDayOfMonth,m=d.getMilliseconds,v=[0,31,60,91,121,152,182,213,244,274,305,335,366],k=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=[31,28,31,30,31,30,31,31,30,31,30,31],g={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},_={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},w=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],D=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],b=D.length,T={months:function(e,t,a){var n=a.months,r=U(n,e.getMonth()+1),i=!1;return null!==r&&(r.length?e.setMonth(r[0]-1,1):e.setFullYear(e.getFullYear()+1,n[0]-1,1),i=!0),i},monthDays:function(e,t,a){for(var n,r,i,s=!1,l=e.getHours(),o=function(e){return e<0&&(e=n+e+1),e};e<=t;){if(r=e.getMonth(),n=C(e),null===(i=U(a.monthDays,e.getDate(),o)))return s;if(s=!0,i.length){if(e.setMonth(r,i.sort(j)[0]),p(e,l),r===e.getMonth())break}else e.setMonth(r+1,1)}return s},yearDays:function(e,t,a){for(var n,r,i=!1,s=e.getHours(),l=function(e){return e<0&&(e=n+e),e};e<t;){if(n=L(e)?366:365,null===(r=U(a.yearDays,B(e),l)))return i;if(i=!0,n=e.getFullYear(),r.length){e.setFullYear(n,0,r.sort(j)[0]),p(e,s);break}e.setFullYear(n+1,0,1)}return i},weeks:function(e,t,a){for(var n,r,i,s=a.weekStart,l=!1,o=e.getHours(),u=function(e){return e<0&&(e=53+e),e};e<t;){if(null===(r=U(a.weeks,q(e,s),u)))return l;if(l=!0,n=e.getFullYear(),r.length){i=7*r.sort(j)[0]-1,e.setFullYear(n,0,i),f(e,s,-1),p(e,o);break}e.setFullYear(n+1,0,1)}return l},weekDays:function(e,t,a){var n,r,i=new Date(e.getTime()+a.offsets.start),s=i.getDay()-e.getDay(),l=a.weekDays,o=a.weekStart,u=function(e,t,a){for(var n,r,i,s,l=z(t.getDay(),a),o=e.length,u=[],d=0;d<o;d++)if(r=e[d],s=N(t,a),null!==(n=V(t,r,a)))if(s<n)u.push(r);else if(s===n)if(l<(i=z(r.day,a)))u.push(r);else if(l===i)return null;return u}(l,i,o),d=e.getHours();if(null===u)return!1;if((n=u[0])||(("monthly"===a.freq&&!a.positions||a.position>0)&&l.forEach((function(t){var a=new Date(e.getFullYear(),e.getMonth()+1,1),r=z(t.day,o);a.getDay()<=r&&(!n||z(n.day,o)>r)&&(n=t)})),n||(n=l[0]),f(e,o)),r=n.day,r-=s,n.offset)for(;e<=t&&!P(e,n,o);)N(e,o)===W(e,o)?(e.setMonth(e.getMonth()+1,1),p(e,d)):(e.setDate(e.getDate()+7),p(e,d),f(e,o,-1));return e.getDay()!==r&&f(e,r),!0},hours:function(e,t,a){var n=a.hours,r=a._startTime,i=r.getHours(),s=U(n,i),l=!1;return null!==s&&(l=!0,e.setHours(i),p(e,i),s.length?(s=s[0],e.setHours(s)):(s=e.getHours(),e.setDate(e.getDate()+1),p(e,s),s=n[0],e.setHours(s),p(e,s)),a.minutes&&e.setMinutes(0),r.setHours(s,e.getMinutes())),l},minutes:function(e,t,a){var n=a.minutes,r=U(n,e.getMinutes()),i=a._startTime.getHours(),s=!1;return null!==r&&(s=!0,r.length?r=r[0]:(i+=1,r=n[0]),a.seconds&&e.setSeconds(0),e.setHours(i,r),p(e,i%=24),a._startTime.setHours(i,r,e.getSeconds())),s},seconds:function(e,t,a){var n=a.seconds,r=a._startTime.getHours(),i=U(n,e.getSeconds()),s=e.getMinutes(),l=!1;return null!==i&&(l=!0,i.length?e.setSeconds(i[0]):(s+=1,e.setMinutes(s,n[0]),s>59&&(s%=60,r=(r+1)%24)),a._startTime.setHours(r,s,e.getSeconds())),l}},M=i.extend({next:function(e,t){var a,n,r=t._startTime,i=r.getDate();if(t.seconds)n=e.getSeconds()+1,e.setSeconds(n),r.setSeconds(n),r.setDate(i);else{if(!t.minutes)return!1;a=e.getMinutes()+1,e.setMinutes(a),r.setMinutes(a),r.setDate(i)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,a,n){for(var r,i,s,l,o,u=n.interval;e<=a;){for(s=i=t,o=e.getDate(),l=0;l<b;l++){if(n[r=D[l]]){if(s=T[r](e,a,n),i!==t&&s)break;i=s}s&&this.normalize({date:e,rule:n,day:o,idx:l})}if((1===u||!this.interval(n,e))&&l===b)break}},interval:function(e,t){var a,n,r=new Date(e._startPeriod),i=new Date(t),s=t.getHours(),l=e.weekStart,o=e.interval,u=e.freq,c=!1,f=0,y=0,m=1;if("hourly"===u)a=i.getTimezoneOffset()-r.getTimezoneOffset(),n=e._startTime.getHours(),i=i.getTime(),s!==n&&(i+=(n-s)*d.MS_PER_HOUR),i-=r,a&&(i-=a*d.MS_PER_MINUTE),0!==(f=F(a=Math.floor(i/d.MS_PER_HOUR),o))&&(this._hour(t,e,f),c=!0);else if("daily"===u)d.setTime(i,-r,!0),0!==(f=F(a=Math.round(i/d.MS_PER_DAY),o))&&(this._date(t,e,f),c=!0);else if("weekly"===u){f=this._getNumberOfWeeksBetweenDates(r,t),z(t.getDay(),l)<z(r.getDay(),l)&&(f+=1),0!==(f=F(f,o))&&(d.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*f),p(t,s),c=!0)}else"monthly"===u?(a=t.getFullYear()-r.getFullYear(),0!==(f=F(a=t.getMonth()-r.getMonth()+12*a,o))&&(m=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+f,m),p(t,s),c=!0)):"yearly"===u&&(f=F(a=t.getFullYear()-r.getFullYear(),o),e.months||(y=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(m=t.getDate()),0!==f&&(t.setFullYear(t.getFullYear()+f,y,m),p(t,s),c=!0));return c},_getNumberOfWeeksBetweenDates:function(e,t){var a=(t-e)/6048e5,n=Math.floor(a);return a-n>.99&&(n=Math.round(a)),n},_hour:function(e,t,a){var n=t._startTime,r=n.getHours();a&&(r+=a),e.setHours(r),r%=24,n.setHours(r),p(e,r)},_date:function(e,t,a){var n=e.getHours();e.setDate(e.getDate()+a),p(e,n)||this._hour(e,t)}}),x=M.extend({next:function(e,t){M.fn.next(e,t)||this._hour(e,t,1)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),E=M.extend({next:function(e,t){M.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1)}}),O=E.extend({setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),$=M.extend({next:function(e,t){var a,n;if(!M.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(a=e.getDate(),n=e.getHours(),e.setMonth(e.getMonth()+1),p(e,n);e.getDate()!==a;)e.setDate(a),p(e,n);this._hour(e,t)}},normalize:function(e){var t=e.rule,a=e.date,n=a.getHours();0!==e.idx||t.monthDays||t.weekDays?M.fn.normalize(e):(a.setDate(e.day),p(a,n))},setup:function(e,t,a){e.monthDays||e.weekDays||a.setDate(t.getDate())}}),H=$.extend({next:function(e,t){var a,n=e.getHours();if(!M.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(a=e.getDate(),e.setMonth(e.getMonth()+1),p(e,n);e.getDate()!==a;)e.setDate(a),p(e,n);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),p(e,n),this._hour(e,t)},setup:function(){}}),Y={hourly:new x,daily:new E,weekly:new O,monthly:new $,yearly:new H},S="click",R="change";function F(e,t){var a;return 0!==e&&e<t?a=t-e:(a=e%t)&&(a=t-a),a}function B(e){var t=e.getMonth();return(L(e)?v[t]:k[t])+e.getDate()}function q(e,a){var n,r;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),p(e,0),n=e.getFullYear(),a!==t?(f(e,a,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),p(e,0),r=Math.floor((e.getTime()-new Date(n,0,1,-6))/864e5),1+Math.floor(r/7)}function N(e,t){var a=7-(y(e).getDay()+7-(t||7))||7;return a<0&&(a+=7),Math.ceil((e.getDate()-a)/7)+1}function z(e,t){return e+(e<t?7:0)}function V(e,t,a){var n=t.offset;if(!n)return N(e,a);var r=new Date(e.getFullYear(),e.getMonth()+1,0),i=N(r,a),s=z(t.day,a),l=s<z(new Date(e.getFullYear(),e.getMonth(),1).getDay(),a),o=s>z(r.getDay(),a);return n<0?n=i+(n+1-(o?1:0)):l&&(n+=1),i-=o?1:0,n<(l?1:0)||n>i?null:n}function W(e,t){return N(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function P(e,t,a){return N(e,a)===V(e,t,a)}function U(e,t,a){for(var n,r=0,i=e.length,s=[];r<i;r++){if(n=e[r],a&&(n=a(n)),t===n)return null;t<n&&s.push(n)}return s}function A(e,t){for(var a,n=0,r=e.length;n<r;n++){if(a=parseInt(e[n],10),isNaN(a)||a<t.start||a>t.end||0===a&&t.start<0)return null;e[n]=a}return e.sort(j)}function I(e){for(var a,n,r,i=0,s=e.length;i<s;i++){if(n=(a=e[i]).length,r=a.substring(n-2).toUpperCase(),(r=_[r])===t)return null;e[i]={offset:parseInt(a.substring(0,n-2),10)||0,day:r}}return e}function C(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:h[t]}function L(e){return(e=e.getFullYear())%4==0&&e%100!=0||e%400==0}function j(e,t){return e-t}function G(e,t){var a,n,r=0,i=[];if(e)for(a=(e=e.split(-1!==e.indexOf(";")?";":",")).length;r<a;r++)(n=te(e[r],t))&&i.push(n);return i}function Z(e,t,a){for(var n=Array.isArray(e)?e:G(e,a),r=t.getTime()-t.getMilliseconds(),i=0,s=n.length;i<s;i++)if(n[i].getTime()===r)return!0;return!1}function K(e,t){var n,r,i=0,s=[].concat(e);for(n=s.length;i<n;i++)r=s[i],r=a.timezone.convert(r,t||r.getTimezoneOffset(),"Etc/UTC"),s[i]=a.toString(r,"yyyyMMddTHHmmssZ");return s.join(",")}function Q(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),11,31);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth()+1,0);break;case"weekly":f(a,t.weekStart,-1),a.setDate(a.getDate()+6)}return t.hours&&a.setHours(23),t.minutes&&a.setMinutes(59),t.seconds&&a.setSeconds(59),a}function X(e,t,a,n){for(var r,i,s,l=e.length,o=[],u=0,d=a.length;u<d;u++)(r=a[u])<0?r=l+r:r-=1,i=e[r],s=!n||i.start<n,i&&i.start>=t&&s&&o.push(i);return o}function J(e,t,a){for(var n,r=[],i=0;i<e.length;i++)Z(t,(n=e[i]).start,a)||r.push(n);return r}function ee(e,t){return t?a.timezone.offset(e,t):e.getTimezoneOffset()}function te(e,t){return(e=a.parseDate(e,w))&&t&&(e=r.apply(e,t)),e}function ae(e,t){for(var a,n,r,i,s,l,o=e.split(";"),u=0,d=o.length;u<d;u++)if(n=(a=o[u].split(":"))[0],r=a[1],-1!==n.indexOf("TZID")&&(i=n.substring(n.indexOf("TZID")).split("=")[1]),r)for(s=0,l=(r=r.split(",")).length;s<l;s++)r[s]=te(r[s],i||t);if(r)return{value:r,tzid:i}}function ne(e,n,r){var i,s,l,o,u,d,c,f,p={},y=0,m=!1;if(!e)return null;for((d=e.split("\n"))[1]||-1===e.indexOf("DTSTART")&&-1===e.indexOf("DTEND")&&-1===e.indexOf("EXDATE")||(d=e.split(" ")),y=0,l=d.length;y<l;y++)-1!==(u=a.trim(d[y])).indexOf("DTSTART")?p.start=ae(u,n):-1!==u.indexOf("DTEND")?p.end=ae(u,n):-1!==u.indexOf("EXDATE")?p.exdates=ae(u,n):-1!==u.indexOf("RRULE")?o=u.substring(6):a.trim(u)&&(o=u);for(y=0,l=(o=o.split(";")).length;y<l;y++)switch(i=o[y].split("="),s=a.trim(i[1]).split(","),a.trim(i[0]).toUpperCase()){case"FREQ":p.freq=s[0].toLowerCase();break;case"UNTIL":p.until=te(s[0],n);break;case"COUNT":p.count=parseInt(s[0],10);break;case"INTERVAL":p.interval=parseInt(s[0],10);break;case"BYSECOND":p.seconds=A(s,{start:0,end:60}),m=!0;break;case"BYMINUTE":p.minutes=A(s,{start:0,end:59}),m=!0;break;case"BYHOUR":p.hours=A(s,{start:0,end:23}),m=!0;break;case"BYMONTHDAY":p.monthDays=A(s,{start:-31,end:31}),m=!0;break;case"BYYEARDAY":p.yearDays=A(s,{start:-366,end:366}),m=!0;break;case"BYMONTH":p.months=A(s,{start:1,end:12}),m=!0;break;case"BYDAY":p.weekDays=f=I(s),m=!0;break;case"BYWEEKNO":p.weeks=A(s,{start:-53,end:53}),m=!0;break;case"BYSETPOS":p.positions=A(s,{start:-366,end:366});break;case"WKST":p.weekStart=c=_[s[0]]}return p.freq===t||p.count!==t&&p.until?null:(p.interval||(p.interval=1),c===t&&(p.weekStart=c=a.culture().calendar.firstDay),f&&(p.weekDays=f.sort((function(e,t){var a=e.day,n=t.day;return a<c&&(a+=7),n<c&&(n+=7),a-n}))),p.positions&&!m&&(p.positions=null),p._hasRuleValue=m,p.offsets=r,p)}function re(e,t){for(var n,i=e.value,s=e.tzid||"",l=i.length,o=0;o<l;o++)n=i[o],n=r.convert(n,s||t||n.getTimezoneOffset(),"Etc/UTC"),i[o]=a.toString(n,"yyyyMMddTHHmmssZ");return s&&(s=";TZID="+s),s+":"+i.join(",")+" "}function ie(e,n){var i=e.weekStart,s="FREQ="+e.freq.toUpperCase(),l=e.exdates||"",o=e.start||"",u=e.end||"",d=e.until;return i===t&&(i=a.culture().calendar.firstDay),e.interval>1&&(s+=";INTERVAL="+e.interval),e.count&&(s+=";COUNT="+e.count),d&&(d=r.convert(d,n||d.getTimezoneOffset(),"Etc/UTC"),s+=";UNTIL="+a.toString(d,"yyyyMMddTHHmmssZ")),e.months&&(s+=";BYMONTH="+e.months),e.weeks&&(s+=";BYWEEKNO="+e.weeks),e.yearDays&&(s+=";BYYEARDAY="+e.yearDays),e.monthDays&&(s+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(s+=";BYDAY="+function(e){for(var t,a,n=0,r=e.length,i=[];n<r;n++)"string"==typeof(t=e[n])?a=t:(a=""+g[t.day],t.offset&&(a=t.offset+a)),i.push(a);return i.toString()}(e.weekDays)),e.hours&&(s+=";BYHOUR="+e.hours),e.minutes&&(s+=";BYMINUTE="+e.minutes),e.seconds&&(s+=";BYSECOND="+e.seconds),e.positions&&(s+=";BYSETPOS="+e.positions),i!==t&&(s+=";WKST="+g[i]),o&&(o="DTSTART"+re(o,n)),u&&(u="DTEND"+re(u,n)),l&&(l="EXDATE"+re(l,n)),(o||u||l)&&(s=o+u+l+"RRULE:"+s),s}a.recurrence={rule:{parse:ne,serialize:ie},expand:function(e,n,r,i){var s,l,o,u,p,y,v,k,h,g,_,w,D,b,T,M,x,E,O,$,H,S,R,F,B,q,N=[];if(!(s=ne(e.recurrenceRule,i,{start:(ee(e.start,i)-ee(e.start,e.startTimezone||i))*a.date.MS_PER_MINUTE,end:(ee(e.end,i)-ee(e.end,e.endTimezone||i))*a.date.MS_PER_MINUTE})))return[e];H=($=s.positions)?0:1,g=s.start,_=s.end,(g||_)&&(e=e.clone({start:g?new Date(g.value[0]):t,end:_?new Date(_.value[0]):t})),M=(x=e.start).getTime(),T=m(x),!(b=G(e.recurrenceException,i))[0]&&s.exdates&&(b=s.exdates.value,e.set("recurrenceException",K(b,i))),h=n=new Date(n),r=new Date(r),D=s.freq,O=Y[D],E=s.count,s.until&&s.until<r&&(r=new Date(s.until)),w="yearly"===D||"monthly"===D||"weekly"===D,n<M||E||s.interval>1||w||("daily"===D||"hourly"===D)&&!s.seconds?n=new Date(M):(p=n.getHours(),y=n.getMinutes(),v=n.getSeconds(),s.hours||(p=x.getHours()),s.minutes||(y=x.getMinutes()),s.seconds||(v=x.getSeconds()),n.setHours(p,y,v,x.getMilliseconds())),s._startPeriod=new Date(n),$&&(n=function(e,t){var a=new Date(e);switch(t.freq){case"yearly":a.setFullYear(a.getFullYear(),0,1);break;case"monthly":a.setFullYear(a.getFullYear(),a.getMonth(),1);break;case"weekly":f(a,t.weekStart,-1)}return t.hours&&a.setHours(0),t.minutes&&a.setMinutes(0),t.seconds&&a.setSeconds(0),a}(n,s),r=Q(r,s),m(r)-m(n)<0&&(p=n.getHours(),r.setHours(p,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),d.adjustDST(r,p)),s._startPeriod=new Date(n),s._endPeriod=Q(n,s)),k=e.duration();var z,V,W,P,U=e.isAllDay?864e5:0;for(s._startTime=l=d.toInvariantTime(n),O.setup&&O.setup(s,x,n),O.limit(n,r,s);n<=r;){u=new Date(n),c(u,k);var A=new Date(n);if(c(A,k+U),(n>=h||A>h)&&!Z(b,n,i)||$)if(o=(l=d.toUtcTime(d.getDate(n))+m(s._startTime))+k,M!==n.getTime()||T!==m(s._startTime)){var I=e.startTimezone||e.endTimezone,C=e.endTimezone||e.startTimezone;if(!e.isAllDay&&(i&&I||!i&&!I)){var L=ee(n,i)-ee(e.start,i),j=ee(u,i)-ee(e.end,i),te=ee(n,I)-ee(e.start,I),ae=ee(u,C)-ee(e.end,C);if(L!==te){var re=6e4*(L-te);R=new Date(n.getTime()-re),B=l-re}if(j!==ae){var ie=6e4*(j-ae);F=new Date(u.getTime()-ie),q=o-ie}}N.push(e.toOccurrence({start:R||new Date(n),end:F||u,_startTime:B||l,_endTime:q||o})),R=F=B=q=null}else e._startTime=l,e._endTime=o,N.push(e);if($){if(O.next(n,s),O.limit(n,r,s),n>s._endPeriod&&(S=J(S=X(N.slice(H),x,$,s.until),b,i),N=N.slice(0,H).concat(S),s._endPeriod=Q(n,s),H=N.length),E&&E===H)break}else{if(E&&E===H)break;H+=1;var se=(V=void 0,W=void 0,P=void 0,V=(z=n).getTimezoneOffset(),W=new Date(z.getTime()-36e5),P=W.getTimezoneOffset(),V<P);O.next(n,s),se&&"hourly"!==s.freq&&d.toInvariantTime(e.start).getTime()!==d.toInvariantTime(n).getTime()&&(s._startTime=l=new Date(n.getTime()-36e5)),O.limit(n,r,s)}}return N},dayInYear:B,weekInYear:q,weekInMonth:N,numberOfWeeks:W,isException:Z,toExceptionString:K};var se=a.template((({frequency:e,messages:t,end:a})=>("never"!==e?`<div class="k-form-field"><label id="recur_interval_label" class="k-label k-form-label" for="recur_interval">${n(t.repeatEvery)}</label><div class="k-form-field-wrap"><input id="recur_interval" class="k-recur-interval" title="${n(t.repeatEvery)} ${n(t.interval)}" aria-labelledby="recur_interval_label">${n(t.interval)}</div></div>`:"")+("weekly"===e?`<div class="k-form-field"><label class="k-label k-form-label">${n(t.repeatOn)}</label><div class="k-form-field-wrap"><div class="k-button-group-stretched k-recur-weekday-buttons" title="${n(t.repeatOn)}"></div></div></div></div>`:"")+("monthly"===e?`<div class="k-form-field"><label class="k-label k-form-label">${n(t.repeatOn)}</label></div><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="monthday" title="${n(t.repeatOn)}" />${n(t.date)}:</label><input class="k-recur-monthday" aria-label="${n(t.date)}" title="${n(t.date)}" /></li><li class="k-radio-item"><input class="k-recur-month-radio k-radio k-radio-md" type="radio" name="month" value="weekday" aria-label="${n(t.repeatOn)} ${n(t.day)}" title="${n(t.repeatOn)} ${n(t.day)}" /><input class="k-recur-weekday-offset" title="${n(t.repeatOn)}" style="width:8em;" /><input class="k-recur-weekday" title="${n(t.day)}" style="width:8em;" /></li></ul></div></div>`:"")+("yearly"===e?`<div class="k-form-field"><label class="k-label k-form-label">${n(t.repeatOn)}</label><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="monthday" title="${n(t.repeatOn)} ${n(t.month)}" /><input class="k-recur-month" aria-label="${n(t.month)}" title="${n(t.month)}" style="width:8em;" /><input class="k-recur-monthday" aria-label="${n(t.date)}" title="${n(t.date)}" /></li><li class="k-radio-item"><input class="k-recur-year-radio k-radio k-radio-md" type="radio" name="year" value="weekday" title="${n(t.repeatOn)} ${n(t.day)}" /><input class="k-recur-weekday-offset" title="${n(t.repeatOn)}" style="width:8em;"/><input class="k-recur-weekday" title="${n(t.day)}" style="width:8em;"/>${n(t.of)}<input class="k-recur-month" title="${n(t.of+t.month)}" style="width:8em;"/></li></ul></div></div>`:"")+("never"!==e?`<div class="k-form-field"><label class="k-label k-form-label">${n(a.label)}</label><div class="k-form-field-wrap"><ul class="k-radio-list"><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-never k-radio k-radio-md" type="radio" name="end" value="never" title="${n(a.label)}" />${n(a.never)}</label></li><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-count k-radio k-radio-md" type="radio" name="end" value="count" title="${n(a.label)}" />${n(a.after)}</label><input class="k-recur-count" aria-label="${n(a.occurrence)}" title="${n(a.occurrence)}" />${n(a.occurrence)}</li><li class="k-radio-item"><label class="k-radio-label"><input class="k-recur-end-until k-radio k-radio-md" type="radio" name="end" value="until" title="${n(a.label)}" />${n(a.on)}</label><input class="k-recur-until" title="${n(a.on)}" aria-label="${n(a.on)}" name="recur-until" /></li></ul></div></div>`:""))),le=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],oe=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],ue=[{day:0,offset:0},{day:6,offset:0}],de=l.extend({init:function(e,t){var n,r=this,i=t&&t.frequencies;l.fn.init.call(r,e,t),r.wrapper=r.element,(t=r.options).start=n=t.start||d.today(),i&&(t.frequencies=i),"string"==typeof n&&(t.start=a.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=a.culture().calendar.firstDay),r._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{repeat:"Repeat",recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day ",date:"Date"},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of ",month:"month",day:"day",date:"Date"},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value(),e._trigger()}})},_weekDayButtons:function(e){for(var t=this,n=a.culture().calendar.days.names,r=a.culture().calendar.days.namesAbbr,i=t.options.messages.weekly.repeatOn,s=n.length,l=0,o=[],d=[];l<s;l++)o.push(l);for(n=n.slice(e).concat(n.slice(0,e)),r=r.slice(e).concat(r.slice(0,e)),o=o.slice(e).concat(o.slice(0,e)),l=0;l<s;l++)d.push({text:r[l],attributes:{"data-value":o[l],"aria-label":i+" "+n[l]}});t._container.find(".k-recur-weekday-buttons").length>0&&(t._weekDayButtonGroup=new u(t._container.find(".k-recur-weekday-buttons"),{items:d,selection:"multiple",select:function(){var e=t._value,a=t._weekDayButtonGroup.current();e.weekDays=a.map((function(e,t){return{day:Number(t.getAttribute("data-value")),offset:0}})),t.options.mobile||t._trigger()}}))},_weekDayRule:function(e){var t=this,a=(t._weekDay.element||t._weekDay).val(),n=Number((t._weekDayOffset.element||t._weekDayOffset).val()),r=null,i=null;e||("day"===a?(r=le,i=n):"weekday"===a?(r=oe,i=n):"weekend"===a?(r=ue,i=n):r=[{offset:n,day:Number(a)}]),t._value.weekDays=r,t._value.positions=i},_weekDayView:function(){var e,t,a,n,r=this,i=r._value.weekDays,s=r._value.positions,l=r._weekDayOffset;i&&(a=i.length,s&&(7===a?(t="day",e=s):5===a?(t="weekday",e=s):2===a&&(t="weekend",e=s)),t||(t=(i=i[0]).day,e=i.offset||""),l[n=l.value?"value":"val"](e),r._weekDay[n](t))},_initWeekDay:function(){var t,n=this,r=n.options.messages.weekdays,i=n.options.messages.offsetPositions,s=n._container.find(".k-recur-weekday"),l=function(){n._weekDayRule(),n._trigger()};s[0]&&(n._weekDayOffset=new o(n._container.find(".k-recur-weekday-offset"),{autoWidth:!0,change:l,dataTextField:"text",dataValueField:"value",dataSource:[{text:i.first,value:"1"},{text:i.second,value:"2"},{text:i.third,value:"3"},{text:i.fourth,value:"4"},{text:i.last,value:"-1"}]}),t=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}],n._weekDay=new o(s,{autoWidth:!0,value:n.options.start.getDay(),change:l,dataTextField:"text",dataValueField:"value",dataSource:t.concat(e.map(a.culture().calendar.days.names,(function(e,t){return{text:e,value:t}})))}),n._weekDayView())},_initWeekDays:function(){var e=this._value,t=this._weekDayButtonGroup;if(t&&e.weekDays&&e.weekDays.length){for(var a,n=e.weekDays,r=n.length,i=[],s=0;s<r;s++)i.push("[data-value='"+n[s].day+"']");a=t.element.find(i.join(",")),t.select(a)}},_initMonthDay:function(){var e=this,t=e._value,n=e._container.find(".k-recur-monthday");n[0]&&(e._monthDay=new a.ui.NumericTextBox(n,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var a=this.value();t.monthDays=a?[a]:a,e._trigger()}}))},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),a=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:a.count||1,decimals:0,format:"#",min:1,change:function(){a.count=this.value(),e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,r=e._value,i=r.until,s=i&&i<n?i:n,l=e.wrapper.closest(".k-scheduler-edit-form").find("[name=start]:visible"),o=a.format(a.ui.Validator.prototype.options.messages.date,e.options.messages.end.on),u=a.ui.Validator.prototype.options.messages.dateCompare,d=new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59);t.attr("data-validDate-msg",o),t.attr("data-untilDateCompare-msg",u),0===l.length&&(l=e.wrapper.closest(".k-scheduler-edit-form").find("[name=start]")),l.length>0&&l.val()&&d<(s=a.parseDate(l.val()))&&(d=s),e._until=t.kendoDatePicker({min:s,value:i||d,change:function(){var t=this.value();t&&(r.until=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)),e._trigger()}}).data("kendoDatePicker"),l&&l.on("change",(function(){var t=e._until.element,a=Boolean(t.attr("readonly")),n=!Boolean(t.is("[disabled]")||t.parents("fieldset").is(":disabled"));e._until.setOptions({min:l.val(),readonly:a,enable:n})}))},_trigger:function(){this.options.mobile||this.trigger("change")}}),ce=de.extend({init:function(e,t){var a=this;de.fn.init.call(a,e,t),a._initFrequency(),a._initContainer(),a.value(a.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy(),this._weekDayButtonGroup&&this._weekDayButtonGroup.destroy(),e._container.find("input[type=radio],input[type=checkbox]").off(S+e._namespace),a.destroy(e._container),de.fn.destroy.call(e)},value:function(e){var a,n,r=this,i=r.options.timezone;if(e===t)return r._value.freq?ie(r._value,i):"";r._value=ne(e,i)||{},(a=r._value.freq)?(n=r._frequency.element.find("[data-value='"+a+"']"),r._frequency.select(n)):r._frequency.select(0),r._initView(r._frequency.current().data("value"))},_initContainer:function(){var t=this.element,a=e('<div class="k-recur-view" />'),n=t.parent(".k-edit-field");n[0]?a.insertAfter(n):t.append(a),this._container=a},_initFrequency:function(){var t,a=this,n=a.options,r=n.frequencies,i=n.messages.frequencies,s=e('<div class="k-button-group-stretched k-flex-1"/>').attr({title:n.messages.recurrenceEditorTitle});r=e.map(r,(function(e){return{text:i[e],attributes:{"data-value":e,"aria-label":n.messages.repeat+i[e]}}})),(t=r[0])&&t.attributes&&"never"===t.attributes["data-value"]&&(t.attributes["data-value"]=""),a.element.append(s),a._frequency=new u(s,{items:r,select:function(){a._value={},a._initView(a._frequency.current().data("value")),a.trigger("change")}})},_initView:function(e){var t=this,n=t._value,r=t.options,i={frequency:e||"never",firstWeekDay:r.firstWeekDay,messages:r.messages[e],end:r.messages.end};t._weekDayButtonGroup&&(t._weekDayButtonGroup.destroy(),t._container.find(".k-recur-weekday-buttons").empty(),t._weekDayButtonGroup=null),a.destroy(t._container),t._container.html(se(i)),e?(n.freq=e,"weekly"!==e||n.weekDays||(n.weekDays=[{day:r.start.getDay(),offset:0}]),t._weekDayButtons(r.firstWeekDay),t._initInterval(),t._initWeekDays(),t._initMonthDay(),t._initWeekDay(),t._initMonth(),t._initCount(),t._initUntil(),t._period(),t._end()):t._value={}},_initMonth:function(){var t,n=this,r=n._value,i=r.months||[n.options.start.getMonth()+1],s=n._container.find(".k-recur-month");s[0]&&(t={autoWidth:!0,change:function(){r.months=[Number(this.value())],n.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:e.map(a.culture().calendar.months.names,(function(e,t){return{text:e,value:t+1}}))},n._month1=new o(s[0],t),n._month2=new o(s[1],t),i&&(i=i[0],n._month1.value(i),n._month2.value(i)))},_end:function(){var e,t=this,a=t._value,n=t._container,r=t._namespace,i=function(e){t._toggleEnd(e.currentTarget.value),t.trigger("change")};t._buttonNever=n.find(".k-recur-end-never").on(S+r,i),t._buttonCount=n.find(".k-recur-end-count").on(S+r,i),t._buttonUntil=n.find(".k-recur-end-until").on(S+r,i),a.count?e="count":a.until&&(e="until"),t._toggleEnd(e)},_period:function(){var e=this,t=e._value,a="monthly"===t.freq,n=a?e._toggleMonthDay:e._toggleYear,r=".k-recur-"+(a?"month":"year")+"-radio",i=e._container.find(r);(a||"yearly"===t.freq)&&(i.on(S+e._namespace,(function(t){n.call(e,t.currentTarget.value),e.trigger("change")})),e._buttonMonthDay=i.eq(0),e._buttonWeekDay=i.eq(1),n.call(e,t.weekDays?"weekday":"monthday"))},_toggleEnd:function(e){var t,a,n,r,i=this;"count"===e?(i._buttonCount.prop("checked",!0),n=!0,r=!1,t=i._count.value(),a=null):"until"===e?(i._buttonUntil.prop("checked",!0),n=!1,r=!0,t=null,a=i._until.value()):(i._buttonNever.prop("checked",!0),n=r=!1,t=a=null),i._count&&i._count.enable(n),i._until&&i._until.enable(r),i._value.count=t,i._value.until=a},_toggleMonthDay:function(e){var t,a=this,n=!1,r=!0,i=!1;"monthday"===e?(a._buttonMonthDay.prop("checked",!0),t=[a._monthDay.value()],n=!0,r=!1,i=!0):(a._buttonWeekDay.prop("checked",!0),t=null),a._weekDay.enable(r),a._weekDayOffset.enable(r),a._monthDay.enable(n),a._value.monthDays=t,a._weekDayRule(i)},_toggleYear:function(e){var t,a=this,n=!1,r=!0;"monthday"===e?(n=!0,r=!1,t=a._month1.value()):t=a._month2.value(),a._month1.enable(n),a._month2.enable(r),a._value.months=[t],a._toggleMonthDay(e)}});s.plugin(ce);var fe=a.template((({headerTitle:e})=>`<div data-role="content"><ul class="k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${e}</span><div class="k-recur-pattern k-listgroup-form-field-wrapper"></div></label></li><li class="k-item k-listgroup-item k-recur-view"></li></ul></div>`)),pe=a.template((({frequency:e,messages:t})=>("never"!==e?`<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.repeatEvery)}</span><div class="k-recur-editor-wrap k-listgroup-form-field-wrapper"><input class="k-recur-interval" type="number" pattern="\\d*"/>`+(t.interval.length?`<span class="k-recur-editor-text">${n(t.interval)}</span>`:"")+"</div></label>":"")+("weekly"===e?`<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item k-no-click"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.repeatOn)}</span></label></li><div class="k-button-group-stretched k-recur-weekday-buttons" title="${n(t.repeatOn)}"></ul>`:"")+("monthly"===e?`<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.repeatBy)}</span><div class="k-repeat-rule k-listgroup-form-field-wrapper"></div></label></li><li class="k-monthday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.day)}</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="${n(t.date)}" title="${n(t.day)}" pattern="\\d*"/></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.every)}</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="${n(t.every)}"></select></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.day)}</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="${n(t.day)}"></select></div></label></li></ul>`:"")+("yearly"===e?`<ul class="k-recur-items-wrap k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.repeatBy)}</span><div class="k-repeat-rule k-listgroup-form-field-wrapper"></div></label></li><li class="k-monthday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.day)}</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-monthday" type="number" aria-label="${n(t.date)}" title="${n(t.day)}" pattern="\\d*"/></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.every)}</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday-offset" title="${n(t.every)}"></select></div></label></li><li class="k-weekday-view k-item k-listgroup-item" style="display:none"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.day)}</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-weekday" title="${n(t.day)}"></select></div></label></li><li class="k-item k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.month)}</span><div class="k-listgroup-form-field-wrapper"><select class="k-recur-month" title="${n(t.month)}"></select></div></label></li></ul>`:""))),ye=a.template((({endPattern:e,messages:t})=>"count"===e?`<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.after)}</span><div class="k-listgroup-form-field-wrapper"><input class="k-recur-count" aria-label="${n(t.occurrence)}" type="number" pattern="\\d*" /></div></label>`:"until"===e?`<label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">${n(t.on)}</span><div class="k-listgroup-form-field-wrapper"><input type="date" class="k-recur-until" aria-label="${n(t.on)}" name="recur-until"/></div></label>`:void 0)),me=a.template((({dataSource:e,value:t})=>'<select class="k-scheduler-select">'+e.map((e=>`<option value="${e.value}" ${t===e.value?"selected":""}>${n(e.text)}</option>`)).join("")+"</select>")),ve=de.extend({init:function(e,t){var r=this;de.fn.init.call(r,e,t),t=r.options,r._optionTemplate=a.template((({value:e,text:t})=>`<option value="${n(e)}">${n(t)}</option>`)),r.value(t.value),r._pane=t.pane||r.wrapper.closest("[data-role=pane]").data("kendoPane"),r._initRepeatButton(),r._initParentRepeatEnd(),r._defaultValue=r._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var a=this,n=a.options.timezone;if(e===t)return a._value.freq?ie(a._value,n):"";a._value=ne(e,n)||{}},destroy:function(){this._destroyView(),a.destroy(this._endFields),this.element.off(S+this._namespace),de.fn.destroy.call(this)},_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").val(e._value.interval||1).on(R+e._namespace,(function(a){t.interval=a.target.value,e._trigger()}))},_initRepeatButton:function(){var t=this,a=t.options.messages.frequencies[this._value.freq||"never"];t._chevronButton=e('<span class="k-icon k-i-arrow-chevron-right"></span>'),t._repeatValue=e('<span class="">'+a+"</span>"),t.element.append(t._repeatValue).append(t._chevronButton),t.element.parents("li.k-item").on(S+t._namespace,(function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate(t._view,t.options.animations.left)}))},_endLiItem:function(){return'<li class="k-item k-listgroup-item"><label class="k-label k-listgroup-form-row"><span class="k-item-title k-listgroup-form-field-label">'+this.options.messages.end.mobileLabel+"</span></label></li>"},_initParentRepeatEnd:function(){var t=this,a=e(t._endLiItem()).insertAfter(t.element.parents("li.k-item")),n=e('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span></div>').appendTo(a.find(".k-label"));a.on(S+t._namespace,(function(e){e.preventDefault(),t._navigateToView("repeat")})),t._endParentLabelField=a.toggle(!!t._value.freq),t._endParentEndButton=n.find(".k-scheduler-recur-end").text(t._endText())},_initRepeatEnd:function(){var t=this,a=e(t._endLiItem()).insertAfter(t._container),n=e('<div class="k-scheduler-recur-end-wrap k-listgroup-form-field-wrapper"><span class="k-scheduler-recur-end"></span><span class="k-icon k-i-arrow-chevron-right"></span></div>').appendTo(a.find(".k-label"));a.on(S+t._namespace,(function(e){e.preventDefault(),t._navigateToView("end")})),t._endLabelField=a.toggleClass("k-disabled",!t._value.freq),t._endButton=n.find(".k-scheduler-recur-end").text(t._endText())},_navigateToView:function(e){var t=this;t._createView(e),t._pane.navigate(t._view,t.options.animations.left)},_endText:function(){var e=this._value,t=this.options.messages.end,n=t.never;return e.count?n=a.format("{0} {1}",t.after,e.count):e.until&&(n=a.format("{0} {1:d}",t.on,e.until)),n},_initFrequency:function(){var t=this,n=t.options.messages.frequencies,r=me({dataSource:e.map(this.options.frequencies,(function(e){return{text:n[e],value:"never"!==e?e:""}})),value:t._value.freq||"",ns:a.ns});t._view.element.find(".k-recur-pattern").append(r),t._view.element.find(".k-scheduler-select").on(R+t._namespace,(function(a){var n=a.target.value;t._value={freq:n},t._defaultValue=e.extend({},t._value),t._initRepeatView(),t._endButton.text(t._endText()),t._endParentEndButton.text(t._endText())}))},_initEndNavigation:function(){var e=this,t=e.options.messages.end.patterns,n=e._value,r="";n.count?r="count":n.until&&(r="until");var i=me({dataSource:[{text:t.never,value:""},{text:t.after,value:"count"},{text:t.on,value:"until"}],value:r,ns:a.ns});e._view.element.find(".k-recur-pattern").append(i),e._view.element.find(".k-scheduler-select").on(R+e._namespace,(function(t){var r=t.target.value,i=null,s=null;e._initEndView(r),e._count.length?(i=e._count.val(),s=null):e._until.length&&(i=null,s=e._until.val?a.parseDate(e._until.val(),"yyyy-MM-dd"):e._until.value()),n.count=i,n.until=s}))},_createView:function(t){var a=this,n=a.options.messages,r=n["repeat"===t?"repeatTitle":"endTitle"],i='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-header-cancel k-scheduler-cancel k-link" title="'+n.cancel+'"aria-label="'+n.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+n.headerTitle+'<a href="#" class="k-header-done k-scheduler-update k-link" title="'+n.update+'" aria-label="'+n.update+'"><span class="k-icon k-i-check"></span></a></div>',s=a._pane.view().id;a._view=a._pane.append(i+fe({headerTitle:r})),a._view.element.on(S+a._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",(function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(a.trigger("change"),a._defaultValue=e.extend({},a._value)):a._value=a._defaultValue;var r=a._value.freq;a._endParentEndButton.text(a._endText()),a._endParentLabelField.toggle(!!r&&"never"!==r),a._endButton.text(a._endText()),a._repeatValue.text(n.frequencies[r||"never"]),a._pane.one("viewShow",(function(){a._destroyView()})),a._pane.navigate(s,a.options.animations.right)})),a._container=a._view.element.find(".k-recur-view"),"repeat"===t?(a._initFrequency(),a._initRepeatView(),a._initRepeatEnd()):(a._initEndNavigation(),a._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove(),this._container=null),this._view=null},_initRepeatView:function(){var e=this,t=e._value.freq||"never",n={frequency:t,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[t]},r=pe(n),i=e._container=e._container||this._pane.view().content.find("li.k-recur-view"),s=e._value;if(e._endLabelField&&e._endLabelField.toggleClass("k-disabled","never"===t),a.destroy(i),i.html(r),!r)return e._value={},void i.hide();i.show(),"weekly"!==t||s.weekDays||(s.weekDays=[{day:e.options.start.getDay(),offset:0}]),e._weekDayButtons(e.options.firstWeekDay),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period()},_initMonthDay:function(){var e=this,t=e._value;(e._monthDay=e._container.find(".k-recur-monthday")).attr({min:1,max:31}).val(t.monthDays?t.monthDays[0]:e.options.start.getDate()).on(R+e._namespace,(function(a){t.count=a.target.value,e._trigger()}))},_initCount:function(){var e=this,t=e._count=e._container.find(".k-recur-count"),a=e._value;t.val(a.count||1).on(R+e._namespace,(function(t){a.count=t.target.value,e._trigger()}))},_initEndView:function(e){var n=this,r=n._value;e===t&&(r.count?e="count":r.until&&(e="until"));var i={endPattern:e,messages:n.options.messages.end};a.destroy(n._container),n._container.html(ye(i)),n._initCount(),n._initUntil()},_initWeekDay:function(){var t,n=this,r=n.options.messages.weekdays,i=n.options.messages.offsetPositions,s=n._container.find(".k-recur-weekday"),l=function(){n._weekDayRule(),n.trigger("change")};s[0]&&(n._weekDayOffset=n._container.find(".k-recur-weekday-offset").html(n._options([{text:i.first,value:"1"},{text:i.second,value:"2"},{text:i.third,value:"3"},{text:i.fourth,value:"4"},{text:i.last,value:"-1"}])).on("change",l),t=(t=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}]).concat(e.map(a.culture().calendar.days.names,(function(e,t){return{text:e,value:t}}))),n._weekDay=s.html(n._options(t)).on("change",l).val(n.options.start.getDay()),n._weekDayView())},_initMonth:function(){var t=this,n=t._value,r=t.options.start,i=n.months||[r.getMonth()+1],s=t._container.find(".k-recur-month"),l=a.culture().calendar.months.names;if(s[0]){var o=e.map(l,(function(e,t){return{text:e,value:t+1}}));s.html(t._options(o)).on("change",(function(){n.months=[Number(this.value)]})),t._monthSelect=s,i&&s.val(i[0])}},_period:function(){var e=this,t=e._value,n=e._container,r=e.options.messages[t.freq],i=n.find(".k-repeat-rule"),s=n.find(".k-weekday-view"),l=n.find(".k-monthday-view");if(i[0]){var o=t.weekDays?"weekday":"monthday",u=me({value:o,dataSource:[{text:r.dayOfMonth,value:"monthday"},{text:r.dayOfWeek,value:"weekday"}],ns:a.ns}),d=function(a){var n=e._weekDay.val(),r=e._weekDayOffset.val(),i=e._monthDay.val(),o=e._monthSelect?e._monthSelect.val():null;"monthday"===a?(t.weekDays=null,t.monthDays=i?[i]:i,t.months=o?[Number(o)]:o,s.hide(),l.show()):(t.monthDays=null,t.months=o?[Number(o)]:o,t.weekDays=[{offset:Number(r),day:Number(n)}],s.show(),l.hide())};i.append(u),i.find(".k-scheduler-select").on(R+e._namespace,(function(e){d(e.target.value)})),d(o)}},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,r=e._value,i=r.until,s=i&&i<n?i:n,l=a.format(a.ui.Validator.prototype.options.messages.date,e.options.messages.end.on),o=a.ui.Validator.prototype.options.messages.dateCompare;t.attr("data-validDate-msg",l),t.attr("data-untilDateCompare-msg",o),a.support.input.date?e._until=t.attr("min",a.toString(s,"yyyy-MM-dd")).val(a.toString(i||n,"yyyy-MM-dd")).on("change",(function(){var t=a.parseDate(this.value,"yyyy-MM-dd");t&&(r.until=t),e._trigger()})):e._until=t.kendoDatePicker({min:s,value:i||n,change:function(){var t=this.value();t&&(r.until=t),e._trigger()}}).data("kendoDatePicker")},_options:function(e,t){var a=0,n="",r=e.length,i=this._optionTemplate;for(t&&(n+=i({value:"",text:t}));a<r;a++)n+=i(e[a]);return n}});s.plugin(ve)}(window.kendo.jQuery);
//# sourceMappingURL=kendo.scheduler.recurrence.js.map
