{"version":3,"file":"kendo.reorderable.js","names":["__meta__","id","name","category","depends","advanced","$","undefined$1","kendo","window","outerWidth","_outerWidth","outerHeight","_outerHeight","getOffset","Widget","ui","CHANGE","Reorderable","extend","init","element","options","draggable","that","this","group","guid","fn","call","addClass","Draggable","autoScroll","filter","hint","dropFilter","reorderDropCue","find","kendoDropTarget","dragenter","e","externalDraggableInstance","_externalDraggable","_draggable","_handleExternalDraggable","offset","dropTarget","denied","_isPartOfSortable","_dropTargetAllowed","_isLastDraggable","toggleHintClass","cueOffset","top","left","isHorizontal","orientation","smartPosition","inSameContainer","source","target","sourceIndex","_index","targetIndex","_dropTarget","css","height","zIndex","appendTo","document","body","positionDropCue","dragleave","remove","drop","dropIndex","isAfter","trigger","oldIndex","newIndex","position","bind","dragcancel","_dragcancel","dragend","_dragend","dragstart","_dragstart","drag","_drag","deniedIcon","allowIcon","events","removeClass","draggableFilter","trimStart","substring","_dragcancelHandler","_dragendHandler","_dragstartHandler","_dragHandler","currentTarget","closest","_draggableInstance","_elements","unbind","is","sender","hasClass","dropStartOffset","width","pageX","dropStartTop","pageY","dragOverContainers","index","externalDraggable","item","elements","get","found","length","pop","destroy","each","data","plugin","jQuery"],"sources":["kendo.reorderable.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.draganddrop.js';\n\nvar __meta__ = {\n    id: \"reorderable\",\n    name: \"Reorderable\",\n    category: \"framework\",\n    depends: [ \"core\", \"draganddrop\" ],\n    advanced: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        getOffset = kendo.getOffset,\n        Widget = kendo.ui.Widget,\n        CHANGE = \"change\",\n        KREORDERABLE = \"k-reorderable\";\n\n    var Reorderable = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                draggable,\n                group = kendo.guid() + \"-reorderable\";\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element.addClass(KREORDERABLE);\n            options = that.options;\n\n            that.draggable = draggable = options.draggable || new kendo.ui.Draggable(element, {\n                group: group,\n                autoScroll: true,\n                filter: options.filter,\n                hint: options.hint\n            });\n\n            if (!that.options.dropFilter) {\n                that.options.dropFilter = draggable.options.filter;\n            }\n\n            that.reorderDropCue = that.options.reorderDropCue;\n\n            element.find(options.dropFilter).kendoDropTarget({\n                group: draggable.options.group,\n                dragenter: function(e) {\n                    var externalDraggableInstance = that._externalDraggable(e);\n\n                    if (!that._draggable && !externalDraggableInstance) {\n                        return;\n                    }\n\n                    if (externalDraggableInstance) {\n                        that._handleExternalDraggable(externalDraggableInstance);\n                    }\n\n                    var dropTarget = this.element, offset;\n\n                    var denied = that._isPartOfSortable(that._draggable) ? (!that._dropTargetAllowed(dropTarget) || that._isLastDraggable()) : false;\n\n                    that.toggleHintClass(e.draggable.hint, denied);\n\n                    if (!denied) {\n                        offset = getOffset(dropTarget);\n                        var cueOffset = { top: offset.top, left: offset.left };\n                        var isHorizontal = options.orientation === \"horizontal\";\n\n                        if (!options.smartPosition || (options.inSameContainer && !options.inSameContainer({\n                            source: dropTarget,\n                            target: that._draggable,\n                            sourceIndex: that._index(dropTarget),\n                            targetIndex: that._index(that._draggable)\n                        }))) {\n                            that._dropTarget = dropTarget;\n                        } else {\n                            if (that._index(dropTarget) > that._index(that._draggable) && options.smartPosition) {\n                                cueOffset[isHorizontal ? \"left\" : \"top\"] += isHorizontal ? outerWidth(dropTarget) : outerHeight(dropTarget);\n                            }\n                        }\n\n                        that.reorderDropCue.css({\n                            height: outerHeight(dropTarget),\n                            top: cueOffset.top,\n                            left: cueOffset.left,\n                            zIndex: 19000\n                        })\n                        .appendTo(document.body);\n\n                        if (options.positionDropCue) {\n                            options.positionDropCue(that.reorderDropCue, dropTarget);\n                        }\n                    }\n                },\n                dragleave: function(e) {\n                    that.toggleHintClass(e.draggable.hint, true);\n                    that.reorderDropCue.remove();\n                    that._dropTarget = null;\n                },\n                drop: function() {\n                    that._dropTarget = null;\n\n                    if (!that._draggable) {\n                        return;\n                    }\n                    var dropTarget = this.element;\n                    var draggable = that._draggable;\n                    var dropIndex = that._index(dropTarget);\n\n                    var isAfter = that.options.orientation === \"horizontal\" ?\n                        getOffset(that.reorderDropCue).left > getOffset(dropTarget).left :\n                        getOffset(that.reorderDropCue).top > getOffset(dropTarget).top;\n\n                    dropIndex = isAfter ? dropIndex + 1 : dropIndex;\n\n                    if (that._dropTargetAllowed(dropTarget) && !that._isLastDraggable() && that._index(draggable) !== dropIndex) {\n                        that.trigger(CHANGE, {\n                            element: that._draggable,\n                            target: dropTarget,\n                            oldIndex: that._index(draggable),\n                            newIndex: that._index(dropTarget),\n                            position: isAfter ? \"after\" : \"before\"\n                        });\n                    }\n\n                    if (that.reorderDropCue) {\n                        that.reorderDropCue.remove();\n                    }\n                }\n            });\n\n            draggable.bind([ \"dragcancel\", \"dragend\", \"dragstart\", \"drag\" ], {\n                dragcancel: that._dragcancel.bind(that),\n                dragend: that._dragend.bind(that),\n                dragstart: that._dragstart.bind(that),\n                drag: that._drag.bind(that)\n            });\n        },\n\n        options: {\n            name: \"Reorderable\",\n            filter: \"*\",\n            orientation: \"horizontal\",\n            deniedIcon: \"k-i-cancel\",\n            allowIcon: \"k-i-plus\",\n            reorderDropCue: $('<div class=\"k-reorder-cue\"></div></div>'),\n            smartPosition: true\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        toggleHintClass: function(hint, denied) {\n            var that = this,\n                options = that.options;\n\n            hint = $(hint);\n\n            if (denied) {\n                hint.find(\".k-drag-status\").removeClass(options.allowIcon).addClass(options.deniedIcon);\n            } else {\n                hint.find(\".k-drag-status\").removeClass(options.deniedIcon).addClass(options.allowIcon);\n            }\n        },\n\n        _handleExternalDraggable: function(draggable) {\n            var that = this;\n            var draggableFilter = that.options.dropFilter.trimStart();\n\n            // make direct child selectors compatible with .closest()\n            if (draggableFilter && draggableFilter[0] == \">\") {\n                draggableFilter = draggableFilter.substring(1);\n            }\n\n            that._dragcancelHandler = that._dragcancel.bind(that);\n            that._dragendHandler = that._dragend.bind(that);\n            that._dragstartHandler = that._dragstart.bind(that);\n            that._dragHandler = that._drag.bind(that);\n\n            that._draggable = draggable.currentTarget.closest(draggableFilter);\n            that._draggableInstance = draggable;\n            that._elements = that.element.find(that.options.dropFilter);\n\n            draggable.bind([ \"dragcancel\", \"dragend\", \"dragstart\", \"drag\" ], {\n                dragcancel: that._dragcancelHandler,\n                dragend: that._dragendHandler,\n                dragstart: that._dragstartHandler,\n                drag: that._dragHandler\n            });\n        },\n\n        _dragcancel: function() {\n            var that = this;\n\n            if (that._draggableInstance && (that._dragcancelHandler || that._dragendHandler ||\n                that._dragstartHandler || that._dragHandler)) {\n\n                    that._draggableInstance.unbind({\n                    dragcancel: that._dragcancelHandler,\n                    dragend: that._dragendHandler,\n                    dragstart: that._dragstartHandler,\n                    drag: that._dragHandler\n                });\n            }\n\n            if (that.reorderDropCue) {\n                that.reorderDropCue.remove();\n            }\n\n            that._draggable = null;\n            that._elements = null;\n\n        },\n        _dragend: function() {\n            var that = this;\n\n            if (that._draggableInstance && (that._dragcancelHandler || that._dragendHandler ||\n                that._dragstartHandler || that._dragHandler)) {\n\n                    that._draggableInstance.unbind({\n                    dragcancel: that._dragcancelHandler,\n                    dragend: that._dragendHandler,\n                    dragstart: that._dragstartHandler,\n                    drag: that._dragHandler\n                });\n            }\n\n            if (that.reorderDropCue) {\n                that.reorderDropCue.remove();\n            }\n\n            that._draggable = null;\n            that._elements = null;\n        },\n        _dragstart: function(e) {\n            var that = this;\n            var target = $(e.currentTarget);\n            var draggableFilter = that.options.dropFilter.trimStart();\n\n            // make direct child selectors compatible with .closest()\n            if (draggableFilter && draggableFilter[0] == \">\") {\n                draggableFilter = draggableFilter.substring(1);\n            }\n\n            that._draggable = target.is(draggableFilter) ? target : target.closest(draggableFilter);\n            that._elements = that.element.find(that.options.dropFilter);\n        },\n        _drag: function(e) {\n            var that = this,\n                dropIndex, sourceIndex, denied,\n                offset = {},\n                target,\n                draggableFilter = that.options.dropFilter.trimStart();\n\n            // make direct child selectors compatible with .closest()\n            if (draggableFilter && draggableFilter[0] == \">\") {\n                draggableFilter = draggableFilter.substring(1);\n            }\n\n            target = $(e.currentTarget).closest(draggableFilter);\n\n            if (!that._dropTarget || (that.options.smartPosition && e.sender.hint.find(\".k-drag-status\").hasClass(\"k-i-cancel\"))) {\n                return;\n            }\n\n            dropIndex = that._index(that._dropTarget);\n            sourceIndex = that._index(target);\n            sourceIndex = dropIndex > sourceIndex ? sourceIndex + 1 : sourceIndex;\n\n            if (that.options.orientation === \"horizontal\") {\n                var dropStartOffset = getOffset(that._dropTarget).left;\n                var width = outerWidth(that._dropTarget);\n\n                if (e.pageX > dropStartOffset + width / 2) {\n                    offset.left = dropStartOffset + width;\n                    dropIndex += 1;\n                } else {\n                    offset.left = dropStartOffset;\n                }\n            } else {\n                var dropStartTop = getOffset(that._dropTarget).top;\n                var height = outerHeight(that._dropTarget);\n\n                if (e.pageY > dropStartTop + height / 2) {\n                    offset.top = dropStartTop + height;\n                    dropIndex += 1;\n                } else {\n                    offset.top = dropStartTop;\n                }\n            }\n\n            that.reorderDropCue.css(offset);\n\n            if (that.options.positionDropCue) {\n                that.options.positionDropCue(that.reorderDropCue, that._dropTarget);\n            }\n\n            if (that._isPartOfSortable(target)) {\n\n                denied = sourceIndex === dropIndex || (that.options.dragOverContainers && !that.options.dragOverContainers(sourceIndex, dropIndex));\n\n                that.toggleHintClass(e.sender.hint, denied);\n            }\n        },\n\n        _isPartOfSortable: function(draggable) {\n            var that = this;\n\n            return that._elements.index(draggable) >= 0;\n        },\n\n        _externalDraggable: function(e) {\n            var that = this,\n                options = that.options;\n\n            if (!that._draggable && options.externalDraggable) {\n                return options.externalDraggable(e);\n            }\n\n            return null;\n        },\n\n        _isLastDraggable: function() {\n            var inSameContainer = this.options.inSameContainer,\n                draggable = this._draggable[0],\n                elements = this._elements.get(),\n                found = false,\n                item;\n\n            if (!inSameContainer) {\n                return false;\n            }\n\n            while (!found && elements.length > 0) {\n                item = elements.pop();\n                found = draggable !== item && inSameContainer({\n                    source: draggable,\n                    target: item,\n                    sourceIndex: this._index(draggable),\n                    targetIndex: this._index(item)\n                });\n            }\n\n            return !found;\n        },\n\n        _dropTargetAllowed: function(dropTarget) {\n            var inSameContainer = this.options.inSameContainer,\n                dragOverContainers = this.options.dragOverContainers,\n                draggable = this._draggable;\n\n            if (draggable[0] === dropTarget[0]) {\n                return false;\n            }\n\n            if (!inSameContainer || !dragOverContainers) {\n                return true;\n            }\n\n            if (inSameContainer({ source: draggable,\n                target: dropTarget,\n                sourceIndex: this._index(draggable),\n                targetIndex: this._index(dropTarget)\n            })) {\n                return true;\n            }\n\n            return dragOverContainers(this._index(draggable), this._index(dropTarget));\n        },\n\n        _index: function(element) {\n            return this._elements.index(element);\n        },\n\n        destroy: function() {\n           var that = this;\n\n\n           Widget.fn.destroy.call(that);\n\n           that.element.find(that.options.dropFilter).each(function() {\n               var item = $(this);\n               if (item.data(\"kendoDropTarget\")) {\n                   item.data(\"kendoDropTarget\").destroy();\n                }\n            });\n\n            if (that.draggable) {\n                that.draggable.destroy();\n\n                that.draggable.element = that.draggable = null;\n            }\n\n            that.reorderDropCue.remove();\n            that.elements = that.reorderDropCue = that._elements = that._draggable = null;\n       }\n    });\n\n    kendo.ui.plugin(Reorderable);\n\n})(window.kendo.jQuery);\n"]}