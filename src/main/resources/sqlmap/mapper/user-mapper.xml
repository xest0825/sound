<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="User">

    <select id="getUserList" parameterType="io.plasma.sound.user.UserVO" resultType="Hmap">
        /* user-mapper.xml getUserList  사용자 조회 */
        <include refid="getUserListSql" />
    </select>

    <sql id="getUserListSql">
           SELECT  user_id /* varchar(40) 사용자ID */
                , user_nm /* varchar(100) 사용자명 */
                , email   /* varchar(300) 이메일 */
                , mob_no  /* varchar(300) 휴대폰번호 */
                , in_id   /* varchar(40) 입력자 ID */
                , in_dtm  /* datetime    입력일시 */
                , mod_id  /* varchar(40) 수정자 ID */
                , mod_dtm /* datetime    수정일시 */
             FROM tb_user tb1
        <where>
                 1 = 1
        </where>
    </sql>

    <insert id="insertUser" parameterType="io.plasma.sound.user.UserVO">
        /* user-mapper.xml insertUser  사용자 입력 */
        INSERT
          INTO tb_user
             (
               user_id /* varchar(40) 사용자ID */
             , user_nm /* varchar(100) 사용자명 */
             , email   /* varchar(300) 이메일 */
             , mob_no  /* varchar(300) 휴대폰번호 */
             , in_id   /* varchar(40) 입력자 ID */
             , in_dtm  /* datetime    입력일시 */
             , mod_id  /* varchar(40) 수정자 ID */
             , mod_dtm /* datetime    수정일시 */
             )
        VALUES
             (
               #{user_id} /* varchar(40) 사용자ID */
             , #{user_nm} /* varchar(100) 사용자명 */
             , #{email}   /* varchar(300) 이메일 */
             , #{mob_no}  /* varchar(300) 휴대폰번호 */
             , #{in_id}   /* varchar(40) 입력자 ID */
             , #{in_dtm}  /* datetime    입력일시 */
             , #{mod_id}  /* varchar(40) 수정자 ID */
             , #{mod_dtm} /* datetime    수정일시 */
             )
    </insert>

    <update id="updateUser" parameterType="io.plasma.sound.user.UserVO">
        /* user-mapper.xml updateUser  사용자 수정 */
        UPDATE tb_user
           SET mod_dtm = NOW()
             , user_nm = #{user_nm} /* varchar(100) 사용자명 */
             , email = #{email}   /* varchar(300) 이메일 */
             , mob_no = #{mob_no}  /* varchar(300) 휴대폰번호 */
             , in_id = #{in_id}   /* varchar(40) 입력자 ID */
             , in_dtm = #{in_dtm}  /* datetime    입력일시 */
             , mod_id = #{mod_id}  /* varchar(40) 수정자 ID */
             , mod_dtm = #{mod_dtm} /* datetime    수정일시 */
         WHERE user_id = #{user_id}
    </update>

    <delete id="deleteUser" parameterType="io.plasma.sound.user.UserVO">
        /* user-mapper.xml deleteUser  사용자 삭제 */
        DELETE FROM tb_user
         WHERE user_id = #{user_id}
    </delete>

</mapper>
